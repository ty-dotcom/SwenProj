module.exports = [
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[project]/frontend/src/app/data:12b390 [app-ssr] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"0013efd431aeec33c71b951cae25a9f1dcd4c393d0":"getToken"},"frontend/src/app/actions.ts",""] */ __turbopack_context__.s([
    "getToken",
    ()=>getToken
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/frontend/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var getToken = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("0013efd431aeec33c71b951cae25a9f1dcd4c393d0", __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getToken"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcclxuaW1wb3J0IHsgY2xlcmtDbGllbnQsIGN1cnJlbnRVc2VyIH0gZnJvbSBcIkBjbGVyay9uZXh0anMvc2VydmVyXCI7XHJcbmltcG9ydCB7IFN0cmVhbUNsaWVudCB9IGZyb20gXCJAc3RyZWFtLWlvL25vZGUtc2RrXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG9rZW4oKSB7XHJcbiAgY29uc3Qgc3RyZWFtQXBpS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RSRUFNX1ZJREVPX0FQSV9LRVk7XHJcbiAgY29uc3Qgc3RyZWFtQXBpU2VjcmV0ID0gcHJvY2Vzcy5lbnYuU1RSRUFNX1ZJREVPX0FQSV9TRUNSRVQ7XHJcbiAgaWYgKCFzdHJlYW1BcGlLZXkgfHwgIXN0cmVhbUFwaVNlY3JldCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU3RyZWFtIEFQSSBrZXkgb3Igc2VjcmV0IG5vdCBzZXRcIik7XHJcbiAgfVxyXG5cclxuICBjb25zdCB1c2VyID0gYXdhaXQgY3VycmVudFVzZXIoKTtcclxuXHJcbiAgLy8gY29uc29sZS5sb2coXCJHZW5lcmF0aW5nIHRva2VuIGZvciB1c2VyOiBcIiwgdXNlcj8uaWQpO1xyXG5cclxuICBpZiAoIXVzZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIlVzZXIgbm90IGF1dGhlbnRpY2F0ZWRcIik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdHJlYW1DbGllbnQgPSBuZXcgU3RyZWFtQ2xpZW50KHN0cmVhbUFwaUtleSwgc3RyZWFtQXBpU2VjcmV0KTtcclxuXHJcbiAgY29uc3QgZXhwaXJhdGlvblRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArIDYwICogNjA7XHJcblxyXG4gIGNvbnN0IGlzc3VlZEF0ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkgLSA2MDtcclxuXHJcbiAgY29uc3QgdG9rZW4gPSBzdHJlYW1DbGllbnQuZ2VuZXJhdGVVc2VyVG9rZW4oe1xyXG4gICAgdXNlcl9pZDogdXNlci5pZCxcclxuICAgIGV4cDogZXhwaXJhdGlvblRpbWUsXHJcbiAgICBpYXQ6IGlzc3VlZEF0XHJcbiAgfSk7XHJcblxyXG4gIC8vIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IGdlbmVyYXRlZCB0b2tlbjogXCIsIHRva2VuKTtcclxuXHJcbiAgcmV0dXJuIHRva2VuO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWRtaW5JZCgpIHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IChhd2FpdCBjbGVya0NsaWVudCgpKS51c2Vycy5nZXRVc2VyTGlzdCh7XHJcbiAgICB1c2VybmFtZTogW1wiYWRtaW5cIl0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiByZXNwb25zZS5kYXRhWzBdLmlkO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcklkcyhlbWFpbEFkZHJlc3Nlczogc3RyaW5nW10pIHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IChhd2FpdCBjbGVya0NsaWVudCgpKS51c2Vycy5nZXRVc2VyTGlzdCh7XHJcbiAgICBlbWFpbEFkZHJlc3M6IGVtYWlsQWRkcmVzc2VzLFxyXG4gIH0pO1xyXG4gIHJldHVybiByZXNwb25zZS5kYXRhLm1hcCgodXNlcikgPT4gdXNlci5pZCk7XHJcbn0iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjZSQUlzQiJ9
}),
"[project]/frontend/src/app/ClientProvider.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>ClientProvider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/frontend/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
(()=>{
    const e = new Error("Cannot find module '@clerk/nextjs'");
    e.code = 'MODULE_NOT_FOUND';
    throw e;
})();
(()=>{
    const e = new Error("Cannot find module '@stream-io/video-react-sdk'");
    e.code = 'MODULE_NOT_FOUND';
    throw e;
})();
(()=>{
    const e = new Error("Cannot find module 'lucide-react'");
    e.code = 'MODULE_NOT_FOUND';
    throw e;
})();
var __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$nanoid$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/frontend/node_modules/nanoid/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/frontend/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$src$2f$app$2f$data$3a$12b390__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/frontend/src/app/data:12b390 [app-ssr] (ecmascript) <text/javascript>");
"use client";
;
;
;
;
;
;
;
function ClientProvider({ children }) {
    const videoClient = useInitializeVideoClient();
    if (!videoClient) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex h-screen items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(Loader2, {
                className: "mx-auto animate-spin"
            }, void 0, false, {
                fileName: "[project]/frontend/src/app/ClientProvider.tsx",
                lineNumber: 24,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/frontend/src/app/ClientProvider.tsx",
            lineNumber: 23,
            columnNumber: 7
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(StreamVideo, {
        client: videoClient,
        children: children
    }, void 0, false, {
        fileName: "[project]/frontend/src/app/ClientProvider.tsx",
        lineNumber: 29,
        columnNumber: 10
    }, this);
}
function useInitializeVideoClient() {
    const { user, isLoaded: userLoaded } = useUser();
    const ref = (0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const [videoClient, setVideoClient] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useLayoutEffect"])(()=>{
        if (!userLoaded) return;
        let streamUser;
        if (user?.id) {
            streamUser = {
                id: user.id,
                name: user.username || user.id,
                image: user.imageUrl
            };
        } else {
            const id = (0, __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$node_modules$2f$nanoid$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["nanoid"])();
            streamUser = {
                id,
                type: "guest",
                name: `Guest ${id}`
            };
        }
        const apiKey = ("TURBOPACK compile-time value", "ae9drffmpcc9");
        if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
        ;
        ref.current = new StreamVideoClient({
            apiKey,
            user: streamUser,
            tokenProvider: user?.id ? __TURBOPACK__imported__module__$5b$project$5d2f$frontend$2f$src$2f$app$2f$data$3a$12b390__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getToken"] : undefined
        });
        setVideoClient(ref.current);
        return ()=>{
            ref.current?.disconnectUser();
            setVideoClient(null);
        };
    }, [
        user?.id,
        user?.username,
        user?.imageUrl,
        userLoaded
    ]);
    return videoClient;
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__78af5f81._.js.map