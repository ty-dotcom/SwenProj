{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/tyree/Codes/JS/SWEN/frontend/src/app/meetings/MyMeetingsPage.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useUser } from \"@clerk/nextjs\";\r\nimport { Call, useStreamVideoClient } from \"@stream-io/video-react-sdk\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function MyMeetingsPage() {\r\n  const { user } = useUser();\r\n\r\n  const client = useStreamVideoClient();\r\n\r\n  const [calls, setCalls] = useState<Call[]>();\r\n\r\n  useEffect(() => {\r\n    async function loadCalls() {\r\n      if (!client || !user?.id) {\r\n        return;\r\n      }\r\n\r\n      const { calls } = await client.queryCalls({\r\n        sort: [{ field: \"starts_at\", direction: -1 }],\r\n        filter_conditions: {\r\n          starts_at: { $exists: true },\r\n          $or: [\r\n            { created_by_user_id: user.id },\r\n            { members: { $in: [user.id] } },\r\n          ],\r\n        },\r\n      });\r\n\r\n      setCalls(calls);\r\n    }\r\n\r\n    loadCalls();\r\n  }, [client, user?.id]);\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <h1 className=\"text-center text-2xl font-bold\">My Meetings</h1>\r\n      {!calls && <Loader2 className=\"mx-auto animate-spin\" />}\r\n      {calls?.length === 0 && <p>No meetings found</p>}\r\n      <ul className=\"list-inside list-disc space-y-2\">\r\n        {calls?.map((call) => <MeetingItem key={call.id} call={call} />)}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface MeetingItemProps {\r\n  call: Call;\r\n}\r\n\r\nfunction MeetingItem({ call }: MeetingItemProps) {\r\n  const meetingLink = `/meeting/${call.id}`;\r\n\r\n  const isInFuture =\r\n    call.state.startsAt && new Date(call.state.startsAt) > new Date();\r\n\r\n  const hasEnded = !!call.state.endedAt;\r\n\r\n  return (\r\n    <li>\r\n      <Link href={meetingLink} className=\"hover:underline\">\r\n        {call.state.startsAt?.toLocaleString()}\r\n        {isInFuture && \" (Upcoming)\"}\r\n        {hasEnded && \" (Ended)\"}\r\n      </Link>\r\n      <p className=\"ml-6 text-gray-500\">{call.state.custom.description}</p>\r\n    </li>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,uKAAO;IAExB,MAAM,SAAS,IAAA,2MAAoB;IAEnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ;IAElC,IAAA,8NAAS,EAAC;QACR,eAAe;YACb,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI;gBACxB;YACF;YAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,UAAU,CAAC;gBACxC,MAAM;oBAAC;wBAAE,OAAO;wBAAa,WAAW,CAAC;oBAAE;iBAAE;gBAC7C,mBAAmB;oBACjB,WAAW;wBAAE,SAAS;oBAAK;oBAC3B,KAAK;wBACH;4BAAE,oBAAoB,KAAK,EAAE;wBAAC;wBAC9B;4BAAE,SAAS;gCAAE,KAAK;oCAAC,KAAK,EAAE;iCAAC;4BAAC;wBAAE;qBAC/B;gBACH;YACF;YAEA,SAAS;QACX;QAEA;IACF,GAAG;QAAC;QAAQ,MAAM;KAAG;IAErB,qBACE,0PAAC;QAAI,WAAU;;0BACb,0PAAC;gBAAG,WAAU;0BAAiC;;;;;;YAC9C,CAAC,uBAAS,0PAAC,4NAAO;gBAAC,WAAU;;;;;;YAC7B,OAAO,WAAW,mBAAK,0PAAC;0BAAE;;;;;;0BAC3B,0PAAC;gBAAG,WAAU;0BACX,OAAO,IAAI,CAAC,qBAAS,0PAAC;wBAA0B,MAAM;uBAAf,KAAK,EAAE;;;;;;;;;;;;;;;;AAIvD;AAMA,SAAS,YAAY,EAAE,IAAI,EAAoB;IAC7C,MAAM,cAAc,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE;IAEzC,MAAM,aACJ,KAAK,KAAK,CAAC,QAAQ,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,QAAQ,IAAI,IAAI;IAE7D,MAAM,WAAW,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO;IAErC,qBACE,0PAAC;;0BACC,0PAAC,mLAAI;gBAAC,MAAM;gBAAa,WAAU;;oBAChC,KAAK,KAAK,CAAC,QAAQ,EAAE;oBACrB,cAAc;oBACd,YAAY;;;;;;;0BAEf,0PAAC;gBAAE,WAAU;0BAAsB,KAAK,KAAK,CAAC,MAAM,CAAC,WAAW;;;;;;;;;;;;AAGtE","debugId":null}}]
}