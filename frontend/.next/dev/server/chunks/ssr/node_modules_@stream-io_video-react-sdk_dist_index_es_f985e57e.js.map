{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/@stream-io/video-react-sdk/dist/index.es.js","sources":["file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/Audio/Audio.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/Audio/ParticipantsAudio.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/ParticipantView/ParticipantViewContext.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/hooks/useFloatingUIPreset.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/hooks/usePersistedDevicePreferences.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/hooks/useScrollPosition.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/hooks/useRequestPermission.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/hooks/useDeviceList.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Menu/MenuToggle.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Menu/GenericMenu.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Icon/Icon.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/hooks/usePictureInPictureState.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/ParticipantView/ParticipantActionsContextMenu.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/utilities/isComponentType.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/utilities/chunk.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/utilities/applyElementToRef.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/Video/BaseVideo.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/Video/BaseVideoPlaceholder.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/Video/DefaultVideoPlaceholder.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/Video/DefaultPictureInPicturePlaceholder.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/Video/Video.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/hooks/useTrackElementVisibility.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Avatar/Avatar.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/BackgroundFilters/BackgroundFilters.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Button/IconButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Button/CompositeButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Button/TextButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/AcceptCallButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Notification/Notification.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Notification/PermissionNotification.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Notification/SpeakingWhileMutedNotification.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Notification/RecordingInProgressNotification.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/LoadingIndicator/LoadingIndicator.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Tooltip/Tooltip.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Tooltip/hooks/useEnterLeaveHandlers.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Tooltip/WithTooltip.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/RecordCallButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Reaction/Reaction.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/ReactionsButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/utilities/callControlHandler.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/ScreenShareButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/DropdownSelect/DropdownSelect.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/DeviceSettings/DeviceSelector.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/DeviceSettings/DeviceSelectorAudio.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/DeviceSettings/DeviceSelectorVideo.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/DeviceSettings/DeviceSettings.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/ToggleAudioButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/ToggleVideoButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/CancelCallButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/CallControls.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallStats/CallStats.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/CallStatsButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallControls/ToggleAudioOutputButton.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallParticipantsList/BlockedUserListing.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallParticipantsList/CallParticipantListHeader.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallParticipantsList/CallParticipantListingItem.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallParticipantsList/CallParticipantListing.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallParticipantsList/EmptyParticipantSearchList.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Search/SearchInput.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Search/SearchResults.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Search/hooks/useSearch.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallParticipantsList/CallParticipantsList.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallPreview/CallPreview.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallRecordingList/CallRecordingListHeader.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallRecordingList/CallRecordingListItem.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallRecordingList/EmptyCallRecordingListing.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallRecordingList/LoadingCallRecordingListing.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/CallRecordingList/CallRecordingList.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/NoiseCancellation/NoiseCancellationProvider.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/RingingCall/RingingCallControls.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/RingingCall/RingingCall.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/Permissions/PermissionRequests.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/StreamTheme/StreamTheme.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/components/VideoPreview/VideoPreview.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/ParticipantView/DefaultParticipantViewUI.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/ParticipantView/ParticipantView.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/StreamCall/StreamCall.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/translations/index.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/StreamVideo/StreamVideo.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/utilities/filter.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/CallLayout/hooks.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/CallLayout/LivestreamLayout.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/CallLayout/PaginatedGridLayout.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/hooks/useCalculateHardLimit.ts","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/CallLayout/SpeakerLayout.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/core/components/CallLayout/PipLayout.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/src/wrappers/LivestreamPlayer/LivestreamPlayer.tsx","file:///C:/Users/tyree/Codes/JS/SwenProj/frontend/node_modules/%40stream-io/index.ts"],"sourcesContent":["import { ComponentPropsWithoutRef, useEffect, useState } from 'react';\nimport {\n  AudioTrackType,\n  StreamVideoParticipant,\n} from '@stream-io/video-client';\nimport { useCall } from '@stream-io/video-react-bindings';\n\nexport type AudioProps = ComponentPropsWithoutRef<'audio'> & {\n  /**\n   * The participant whose audio stream we want to play.\n   */\n  participant: StreamVideoParticipant;\n\n  /**\n   * The type of audio stream to play for the given participant.\n   * The default value is `audioTrack`.\n   */\n  trackType?: AudioTrackType;\n};\n\nexport const Audio = ({\n  participant,\n  trackType = 'audioTrack',\n  ...rest\n}: AudioProps) => {\n  const call = useCall();\n  const [audioElement, setAudioElement] = useState<HTMLAudioElement | null>(\n    null,\n  );\n  const { userId, sessionId } = participant;\n\n  useEffect(() => {\n    if (!call || !audioElement) return;\n    const cleanup = call.bindAudioElement(audioElement, sessionId, trackType);\n    return () => {\n      cleanup?.();\n    };\n  }, [call, sessionId, audioElement, trackType]);\n\n  return (\n    <audio\n      autoPlay\n      {...rest}\n      ref={setAudioElement}\n      data-user-id={userId}\n      data-session-id={sessionId}\n      data-track-type={trackType}\n    />\n  );\n};\n\nAudio.displayName = 'Audio';\n","import { ComponentProps, Fragment } from 'react';\nimport {\n  hasAudio,\n  hasScreenShareAudio,\n  StreamVideoParticipant,\n} from '@stream-io/video-client';\nimport { Audio } from './Audio';\n\nexport type ParticipantsAudioProps = {\n  /**\n   * The participants to play audio for.\n   */\n  participants: StreamVideoParticipant[];\n\n  /**\n   * Props to pass to the underlying `Audio` components.\n   */\n  audioProps?: ComponentProps<typeof Audio>;\n};\n\nexport const ParticipantsAudio = (props: ParticipantsAudioProps) => {\n  const { participants, audioProps } = props;\n  return (\n    <>\n      {participants.map((participant) => {\n        if (participant.isLocalParticipant) return null;\n        const { audioStream, screenShareAudioStream, sessionId } = participant;\n\n        const hasAudioTrack = hasAudio(participant);\n        const audioTrackElement = hasAudioTrack && audioStream && (\n          <Audio\n            {...audioProps}\n            trackType=\"audioTrack\"\n            participant={participant}\n          />\n        );\n\n        const hasScreenShareAudioTrack = hasScreenShareAudio(participant);\n        const screenShareAudioTrackElement = hasScreenShareAudioTrack &&\n          screenShareAudioStream && (\n            <Audio\n              {...audioProps}\n              trackType=\"screenShareAudioTrack\"\n              participant={participant}\n            />\n          );\n\n        return (\n          <Fragment key={sessionId}>\n            {audioTrackElement}\n            {screenShareAudioTrackElement}\n          </Fragment>\n        );\n      })}\n    </>\n  );\n};\n\nParticipantsAudio.displayName = 'ParticipantsAudio';\n","import { createContext, useContext } from 'react';\nimport { ParticipantViewProps } from './ParticipantView';\n\nexport type ParticipantViewContextValue = Required<\n  Pick<ParticipantViewProps, 'participant' | 'trackType'>\n> & {\n  participantViewElement?: HTMLDivElement | null;\n  videoElement?: HTMLVideoElement | null;\n  videoPlaceholderElement?: HTMLDivElement | null;\n};\n\nexport const ParticipantViewContext = createContext<\n  ParticipantViewContextValue | undefined\n>(undefined);\n\nexport const useParticipantViewContext = () =>\n  useContext(ParticipantViewContext) as ParticipantViewContextValue;\n","import { useEffect } from 'react';\nimport type { UseFloatingOptions } from '@floating-ui/react';\nimport {\n  autoUpdate,\n  flip,\n  offset,\n  shift,\n  size,\n  useFloating,\n} from '@floating-ui/react';\n\nexport const useFloatingUIPreset = ({\n  middleware = [],\n  placement,\n  strategy,\n  offset: offsetInPx = 10,\n}: Pick<UseFloatingOptions, 'placement' | 'strategy' | 'middleware'> & {\n  offset?: number;\n}) => {\n  const {\n    refs,\n    x,\n    y,\n    update,\n    elements: { domReference, floating },\n    context,\n  } = useFloating({\n    placement,\n    strategy,\n    middleware: [\n      offset(offsetInPx),\n      shift(),\n      flip(),\n      size({\n        padding: 10,\n        apply: ({ availableHeight, elements }) => {\n          Object.assign(elements.floating.style, {\n            maxHeight: `${availableHeight}px`,\n          });\n        },\n      }),\n      ...middleware,\n    ],\n  });\n\n  // handle window resizing\n  useEffect(() => {\n    if (!domReference || !floating) return;\n\n    const cleanup = autoUpdate(domReference, floating, update);\n\n    return () => cleanup();\n  }, [domReference, floating, update]);\n\n  return { refs, x, y, domReference, floating, strategy, context };\n};\n","import { useEffect, useState } from 'react';\nimport { CallingState, InputDeviceStatus } from '@stream-io/video-client';\nimport { useCallStateHooks } from '@stream-io/video-react-bindings';\n\nexport type LocalDevicePreference = {\n  selectedDeviceId: string;\n  selectedDeviceLabel: string;\n  muted?: boolean;\n};\n\nexport type LocalDevicePreferences = {\n  // Array is preference history with latest preferences first.\n  // Single preference still acceptable for backwards compatibility.\n  [type in DeviceKey]?: LocalDevicePreference | LocalDevicePreference[];\n};\n\ntype DeviceKey = 'microphone' | 'camera' | 'speaker';\n\ntype DeviceState<K extends DeviceKey> = {\n  [ManagerKey in K]: DeviceManagerLike;\n} & {\n  isMute?: boolean;\n  devices: MediaDeviceInfo[];\n  selectedDevice: string | undefined;\n};\n\ninterface DeviceManagerLike {\n  state: { selectedDevice: string | undefined; status?: InputDeviceStatus };\n  select: (deviceId: string) => Promise<void> | void;\n  enable?: () => Promise<void>;\n  disable?: () => Promise<void>;\n}\n\nconst defaultDevice = 'default';\n\n/**\n * This hook will apply and persist the device preferences from local storage.\n *\n * @param key the key to use for local storage.\n */\nexport const usePersistedDevicePreferences = (\n  key: string = '@stream-io/device-preferences',\n): void => {\n  const {\n    useCallSettings,\n    useCallCallingState,\n    useMicrophoneState,\n    useCameraState,\n    useSpeakerState,\n  } = useCallStateHooks();\n  const settings = useCallSettings();\n  const callingState = useCallCallingState();\n\n  const microphoneState: DeviceState<'microphone'> = useMicrophoneState();\n  const cameraState: DeviceState<'camera'> = useCameraState();\n  const speakerState: DeviceState<'speaker'> = useSpeakerState();\n\n  const [applyingState, setApplyingState] = useState<\n    'idle' | 'applying' | 'applied'\n  >('idle');\n\n  // when the camera is disabled on call type level, we should discard\n  // any stored camera preferences.\n  const cameraDevices = settings?.video?.enabled ? cameraState.devices : false;\n  useEffect(\n    function apply() {\n      if (\n        callingState === CallingState.LEFT ||\n        microphoneState.devices.length === 0 ||\n        (Array.isArray(cameraDevices) && cameraDevices.length === 0) ||\n        speakerState.devices.length === 0 ||\n        !settings ||\n        applyingState !== 'idle'\n      ) {\n        return;\n      }\n\n      setApplyingState('applying');\n\n      (async () => {\n        const { audio, video } = settings;\n        for (const [deviceKey, state, defaultMuted, enabledInCallType] of [\n          ['microphone', microphoneState, !audio.mic_default_on, true],\n          ['camera', cameraState, !video.camera_default_on, video.enabled],\n          ['speaker', speakerState, false, true],\n        ] as const) {\n          const preferences = parseLocalDevicePreferences(key);\n          const preference = preferences[deviceKey];\n          const manager = (\n            state as DeviceState<'camera' | 'microphone' | 'speaker'>\n          )[deviceKey];\n\n          const applyPromise = preference\n            ? applyLocalDevicePreference(\n                manager,\n                [preference].flat(),\n                deviceKey === 'camera' ? cameraDevices || [] : state.devices,\n                enabledInCallType,\n              )\n            : applyMutedState(manager, defaultMuted, enabledInCallType);\n\n          await applyPromise.catch((err) => {\n            console.warn(\n              `Failed to apply ${deviceKey} device preferences`,\n              err,\n            );\n          });\n        }\n      })().finally(() =>\n        setApplyingState((state) => (state === 'applying' ? 'applied' : state)),\n      );\n    },\n    [\n      applyingState,\n      callingState,\n      cameraState,\n      cameraDevices,\n      key,\n      microphoneState,\n      microphoneState.devices,\n      settings,\n      speakerState,\n      speakerState.devices,\n    ],\n  );\n\n  useEffect(\n    function persist() {\n      if (callingState === CallingState.LEFT || applyingState !== 'applied') {\n        return;\n      }\n\n      for (const [deviceKey, devices, selectedDevice, isMute] of [\n        [\n          'camera',\n          cameraDevices || [],\n          cameraState.selectedDevice,\n          cameraState.isMute,\n        ],\n        [\n          'microphone',\n          microphoneState.devices,\n          microphoneState.selectedDevice,\n          microphoneState.isMute,\n        ],\n        [\n          'speaker',\n          speakerState.devices,\n          speakerState.selectedDevice,\n          speakerState.isMute,\n        ],\n      ] as const) {\n        try {\n          patchLocalDevicePreference(key, deviceKey, {\n            devices,\n            selectedDevice,\n            isMute,\n          });\n        } catch (err) {\n          console.warn(`Failed to save ${deviceKey} device preferences`, err);\n        }\n      }\n    },\n    [\n      applyingState,\n      callingState,\n      cameraDevices,\n      cameraState.isMute,\n      cameraState.selectedDevice,\n      key,\n      microphoneState.devices,\n      microphoneState.isMute,\n      microphoneState.selectedDevice,\n      speakerState.devices,\n      speakerState.isMute,\n      speakerState.selectedDevice,\n    ],\n  );\n};\n\n// const usePersistedDevicePreference = <K extends DeviceKey>(\n//   key: string,\n//   deviceKey: K,\n//   state: DeviceState<K>,\n//   defaultMuted?: boolean,\n// ): void => {\n//   const { useCallCallingState } = useCallStateHooks();\n//   const callingState = useCallCallingState();\n//   const [applyingState, setApplyingState] = useState<\n//     'idle' | 'applying' | 'applied'\n//   >('idle');\n//   const manager = state[deviceKey];\n\n//   useEffect(\n//     function apply() {\n//       if (\n//         callingState === CallingState.LEFT ||\n//         !state.devices?.length ||\n//         typeof defaultMuted !== 'boolean' ||\n//         applyingState !== 'idle'\n//       ) {\n//         return;\n//       }\n\n//       const preferences = parseLocalDevicePreferences(key);\n//       const preference = preferences[deviceKey];\n\n//       setApplyingState('applying');\n\n//       if (!manager.state.selectedDevice) {\n//         const applyPromise = preference\n//           ? applyLocalDevicePreference(\n//               manager,\n//               [preference].flat(),\n//               state.devices,\n//             )\n//           : applyMutedState(manager, defaultMuted);\n\n//         applyPromise\n//           .catch((err) => {\n//             console.warn(\n//               `Failed to apply ${deviceKey} device preferences`,\n//               err,\n//             );\n//           })\n//           .finally(() => setApplyingState('applied'));\n//       } else {\n//         setApplyingState('applied');\n//       }\n//     },\n//     [\n//       applyingState,\n//       callingState,\n//       defaultMuted,\n//       deviceKey,\n//       key,\n//       manager,\n//       state.devices,\n//     ],\n//   );\n\n//   useEffect(\n//     function persist() {\n//       if (\n//         callingState === CallingState.LEFT ||\n//         !state.devices?.length ||\n//         applyingState !== 'applied'\n//       ) {\n//         return;\n//       }\n\n//       try {\n//         patchLocalDevicePreference(key, deviceKey, {\n//           devices: state.devices,\n//           selectedDevice: state.selectedDevice,\n//           isMute: state.isMute,\n//         });\n//       } catch (err) {\n//         console.warn(`Failed to save ${deviceKey} device preferences`, err);\n//       }\n//     },\n//     [\n//       applyingState,\n//       callingState,\n//       deviceKey,\n//       key,\n//       state.devices,\n//       state.isMute,\n//       state.selectedDevice,\n//     ],\n//   );\n// };\n\nconst parseLocalDevicePreferences = (key: string): LocalDevicePreferences => {\n  const preferencesStr = window.localStorage.getItem(key);\n  let preferences: LocalDevicePreferences = {};\n\n  if (preferencesStr) {\n    try {\n      preferences = JSON.parse(preferencesStr);\n\n      if (Object.hasOwn(preferences, 'mic')) {\n        // for backwards compatibility\n        preferences.microphone = (\n          preferences as { mic: LocalDevicePreference }\n        ).mic;\n      }\n    } catch {\n      /* assume preferences are empty */\n    }\n  }\n\n  return preferences;\n};\n\nconst patchLocalDevicePreference = (\n  key: string,\n  deviceKey: DeviceKey,\n  state: Pick<DeviceState<never>, 'devices' | 'selectedDevice' | 'isMute'>,\n): void => {\n  const preferences = parseLocalDevicePreferences(key);\n  const nextPreference = getSelectedDevicePreference(\n    state.devices,\n    state.selectedDevice,\n  );\n  const preferenceHistory = [preferences[deviceKey] ?? []]\n    .flat()\n    .filter(\n      (p) =>\n        p.selectedDeviceId !== nextPreference.selectedDeviceId &&\n        (p.selectedDeviceLabel === '' ||\n          p.selectedDeviceLabel !== nextPreference.selectedDeviceLabel),\n    );\n\n  window.localStorage.setItem(\n    key,\n    JSON.stringify({\n      ...preferences,\n      mic: undefined, // for backwards compatibility\n      [deviceKey]: [\n        {\n          ...nextPreference,\n          muted: state.isMute,\n        } satisfies LocalDevicePreference,\n        ...preferenceHistory,\n      ].slice(0, 3),\n    }),\n  );\n};\n\nconst applyLocalDevicePreference = async (\n  manager: DeviceManagerLike,\n  preference: LocalDevicePreference[],\n  devices: MediaDeviceInfo[],\n  enabledInCallType: boolean,\n): Promise<void> => {\n  let muted: boolean | undefined;\n\n  for (const p of preference) {\n    muted ??= p.muted;\n\n    if (p.selectedDeviceId === defaultDevice) {\n      break;\n    }\n\n    const device =\n      devices.find((d) => d.deviceId === p.selectedDeviceId) ??\n      devices.find((d) => d.label === p.selectedDeviceLabel);\n\n    if (device) {\n      if (!manager.state.selectedDevice) {\n        await manager.select(device.deviceId);\n      }\n\n      muted = p.muted;\n      break;\n    }\n  }\n\n  if (typeof muted === 'boolean') {\n    await applyMutedState(manager, muted, enabledInCallType);\n  }\n};\n\nconst applyMutedState = async (\n  manager: DeviceManagerLike,\n  muted: boolean,\n  enabledInCallType: boolean,\n) => {\n  if (enabledInCallType && !manager.state.status) {\n    await manager[muted ? 'disable' : 'enable']?.();\n  }\n};\n\nconst getSelectedDevicePreference = (\n  devices: MediaDeviceInfo[],\n  selectedDevice: string | undefined,\n): Pick<LocalDevicePreference, 'selectedDeviceId' | 'selectedDeviceLabel'> => ({\n  selectedDeviceId: selectedDevice || defaultDevice,\n  selectedDeviceLabel:\n    devices?.find((d) => d.deviceId === selectedDevice)?.label ?? '',\n});\n","import { useEffect, useState } from 'react';\n\nconst SCROLL_THRESHOLD = 10;\n\n/**\n * Hook which observes element's scroll position and returns text value based on the\n * position of the scrollbar (`top`, `bottom`, `between` and `null` if no scrollbar is available)\n */\nexport const useVerticalScrollPosition = (\n  scrollElement: HTMLElement | null,\n  threshold: number = SCROLL_THRESHOLD,\n) => {\n  const [scrollPosition, setScrollPosition] = useState<\n    'top' | 'bottom' | 'between' | null\n  >(null);\n\n  useEffect(() => {\n    if (!scrollElement) return;\n\n    const scrollHandler = () => {\n      const element = scrollElement;\n\n      const hasVerticalScrollbar = element.scrollHeight > element.clientHeight;\n\n      if (!hasVerticalScrollbar) return setScrollPosition(null);\n\n      const isAtTheTop = element.scrollTop <= threshold;\n      if (isAtTheTop) return setScrollPosition('top');\n\n      const isAtTheBottom =\n        Math.abs(\n          element.scrollHeight - element.scrollTop - element.clientHeight,\n        ) <= threshold;\n\n      if (isAtTheBottom) return setScrollPosition('bottom');\n\n      setScrollPosition('between');\n    };\n\n    const resizeObserver = new ResizeObserver(scrollHandler);\n    resizeObserver.observe(scrollElement);\n\n    scrollElement.addEventListener('scroll', scrollHandler);\n    return () => {\n      scrollElement.removeEventListener('scroll', scrollHandler);\n      resizeObserver.disconnect();\n    };\n  }, [scrollElement, threshold]);\n\n  return scrollPosition;\n};\n\nexport const useHorizontalScrollPosition = (\n  scrollElement: HTMLElement | null,\n  threshold: number = SCROLL_THRESHOLD,\n) => {\n  const [scrollPosition, setScrollPosition] = useState<\n    'start' | 'end' | 'between' | null\n  >(null);\n\n  useEffect(() => {\n    if (!scrollElement) return;\n\n    const scrollHandler = () => {\n      const element = scrollElement;\n\n      const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;\n\n      if (!hasHorizontalScrollbar) return setScrollPosition(null);\n\n      const isAtTheStart = element.scrollLeft <= threshold;\n      if (isAtTheStart) return setScrollPosition('start');\n\n      const isAtTheEnd =\n        Math.abs(\n          element.scrollWidth - element.scrollLeft - element.clientWidth,\n        ) <= threshold;\n\n      if (isAtTheEnd) return setScrollPosition('end');\n\n      setScrollPosition('between');\n    };\n\n    const resizeObserver = new ResizeObserver(scrollHandler);\n    resizeObserver.observe(scrollElement);\n\n    scrollElement.addEventListener('scroll', scrollHandler);\n    return () => {\n      scrollElement.removeEventListener('scroll', scrollHandler);\n      resizeObserver.disconnect();\n    };\n  }, [scrollElement, threshold]);\n\n  return scrollPosition;\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { OwnCapability } from '@stream-io/video-client';\nimport { useCall, useCallStateHooks } from '@stream-io/video-react-bindings';\n\nexport const useRequestPermission = (permission: OwnCapability) => {\n  const call = useCall();\n  const { useHasPermissions } = useCallStateHooks();\n  const hasPermission = useHasPermissions(permission);\n  const [isAwaitingPermission, setIsAwaitingPermission] = useState(false); // TODO: load with possibly pending state\n\n  useEffect(() => {\n    const reset = () => setIsAwaitingPermission(false);\n\n    if (hasPermission) reset();\n  }, [hasPermission]);\n\n  const requestPermission = useCallback(async () => {\n    if (hasPermission) return true;\n\n    const canRequestPermission =\n      !!call?.permissionsContext.canRequest(permission);\n    if (isAwaitingPermission || !canRequestPermission) return false;\n\n    setIsAwaitingPermission(true);\n\n    try {\n      await call?.requestPermissions({\n        permissions: [permission],\n      });\n    } catch (error) {\n      setIsAwaitingPermission(false);\n      throw new Error(`requestPermission failed: ${error}`);\n    }\n\n    return false;\n  }, [call, hasPermission, isAwaitingPermission, permission]);\n\n  return {\n    requestPermission,\n    hasPermission,\n    canRequestPermission: !!call?.permissionsContext.canRequest(permission),\n    isAwaitingPermission,\n  };\n};\n","import { useI18n } from '@stream-io/video-react-bindings';\nimport { useMemo } from 'react';\n\nexport interface DeviceListItem {\n  deviceId: string;\n  label: string;\n  isSelected: boolean;\n}\n\n/**\n * Utility hook that helps render a list of devices or implement a device selector.\n * Compared to someting like `useCameraState().devices`, it has some handy features:\n * 1. Adds the \"Default\" device to the list if applicable (either the user did not\n * select a device, or a previously selected device is no longer available).\n * 2. Maps the device list to a format more suitable for rendering.\n */\nexport function useDeviceList(\n  devices: MediaDeviceInfo[],\n  selectedDeviceId: string | undefined,\n): {\n  deviceList: DeviceListItem[];\n  selectedDeviceInfo: DeviceListItem;\n  selectedIndex: number;\n} {\n  const { t } = useI18n();\n\n  return useMemo(() => {\n    let selectedDeviceInfo: DeviceListItem | null = null;\n    let selectedIndex: number | null = null;\n\n    const deviceList: DeviceListItem[] = devices.map((d, i) => {\n      const isSelected = d.deviceId === selectedDeviceId;\n      const device = { deviceId: d.deviceId, label: d.label, isSelected };\n\n      if (isSelected) {\n        selectedDeviceInfo = device;\n        selectedIndex = i;\n      }\n\n      return device;\n    });\n\n    if (selectedDeviceInfo === null || selectedIndex === null) {\n      const defaultDevice = {\n        deviceId: 'default',\n        label: t('Default'),\n        isSelected: true,\n      };\n\n      selectedDeviceInfo = defaultDevice;\n      selectedIndex = 0;\n      deviceList.unshift(defaultDevice);\n    }\n\n    return { deviceList, selectedDeviceInfo, selectedIndex };\n  }, [devices, selectedDeviceId, t]);\n}\n","import {\n  ComponentType,\n  createContext,\n  PropsWithChildren,\n  RefAttributes,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  FloatingOverlay,\n  FloatingPortal,\n  Placement,\n  Strategy,\n  UseFloatingReturn,\n} from '@floating-ui/react';\n\nimport { useFloatingUIPreset } from '../../hooks';\n\nexport type ToggleMenuButtonProps<E extends HTMLElement = HTMLButtonElement> = {\n  menuShown: boolean;\n} & RefAttributes<E>;\n\nexport enum MenuVisualType {\n  PORTAL = 'portal',\n  MENU = 'menu',\n}\n\nexport type MenuToggleProps<E extends HTMLElement> = PropsWithChildren<{\n  ToggleButton: ComponentType<ToggleMenuButtonProps<E>>;\n  placement?: Placement;\n  strategy?: Strategy;\n  offset?: number;\n  visualType?: MenuVisualType;\n  onToggle?: (menuShown: boolean) => void;\n}>;\n\nexport type MenuContextValue = {\n  close?: () => void;\n};\n\n/**\n * Used to provide utility APIs to the components rendered inside the portal.\n */\nconst MenuContext = createContext<MenuContextValue>({});\n\n/**\n * Access to the closes MenuContext.\n */\nexport const useMenuContext = (): MenuContextValue => {\n  return useContext(MenuContext);\n};\n\nconst MenuPortal = ({\n  children,\n  refs,\n}: PropsWithChildren<{\n  refs: UseFloatingReturn['refs'];\n}>) => {\n  const portalId = useMemo(\n    () => `str-video-portal-${Math.random().toString(36).substring(2, 9)}`,\n    [],\n  );\n\n  return (\n    <>\n      <div id={portalId} className=\"str-video__portal\" />\n      <FloatingOverlay>\n        <FloatingPortal id={portalId}>\n          <div className=\"str-video__portal-content\" ref={refs.setFloating}>\n            {children}\n          </div>\n        </FloatingPortal>\n      </FloatingOverlay>\n    </>\n  );\n};\n\nexport const MenuToggle = <E extends HTMLElement>({\n  ToggleButton,\n  placement = 'top-start',\n  strategy = 'absolute',\n  offset,\n  visualType = MenuVisualType.MENU,\n  children,\n  onToggle,\n}: MenuToggleProps<E>) => {\n  const [menuShown, setMenuShown] = useState(false);\n  const toggleHandler = useRef(onToggle);\n  toggleHandler.current = onToggle;\n\n  const { floating, domReference, refs, x, y } = useFloatingUIPreset({\n    placement,\n    strategy,\n    offset,\n  });\n\n  useEffect(() => {\n    const parentDocument = domReference?.ownerDocument;\n\n    const handleClick = (event: MouseEvent) => {\n      if (!floating && domReference?.contains(event.target as Node)) {\n        setMenuShown(true);\n        toggleHandler.current?.(true);\n      } else if (floating && !floating?.contains(event.target as Node)) {\n        setMenuShown(false);\n        toggleHandler.current?.(false);\n      }\n    };\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key && // key can be undefined in some browsers\n        event.key.toLowerCase() === 'escape' &&\n        !event.altKey &&\n        !event.ctrlKey\n      ) {\n        setMenuShown(false);\n        toggleHandler.current?.(false);\n      }\n    };\n    parentDocument?.addEventListener('click', handleClick, { capture: true });\n    parentDocument?.addEventListener('keydown', handleKeyDown);\n    return () => {\n      parentDocument?.removeEventListener('click', handleClick, {\n        capture: true,\n      });\n      parentDocument?.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [floating, domReference]);\n\n  return (\n    <>\n      {menuShown && (\n        <MenuContext.Provider value={{ close: () => setMenuShown(false) }}>\n          {visualType === MenuVisualType.PORTAL ? (\n            <MenuPortal refs={refs} children={children} />\n          ) : visualType === MenuVisualType.MENU ? (\n            <div\n              className=\"str-video__menu-container\"\n              ref={refs.setFloating}\n              style={{\n                position: strategy,\n                top: y ?? 0,\n                left: x ?? 0,\n                overflowY: 'auto',\n              }}\n              role=\"menu\"\n              children={children}\n            />\n          ) : null}\n        </MenuContext.Provider>\n      )}\n      <ToggleButton menuShown={menuShown} ref={refs.setReference} />\n    </>\n  );\n};\n","import { ComponentProps, MouseEvent, PropsWithChildren, useRef } from 'react';\n\nexport const GenericMenu = ({\n  children,\n  onItemClick,\n}: PropsWithChildren<{\n  onItemClick?: (e: MouseEvent) => void;\n}>) => {\n  const ref = useRef<HTMLUListElement>(null);\n  return (\n    <ul\n      className=\"str-video__generic-menu\"\n      ref={ref}\n      onClick={(e) => {\n        if (\n          onItemClick &&\n          e.target !== ref.current &&\n          ref.current?.contains(e.target as Node)\n        ) {\n          onItemClick(e);\n        }\n      }}\n    >\n      {children}\n    </ul>\n  );\n};\n\nexport const GenericMenuButtonItem = ({\n  children,\n  ...rest\n}: Omit<ComponentProps<'button'>, 'ref'>) => {\n  return (\n    <li className=\"str-video__generic-menu--item\">\n      <button {...rest}>{children}</button>\n    </li>\n  );\n};\n","import clsx from 'clsx';\n\nexport type IconProps = {\n  icon: string;\n  className?: string;\n};\n\nexport const Icon = ({ className, icon }: IconProps) => (\n  <span\n    className={clsx(\n      'str-video__icon',\n      icon && `str-video__icon--${icon}`,\n      className,\n    )}\n  />\n);\n","import { useEffect, useState } from 'react';\n\nexport function usePictureInPictureState(videoElement?: HTMLVideoElement) {\n  const [isPiP, setIsPiP] = useState(\n    document.pictureInPictureElement === videoElement,\n  );\n\n  if (!videoElement && isPiP) setIsPiP(false);\n\n  useEffect(() => {\n    if (!videoElement) return;\n\n    const handlePiP = () => {\n      setIsPiP(document.pictureInPictureElement === videoElement);\n    };\n\n    videoElement.addEventListener('enterpictureinpicture', handlePiP);\n    videoElement.addEventListener('leavepictureinpicture', handlePiP);\n\n    return () => {\n      videoElement.removeEventListener('enterpictureinpicture', handlePiP);\n      videoElement.removeEventListener('leavepictureinpicture', handlePiP);\n    };\n  }, [videoElement]);\n\n  return isPiP;\n}\n","import { useEffect, useState } from 'react';\nimport { Restricted, useCall, useI18n } from '@stream-io/video-react-bindings';\nimport {\n  hasAudio,\n  hasScreenShare,\n  hasScreenShareAudio,\n  hasVideo,\n  OwnCapability,\n} from '@stream-io/video-client';\nimport { useParticipantViewContext } from './ParticipantViewContext';\nimport {\n  GenericMenu,\n  GenericMenuButtonItem,\n  useMenuContext,\n} from '../../../components/Menu';\nimport { Icon } from '../../../components/Icon';\nimport { usePictureInPictureState } from '../../hooks/usePictureInPictureState';\n\nexport const ParticipantActionsContextMenu = () => {\n  const { participant, participantViewElement, videoElement } =\n    useParticipantViewContext();\n  const [fullscreenModeOn, setFullscreenModeOn] = useState(\n    !!document.fullscreenElement,\n  );\n  const call = useCall();\n  const isPiP = usePictureInPictureState(videoElement ?? undefined);\n  const { t } = useI18n();\n\n  const { pin, sessionId, userId } = participant;\n\n  const hasAudioTrack = hasAudio(participant);\n  const hasVideoTrack = hasVideo(participant);\n  const hasScreenShareTrack = hasScreenShare(participant);\n  const hasScreenShareAudioTrack = hasScreenShareAudio(participant);\n\n  const blockUser = () => call?.blockUser(userId);\n  const kickUser = () => call?.kickUser({ user_id: userId });\n  const muteAudio = () => call?.muteUser(userId, 'audio');\n  const muteVideo = () => call?.muteUser(userId, 'video');\n  const muteScreenShare = () => call?.muteUser(userId, 'screenshare');\n  const muteScreenShareAudio = () =>\n    call?.muteUser(userId, 'screenshare_audio');\n\n  const grantPermission = (permission: string) => () => {\n    call?.updateUserPermissions({\n      user_id: userId,\n      grant_permissions: [permission],\n    });\n  };\n\n  const revokePermission = (permission: string) => () => {\n    call?.updateUserPermissions({\n      user_id: userId,\n      revoke_permissions: [permission],\n    });\n  };\n\n  const toggleParticipantPin = () => {\n    if (pin) {\n      call?.unpin(sessionId);\n    } else {\n      call?.pin(sessionId);\n    }\n  };\n\n  const pinForEveryone = () => {\n    call\n      ?.pinForEveryone({ user_id: userId, session_id: sessionId })\n      .catch((err) => {\n        console.error(`Failed to pin participant ${userId}`, err);\n      });\n  };\n\n  const unpinForEveryone = () => {\n    call\n      ?.unpinForEveryone({ user_id: userId, session_id: sessionId })\n      .catch((err) => {\n        console.error(`Failed to unpin participant ${userId}`, err);\n      });\n  };\n\n  const toggleFullscreenMode = () => {\n    if (!fullscreenModeOn) {\n      return participantViewElement?.requestFullscreen().catch(console.error);\n    }\n    return document.exitFullscreen().catch(console.error);\n  };\n\n  useEffect(() => {\n    // handles the case when fullscreen mode is toggled externally,\n    // e.g., by pressing ESC key or some other keyboard shortcut\n    const handleFullscreenChange = () => {\n      setFullscreenModeOn(!!document.fullscreenElement);\n    };\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    return () => {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange);\n    };\n  }, []);\n\n  const togglePictureInPicture = () => {\n    if (videoElement && !isPiP) {\n      return videoElement\n        .requestPictureInPicture()\n        .catch(console.error) as Promise<void>;\n    }\n\n    return document.exitPictureInPicture().catch(console.error);\n  };\n\n  const { close } = useMenuContext() || {};\n  return (\n    <GenericMenu onItemClick={close}>\n      <GenericMenuButtonItem\n        onClick={toggleParticipantPin}\n        disabled={pin && !pin.isLocalPin}\n      >\n        <Icon icon=\"pin\" />\n        {pin ? t('Unpin') : t('Pin')}\n      </GenericMenuButtonItem>\n      <Restricted requiredGrants={[OwnCapability.PIN_FOR_EVERYONE]}>\n        <GenericMenuButtonItem\n          onClick={pinForEveryone}\n          disabled={pin && !pin.isLocalPin}\n        >\n          <Icon icon=\"pin\" />\n          {t('Pin for everyone')}\n        </GenericMenuButtonItem>\n        <GenericMenuButtonItem\n          onClick={unpinForEveryone}\n          disabled={!pin || pin.isLocalPin}\n        >\n          <Icon icon=\"pin\" />\n          {t('Unpin for everyone')}\n        </GenericMenuButtonItem>\n      </Restricted>\n      <Restricted requiredGrants={[OwnCapability.BLOCK_USERS]}>\n        <GenericMenuButtonItem onClick={blockUser}>\n          <Icon icon=\"not-allowed\" />\n          {t('Block')}\n        </GenericMenuButtonItem>\n      </Restricted>\n      <Restricted requiredGrants={[OwnCapability.KICK_USER]}>\n        <GenericMenuButtonItem onClick={kickUser}>\n          <Icon icon=\"kick-user\" />\n          {t('Kick')}\n        </GenericMenuButtonItem>\n      </Restricted>\n      <Restricted requiredGrants={[OwnCapability.MUTE_USERS]}>\n        {hasVideoTrack && (\n          <GenericMenuButtonItem onClick={muteVideo}>\n            <Icon icon=\"camera-off-outline\" />\n            {t('Turn off video')}\n          </GenericMenuButtonItem>\n        )}\n        {hasScreenShareTrack && (\n          <GenericMenuButtonItem onClick={muteScreenShare}>\n            <Icon icon=\"screen-share-off\" />\n            {t('Turn off screen share')}\n          </GenericMenuButtonItem>\n        )}\n        {hasAudioTrack && (\n          <GenericMenuButtonItem onClick={muteAudio}>\n            <Icon icon=\"no-audio\" />\n            {t('Mute audio')}\n          </GenericMenuButtonItem>\n        )}\n        {hasScreenShareAudioTrack && (\n          <GenericMenuButtonItem onClick={muteScreenShareAudio}>\n            <Icon icon=\"no-audio\" />\n            {t('Mute screen share audio')}\n          </GenericMenuButtonItem>\n        )}\n      </Restricted>\n      {participantViewElement &&\n        typeof participantViewElement.requestFullscreen !== 'undefined' && (\n          <GenericMenuButtonItem onClick={toggleFullscreenMode}>\n            {t('{{ direction }} fullscreen', {\n              direction: fullscreenModeOn ? t('Leave') : t('Enter'),\n            })}\n          </GenericMenuButtonItem>\n        )}\n      {videoElement && document.pictureInPictureEnabled && (\n        <GenericMenuButtonItem onClick={togglePictureInPicture}>\n          {t('{{ direction }} picture-in-picture', {\n            direction: isPiP ? t('Leave') : t('Enter'),\n          })}\n        </GenericMenuButtonItem>\n      )}\n      <Restricted requiredGrants={[OwnCapability.UPDATE_CALL_PERMISSIONS]}>\n        <GenericMenuButtonItem\n          onClick={grantPermission(OwnCapability.SEND_AUDIO)}\n        >\n          {t('Allow audio')}\n        </GenericMenuButtonItem>\n        <GenericMenuButtonItem\n          onClick={grantPermission(OwnCapability.SEND_VIDEO)}\n        >\n          {t('Allow video')}\n        </GenericMenuButtonItem>\n        <GenericMenuButtonItem\n          onClick={grantPermission(OwnCapability.SCREENSHARE)}\n        >\n          {t('Allow screen sharing')}\n        </GenericMenuButtonItem>\n\n        <GenericMenuButtonItem\n          onClick={revokePermission(OwnCapability.SEND_AUDIO)}\n        >\n          {t('Disable audio')}\n        </GenericMenuButtonItem>\n        <GenericMenuButtonItem\n          onClick={revokePermission(OwnCapability.SEND_VIDEO)}\n        >\n          {t('Disable video')}\n        </GenericMenuButtonItem>\n        <GenericMenuButtonItem\n          onClick={revokePermission(OwnCapability.SCREENSHARE)}\n        >\n          {t('Disable screen sharing')}\n        </GenericMenuButtonItem>\n      </Restricted>\n    </GenericMenu>\n  );\n};\n","import { ComponentType, isValidElement, ReactElement } from 'react';\n\nexport const isComponentType = <T extends {}>(\n  elementOrComponent?: ComponentType<T> | ReactElement | null,\n): elementOrComponent is ComponentType<T> => {\n  return elementOrComponent === null\n    ? false\n    : !isValidElement(elementOrComponent);\n};\n","export const chunk = <T extends unknown[]>(array: T, size: number) => {\n  const chunkCount = Math.ceil(array.length / size);\n\n  return Array.from(\n    { length: chunkCount },\n    (_, index) => array.slice(size * index, size * index + size) as T,\n  );\n};\n","import type { ForwardedRef } from 'react';\n\nexport const applyElementToRef = <T extends HTMLElement | null>(\n  ref: ForwardedRef<T>,\n  element: T,\n) => {\n  if (!ref) return;\n\n  if (typeof ref === 'function') return ref(element);\n\n  ref.current = element;\n};\n","import { ComponentPropsWithRef, forwardRef, useEffect, useState } from 'react';\nimport { Browsers } from '@stream-io/video-client';\n\nimport { applyElementToRef } from '../../../utilities';\n\nexport type BaseVideoProps = ComponentPropsWithRef<'video'> & {\n  stream?: MediaStream;\n};\n\n/**\n * @description Extends video element with `stream` property\n * (`srcObject`) to reactively handle stream changes\n */\nexport const BaseVideo = forwardRef<HTMLVideoElement, BaseVideoProps>(\n  function BaseVideo({ stream, ...rest }, ref) {\n    const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(\n      null,\n    );\n\n    useEffect(() => {\n      if (!videoElement || !stream) return;\n      if (stream === videoElement.srcObject) return;\n\n      videoElement.srcObject = stream;\n      if (Browsers.isSafari() || Browsers.isFirefox()) {\n        // Firefox and Safari have some timing issue\n        setTimeout(() => {\n          videoElement.srcObject = stream;\n          videoElement.play().catch((e) => {\n            console.error(`Failed to play stream`, e);\n          });\n        }, 0);\n      }\n\n      return () => {\n        videoElement.pause();\n        videoElement.srcObject = null;\n      };\n    }, [stream, videoElement]);\n\n    return (\n      <video\n        autoPlay\n        playsInline\n        {...rest}\n        ref={(element) => {\n          applyElementToRef(ref, element);\n          setVideoElement(element);\n        }}\n      />\n    );\n  },\n);\n","import { ComponentProps, RefAttributes, forwardRef, useState } from 'react';\nimport type { StreamVideoParticipant } from '@stream-io/video-client';\n\nexport type BaseVideoPlaceholderProps = {\n  participant: StreamVideoParticipant;\n} & RefAttributes<HTMLDivElement> &\n  ComponentProps<'div'>;\n\nexport const BaseVideoPlaceholder = forwardRef<\n  HTMLDivElement,\n  BaseVideoPlaceholderProps\n>(function DefaultVideoPlaceholder({ participant, style, children }, ref) {\n  const [error, setError] = useState(false);\n  const name = participant.name || participant.userId;\n  return (\n    <div className=\"str-video__video-placeholder\" style={style} ref={ref}>\n      {(!participant.image || error) &&\n        (name ? (\n          <InitialsFallback name={name} />\n        ) : (\n          <div className=\"str-video__video-placeholder__no-video-label\">\n            {children}\n          </div>\n        ))}\n      {participant.image && !error && (\n        <img\n          onError={() => setError(true)}\n          alt={name}\n          className=\"str-video__video-placeholder__avatar\"\n          src={participant.image}\n        />\n      )}\n    </div>\n  );\n});\n\nconst InitialsFallback = (props: { name: string }) => {\n  const { name } = props;\n  const initials = name\n    .split(' ')\n    .slice(0, 2)\n    .map((n) => n[0])\n    .join('');\n  return (\n    <div className=\"str-video__video-placeholder__initials-fallback\">\n      {initials}\n    </div>\n  );\n};\n","import { forwardRef } from 'react';\nimport { useI18n } from '@stream-io/video-react-bindings';\nimport {\n  BaseVideoPlaceholder,\n  type BaseVideoPlaceholderProps,\n} from './BaseVideoPlaceholder';\n\nexport type VideoPlaceholderProps = BaseVideoPlaceholderProps;\n\nexport const DefaultVideoPlaceholder = forwardRef<\n  HTMLDivElement,\n  VideoPlaceholderProps\n>(function DefaultVideoPlaceholder(props, ref) {\n  const { t } = useI18n();\n  return (\n    <BaseVideoPlaceholder ref={ref} {...props}>\n      {t('Video is disabled')}\n    </BaseVideoPlaceholder>\n  );\n});\n","import { forwardRef } from 'react';\nimport { useI18n } from '@stream-io/video-react-bindings';\nimport {\n  BaseVideoPlaceholder,\n  type BaseVideoPlaceholderProps,\n} from './BaseVideoPlaceholder';\n\nexport type PictureInPicturePlaceholderProps = BaseVideoPlaceholderProps;\n\nexport const DefaultPictureInPicturePlaceholder = forwardRef<\n  HTMLDivElement,\n  PictureInPicturePlaceholderProps\n>(function DefaultPictureInPicturePlaceholder(props, ref) {\n  const { t } = useI18n();\n  return (\n    <BaseVideoPlaceholder ref={ref} {...props}>\n      {t('Video is playing in a popup')}\n    </BaseVideoPlaceholder>\n  );\n});\n","import {\n  ComponentPropsWithoutRef,\n  ComponentType,\n  useEffect,\n  useLayoutEffect,\n  useState,\n} from 'react';\nimport {\n  hasPausedTrack,\n  hasScreenShare,\n  hasVideo,\n  StreamVideoParticipant,\n  VideoTrackType,\n  VisibilityState,\n} from '@stream-io/video-client';\nimport clsx from 'clsx';\nimport {\n  DefaultVideoPlaceholder,\n  VideoPlaceholderProps,\n} from './DefaultVideoPlaceholder';\nimport { useCall } from '@stream-io/video-react-bindings';\nimport { usePictureInPictureState } from '../../hooks/usePictureInPictureState';\nimport {\n  DefaultPictureInPicturePlaceholder,\n  PictureInPicturePlaceholderProps,\n} from './DefaultPictureInPicturePlaceholder';\n\nexport type VideoProps = ComponentPropsWithoutRef<'video'> & {\n  /**\n   * Pass false to disable rendering video and render fallback\n   * even if the participant has published video.\n   * @default true\n   */\n  enabled?: boolean;\n  /**\n   * Forces the video to be mirrored or unmirrored. By default, video track\n   * from the local participant is mirrored, and all other videos are not mirrored.\n   */\n  mirror?: boolean;\n  /**\n   * The track type to display.\n   */\n  trackType: VideoTrackType | 'none';\n  /**\n   * The participant represented by this video element.\n   */\n  participant: StreamVideoParticipant;\n  /**\n   * Override the default UI that's visible when a participant turned off their video.\n   * Set it to `null` if you wish to disable the video placeholder.\n   *\n   * @default DefaultVideoPlaceholder\n   */\n  VideoPlaceholder?: ComponentType<VideoPlaceholderProps> | null;\n  /**\n   * Override the default UI that's dispayed in place of the video when it's playing\n   * in picture-in-picture. Set it to `null` if you wish to display the browser's default\n   * placeholder.\n   *\n   * @default DefaultPictureInPicturePlaceholder\n   */\n  PictureInPicturePlaceholder?: ComponentType<PictureInPicturePlaceholderProps> | null;\n  /**\n  /**\n   * An object with setRef functions\n   * meant for exposing some of the internal elements of this component.\n   */\n  refs?: {\n    /**\n     * The video element that's used to play the video stream.\n     * @param element the video element.\n     */\n    setVideoElement?: (element: HTMLVideoElement | null) => void;\n    /**\n     * The video placeholder element that's used when the video stream is not playing.\n     * @param element the video placeholder element.\n     */\n    setVideoPlaceholderElement?: (element: HTMLDivElement | null) => void;\n    setPictureInPicturePlaceholderElement?: (\n      element: HTMLDivElement | null,\n    ) => void;\n  };\n};\n\nexport const Video = ({\n  enabled = true,\n  mirror,\n  trackType,\n  participant,\n  className,\n  VideoPlaceholder = DefaultVideoPlaceholder,\n  PictureInPicturePlaceholder = DefaultPictureInPicturePlaceholder,\n  refs,\n  ...rest\n}: VideoProps) => {\n  const {\n    sessionId,\n    videoStream,\n    screenShareStream,\n    viewportVisibilityState,\n    isLocalParticipant,\n    userId,\n  } = participant;\n\n  const call = useCall();\n  const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(\n    null,\n  );\n  // start with true, will flip once the video starts playing\n  const [isVideoPaused, setIsVideoPaused] = useState(true);\n  const [isWideMode, setIsWideMode] = useState(true);\n  const isPiP = usePictureInPictureState(videoElement ?? undefined);\n\n  const stream =\n    trackType === 'videoTrack'\n      ? videoStream\n      : trackType === 'screenShareTrack'\n        ? screenShareStream\n        : undefined;\n\n  useLayoutEffect(() => {\n    if (!call || !videoElement || trackType === 'none') return;\n\n    const cleanup = call.bindVideoElement(videoElement, sessionId, trackType);\n\n    return () => {\n      cleanup?.();\n    };\n  }, [call, trackType, sessionId, videoElement]);\n\n  useEffect(() => {\n    if (!stream || !videoElement) return;\n\n    const [track] = stream.getVideoTracks();\n    if (!track) return;\n\n    const handlePlayPause = () => {\n      setIsVideoPaused(videoElement.paused);\n\n      const { width = 0, height = 0 } = track.getSettings();\n      setIsWideMode(width >= height);\n    };\n\n    // playback may have started before we had a chance to\n    // attach the 'play/pause' event listener, so we set the state\n    // here to make sure it's in sync\n    setIsVideoPaused(videoElement.paused);\n\n    videoElement.addEventListener('play', handlePlayPause);\n    videoElement.addEventListener('pause', handlePlayPause);\n    track.addEventListener('unmute', handlePlayPause);\n    return () => {\n      videoElement.removeEventListener('play', handlePlayPause);\n      videoElement.removeEventListener('pause', handlePlayPause);\n      track.removeEventListener('unmute', handlePlayPause);\n\n      // reset the 'pause' state once we unmount the video element\n      setIsVideoPaused(true);\n    };\n  }, [stream, videoElement]);\n\n  if (!call) return null;\n\n  const isPublishingTrack =\n    trackType === 'videoTrack'\n      ? hasVideo(participant)\n      : trackType === 'screenShareTrack'\n        ? hasScreenShare(participant)\n        : false;\n\n  const isInvisible =\n    trackType === 'none' ||\n    viewportVisibilityState?.[trackType] === VisibilityState.INVISIBLE;\n\n  const hasNoVideoOrInvisible =\n    !enabled ||\n    !isPublishingTrack ||\n    isInvisible ||\n    hasPausedTrack(participant, trackType);\n  const mirrorVideo =\n    mirror === undefined\n      ? isLocalParticipant && trackType === 'videoTrack'\n      : mirror;\n  const isScreenShareTrack = trackType === 'screenShareTrack';\n  return (\n    <>\n      {!hasNoVideoOrInvisible && (\n        <video\n          {...rest}\n          className={clsx('str-video__video', className, {\n            'str-video__video--not-playing': isVideoPaused,\n            'str-video__video--tall': !isWideMode,\n            'str-video__video--mirror': mirrorVideo,\n            'str-video__video--screen-share': isScreenShareTrack,\n          })}\n          data-user-id={userId}\n          data-session-id={sessionId}\n          ref={(element) => {\n            setVideoElement(element);\n            refs?.setVideoElement?.(element);\n          }}\n        />\n      )}\n      {isPiP && PictureInPicturePlaceholder && (\n        <PictureInPicturePlaceholder\n          style={{ position: 'absolute' }}\n          participant={participant}\n        />\n      )}\n      {/* TODO: add condition to \"hold\" the placeholder until track unmutes as well */}\n      {(hasNoVideoOrInvisible || isVideoPaused) && VideoPlaceholder && (\n        <VideoPlaceholder\n          style={{ position: 'absolute' }}\n          participant={participant}\n          ref={refs?.setVideoPlaceholderElement}\n        />\n      )}\n    </>\n  );\n};\n\nVideo.displayName = 'Video';\n","import { useEffect } from 'react';\nimport { DynascaleManager, VideoTrackType } from '@stream-io/video-client';\nimport { useCall } from '@stream-io/video-react-bindings';\n\nexport const useTrackElementVisibility = <T extends HTMLElement>({\n  trackedElement,\n  dynascaleManager: propsDynascaleManager,\n  sessionId,\n  trackType,\n}: {\n  trackedElement: T | null;\n  sessionId: string;\n  dynascaleManager?: DynascaleManager;\n  trackType: VideoTrackType | 'none';\n}) => {\n  const call = useCall();\n  const manager = propsDynascaleManager ?? call?.dynascaleManager;\n  useEffect(() => {\n    if (!trackedElement || !manager || !call || trackType === 'none') return;\n    const unobserve = manager.trackElementVisibility(\n      trackedElement,\n      sessionId,\n      trackType,\n    );\n    return () => {\n      unobserve();\n    };\n  }, [trackedElement, manager, call, sessionId, trackType]);\n};\n","import { ComponentProps, CSSProperties, useState } from 'react';\nimport clsx from 'clsx';\n\nexport type AvatarData = {\n  imageSrc?: string;\n  name?: string;\n  style?: CSSProperties & Record<string, string | number>;\n};\n\nexport type AvatarProps = AvatarData & ComponentProps<'img'>;\n\nexport const Avatar = ({\n  imageSrc,\n  name,\n  style,\n  className,\n  ...rest\n}: AvatarProps) => {\n  const [error, setError] = useState(false);\n\n  return (\n    <>\n      {(!imageSrc || error) && name && (\n        <AvatarFallback className={className} style={style} names={[name]} />\n      )}\n      {imageSrc && !error && (\n        <img\n          onError={() => setError(true)}\n          alt=\"avatar\"\n          className={clsx('str-video__avatar', className)}\n          src={imageSrc}\n          style={style}\n          {...rest}\n        />\n      )}\n    </>\n  );\n};\n\ntype AvatarFallbackProps = {\n  names: string[];\n  className?: string;\n  style?: CSSProperties & Record<string, string | number>;\n};\nexport const AvatarFallback = ({\n  className,\n  names,\n  style,\n}: AvatarFallbackProps) => {\n  return (\n    <div\n      className={clsx('str-video__avatar--initials-fallback', className)}\n      style={style}\n    >\n      <div>\n        {names[0][0]}\n        {names[1]?.[0]}\n      </div>\n    </div>\n  );\n};\n","import {\n  createContext,\n  PropsWithChildren,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { flushSync } from 'react-dom';\nimport clsx from 'clsx';\nimport { useCall } from '@stream-io/video-react-bindings';\nimport { Call, disposeOfMediaStream } from '@stream-io/video-client';\nimport {\n  BackgroundBlurLevel,\n  BackgroundFilter,\n  createRenderer,\n  isPlatformSupported,\n  loadTFLite,\n  PlatformSupportFlags,\n  Renderer,\n  TFLite,\n} from '@stream-io/video-filters-web';\n\nexport type BackgroundFiltersProps = PlatformSupportFlags & {\n  /**\n   * A list of URLs to use as background images.\n   */\n  backgroundImages?: string[];\n\n  /**\n   * The background filter to apply to the video (by default).\n   * @default undefined no filter applied\n   */\n  backgroundFilter?: BackgroundFilter;\n\n  /**\n   * The URL of the image to use as the background (by default).\n   */\n  backgroundImage?: string;\n\n  /**\n   * The level of blur to apply to the background (by default).\n   * @default 'high'.\n   */\n  backgroundBlurLevel?: BackgroundBlurLevel;\n\n  /**\n   * The base path for the TensorFlow Lite files.\n   * @default 'https://unpkg.com/@stream-io/video-filters-web/tf'.\n   */\n  basePath?: string;\n\n  /**\n   * The path to the TensorFlow Lite WebAssembly file.\n   *\n   * Override this prop to use a custom path to the TensorFlow Lite WebAssembly file\n   * (e.g., if you choose to host it yourself).\n   */\n  tfFilePath?: string;\n\n  /**\n   * The path to the TensorFlow Lite model file.\n   * Override this prop to use a custom path to the TensorFlow Lite model file\n   * (e.g., if you choose to host it yourself).\n   */\n  modelFilePath?: string;\n\n  /**\n   * When a started filter encounters an error, this callback will be executed.\n   * The default behavior (not overridable) is unregistering a failed filter.\n   * Use this callback to display UI error message, disable the corresponsing stream,\n   * or to try registering the filter again.\n   */\n  onError?: (error: any) => void;\n};\n\nexport type BackgroundFiltersAPI = {\n  /**\n   * Whether the current platform supports the background filters.\n   */\n  isSupported: boolean;\n\n  /**\n   * Indicates whether the background filters engine is loaded and ready.\n   */\n  isReady: boolean;\n\n  /**\n   * Disables all background filters applied to the video.\n   */\n  disableBackgroundFilter: () => void;\n\n  /**\n   * Applies a background blur filter to the video.\n   *\n   * @param blurLevel the level of blur to apply to the background.\n   */\n  applyBackgroundBlurFilter: (blurLevel: BackgroundBlurLevel) => void;\n\n  /**\n   * Applies a background image filter to the video.\n   *\n   * @param imageUrl the URL of the image to use as the background.\n   */\n  applyBackgroundImageFilter: (imageUrl: string) => void;\n};\n\n/**\n * The context value for the background filters context.\n */\nexport type BackgroundFiltersContextValue = BackgroundFiltersProps &\n  BackgroundFiltersAPI;\n\n/**\n * The context for the background filters.\n */\nconst BackgroundFiltersContext = createContext<\n  BackgroundFiltersContextValue | undefined\n>(undefined);\n\n/**\n * A hook to access the background filters context API.\n */\nexport const useBackgroundFilters = () => {\n  const context = useContext(BackgroundFiltersContext);\n  if (!context) {\n    throw new Error(\n      'useBackgroundFilters must be used within a BackgroundFiltersProvider',\n    );\n  }\n  return context;\n};\n\n/**\n * A provider component that enables the use of background filters in your app.\n *\n * Please make sure you have the `@stream-io/video-filters-web` package installed\n * in your project before using this component.\n */\nexport const BackgroundFiltersProvider = (\n  props: PropsWithChildren<BackgroundFiltersProps>,\n) => {\n  const {\n    children,\n    backgroundImages = [],\n    backgroundFilter: bgFilterFromProps = undefined,\n    backgroundImage: bgImageFromProps = undefined,\n    backgroundBlurLevel: bgBlurLevelFromProps = undefined,\n    tfFilePath,\n    modelFilePath,\n    basePath,\n    onError,\n    forceSafariSupport,\n    forceMobileSupport,\n  } = props;\n\n  const [backgroundFilter, setBackgroundFilter] = useState(bgFilterFromProps);\n  const [backgroundImage, setBackgroundImage] = useState(bgImageFromProps);\n  const [backgroundBlurLevel, setBackgroundBlurLevel] =\n    useState(bgBlurLevelFromProps);\n\n  const applyBackgroundImageFilter = useCallback((imageUrl: string) => {\n    setBackgroundFilter('image');\n    setBackgroundImage(imageUrl);\n  }, []);\n\n  const applyBackgroundBlurFilter = useCallback(\n    (blurLevel: BackgroundBlurLevel = 'high') => {\n      setBackgroundFilter('blur');\n      setBackgroundBlurLevel(blurLevel);\n    },\n    [],\n  );\n\n  const disableBackgroundFilter = useCallback(() => {\n    setBackgroundFilter(undefined);\n    setBackgroundImage(undefined);\n    setBackgroundBlurLevel(undefined);\n  }, []);\n\n  const [isSupported, setIsSupported] = useState(false);\n  useEffect(() => {\n    isPlatformSupported({\n      forceSafariSupport,\n      forceMobileSupport,\n    }).then(setIsSupported);\n  }, [forceMobileSupport, forceSafariSupport]);\n\n  const [tfLite, setTfLite] = useState<TFLite>();\n  useEffect(() => {\n    // don't try to load TFLite if the platform is not supported\n    if (!isSupported) return;\n    loadTFLite({ basePath, modelFilePath, tfFilePath })\n      .then(setTfLite)\n      .catch((err) => console.error('Failed to load TFLite', err));\n  }, [basePath, isSupported, modelFilePath, tfFilePath]);\n\n  const handleError = useCallback(\n    (error: any) => {\n      console.warn(\n        '[filters] Filter encountered an error and will be disabled',\n      );\n      disableBackgroundFilter();\n      onError?.(error);\n    },\n    [disableBackgroundFilter, onError],\n  );\n\n  return (\n    <BackgroundFiltersContext.Provider\n      value={{\n        isSupported,\n        isReady: !!tfLite,\n        backgroundImage,\n        backgroundBlurLevel,\n        backgroundFilter,\n        disableBackgroundFilter,\n        applyBackgroundBlurFilter,\n        applyBackgroundImageFilter,\n        backgroundImages,\n        tfFilePath,\n        modelFilePath,\n        basePath,\n        onError: handleError,\n      }}\n    >\n      {children}\n      {tfLite && <BackgroundFilters tfLite={tfLite} />}\n    </BackgroundFiltersContext.Provider>\n  );\n};\n\nconst BackgroundFilters = (props: { tfLite: TFLite }) => {\n  const call = useCall();\n  const { children, start } = useRenderer(props.tfLite, call);\n  const { backgroundFilter, onError } = useBackgroundFilters();\n  const handleErrorRef = useRef<((error: any) => void) | undefined>(undefined);\n  handleErrorRef.current = onError;\n\n  useEffect(() => {\n    if (!call || !backgroundFilter) return;\n    const { unregister } = call.camera.registerFilter((ms) =>\n      start(ms, (error) => handleErrorRef.current?.(error)),\n    );\n    return () => {\n      unregister().catch((err) => console.warn(`Can't unregister filter`, err));\n    };\n  }, [backgroundFilter, call, start]);\n\n  return children;\n};\n\nconst useRenderer = (tfLite: TFLite, call: Call | undefined) => {\n  const { backgroundFilter, backgroundBlurLevel, backgroundImage } =\n    useBackgroundFilters();\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const bgImageRef = useRef<HTMLImageElement>(null);\n  const [videoSize, setVideoSize] = useState<{ width: number; height: number }>(\n    {\n      width: 1920,\n      height: 1080,\n    },\n  );\n\n  const start = useCallback(\n    (ms: MediaStream, onError?: (error: any) => void) => {\n      let outputStream: MediaStream | undefined;\n      let renderer: Renderer | undefined;\n\n      const output = new Promise<MediaStream>((resolve, reject) => {\n        if (!backgroundFilter) {\n          reject(new Error('No filter specified'));\n          return;\n        }\n\n        const videoEl = videoRef.current;\n        const canvasEl = canvasRef.current;\n        const bgImageEl = bgImageRef.current;\n\n        if (!videoEl || !canvasEl || (backgroundImage && !bgImageEl)) {\n          // You should start renderer in effect or event handlers\n          reject(new Error('Renderer started before elements are ready'));\n          return;\n        }\n\n        videoEl.srcObject = ms;\n        videoEl.play().then(\n          () => {\n            const [track] = ms.getVideoTracks();\n\n            if (!track) {\n              reject(new Error('No video tracks in input media stream'));\n              return;\n            }\n\n            const trackSettings = track.getSettings();\n            flushSync(() =>\n              setVideoSize({\n                width: trackSettings.width ?? 0,\n                height: trackSettings.height ?? 0,\n              }),\n            );\n            call?.tracer.trace('backgroundFilters.enable', {\n              backgroundFilter,\n              backgroundBlurLevel,\n              backgroundImage,\n            });\n            renderer = createRenderer(\n              tfLite,\n              videoEl,\n              canvasEl,\n              {\n                backgroundFilter,\n                backgroundBlurLevel,\n                backgroundImage: bgImageEl ?? undefined,\n              },\n              onError,\n            );\n            outputStream = canvasEl.captureStream();\n            resolve(outputStream);\n          },\n          () => {\n            reject(new Error('Could not play the source video stream'));\n          },\n        );\n      });\n\n      return {\n        output,\n        stop: () => {\n          call?.tracer.trace('backgroundFilters.disable', null);\n          renderer?.dispose();\n          if (videoRef.current) videoRef.current.srcObject = null;\n          if (outputStream) disposeOfMediaStream(outputStream);\n        },\n      };\n    },\n    [\n      backgroundBlurLevel,\n      backgroundFilter,\n      backgroundImage,\n      call?.tracer,\n      tfLite,\n    ],\n  );\n\n  const children = (\n    <div className=\"str-video__background-filters\">\n      <video\n        className={clsx(\n          'str-video__background-filters__video',\n          videoSize.height > videoSize.width &&\n            'str-video__background-filters__video--tall',\n        )}\n        ref={videoRef}\n        playsInline\n        muted\n        controls={false}\n        {...videoSize}\n      />\n      {backgroundImage && (\n        <img\n          className=\"str-video__background-filters__background-image\"\n          alt=\"Background\"\n          ref={bgImageRef}\n          crossOrigin=\"anonymous\"\n          src={backgroundImage}\n          {...videoSize}\n        />\n      )}\n      <canvas\n        className=\"str-video__background-filters__target-canvas\"\n        {...videoSize}\n        ref={canvasRef}\n      />\n    </div>\n  );\n\n  return {\n    start,\n    children,\n  };\n};\n","import { ComponentProps, ForwardedRef, forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport { Icon, IconProps } from '../Icon';\n\nexport type ButtonWithIconProps = {\n  enabled?: boolean;\n  variant?: string;\n} & ComponentProps<'button'> &\n  IconProps;\n\nexport const IconButton = forwardRef(function IconButton(\n  props: ButtonWithIconProps,\n  ref: ForwardedRef<HTMLButtonElement>,\n) {\n  const { icon, enabled, variant, onClick, className, ...rest } = props;\n  return (\n    <button\n      className={clsx('str-video__call-controls__button', className, {\n        [`str-video__call-controls__button--variant-${variant}`]: variant,\n        'str-video__call-controls__button--enabled': enabled,\n      })}\n      onClick={(e) => {\n        e.preventDefault();\n        onClick?.(e);\n      }}\n      ref={ref}\n      {...rest}\n    >\n      <Icon icon={icon} />\n    </button>\n  );\n});\n","import clsx from 'clsx';\nimport { MenuToggle, ToggleMenuButtonProps } from '../Menu';\nimport {\n  ComponentProps,\n  ComponentType,\n  forwardRef,\n  PropsWithChildren,\n  ReactElement,\n} from 'react';\nimport { Placement } from '@floating-ui/react';\n\nimport { IconButton } from './IconButton';\nimport { isComponentType } from '../../utilities';\n\nexport type IconButtonWithMenuProps<E extends HTMLElement = HTMLButtonElement> =\n  PropsWithChildren<{\n    active?: boolean;\n    Menu?: ComponentType | ReactElement | null;\n    caption?: string;\n    className?: string;\n    menuPlacement?: Placement;\n    menuOffset?: number;\n    ToggleMenuButton?: ComponentType<ToggleMenuButtonProps<E>>;\n    variant?: 'primary' | 'secondary';\n    onMenuToggle?: (menuShown: boolean) => void;\n  }> &\n    ComponentProps<'button'>;\n\nexport const CompositeButton = forwardRef<\n  HTMLDivElement,\n  IconButtonWithMenuProps\n>(function CompositeButton(\n  {\n    disabled,\n    caption,\n    children,\n    className,\n    active,\n    Menu,\n    menuPlacement,\n    menuOffset,\n    title,\n    ToggleMenuButton = DefaultToggleMenuButton,\n    variant,\n    onClick,\n    onMenuToggle,\n    ...restButtonProps\n  },\n  ref,\n) {\n  return (\n    <div\n      className={clsx('str-video__composite-button', className, {\n        'str-video__composite-button--caption': caption,\n        'str-video__composite-button--menu': Menu,\n      })}\n      title={title}\n      ref={ref}\n    >\n      <div\n        className={clsx('str-video__composite-button__button-group', {\n          'str-video__composite-button__button-group--active': active,\n          'str-video__composite-button__button-group--active-primary':\n            active && variant === 'primary',\n          'str-video__composite-button__button-group--active-secondary':\n            active && variant === 'secondary',\n          'str-video__composite-button__button-group--disabled': disabled,\n        })}\n      >\n        <button\n          type=\"button\"\n          className=\"str-video__composite-button__button\"\n          onClick={(e) => {\n            e.preventDefault();\n            onClick?.(e);\n          }}\n          disabled={disabled}\n          {...restButtonProps}\n        >\n          {children}\n        </button>\n        {Menu && (\n          <MenuToggle\n            offset={menuOffset}\n            placement={menuPlacement}\n            ToggleButton={ToggleMenuButton}\n            onToggle={onMenuToggle}\n          >\n            {isComponentType(Menu) ? <Menu /> : Menu}\n          </MenuToggle>\n        )}\n      </div>\n      {caption && (\n        <div className=\"str-video__composite-button__caption\">{caption}</div>\n      )}\n    </div>\n  );\n});\n\nconst DefaultToggleMenuButton = forwardRef<\n  HTMLButtonElement,\n  ToggleMenuButtonProps\n>(function DefaultToggleMenuButton({ menuShown }, ref) {\n  return (\n    <IconButton\n      className={clsx('str-video__menu-toggle-button', {\n        'str-video__menu-toggle-button--active': menuShown,\n      })}\n      icon={menuShown ? 'caret-down' : 'caret-up'}\n      ref={ref}\n    />\n  );\n});\n","import { ComponentProps } from 'react';\n\nexport const TextButton = ({\n  children,\n  ...rest\n}: Omit<ComponentProps<'button'>, 'ref' | 'className'>) => {\n  return (\n    <button {...rest} className=\"str-video__text-button\">\n      {children}\n    </button>\n  );\n};\n","import { MouseEventHandler, useCallback } from 'react';\nimport { IconButton } from '../Button';\nimport { useCall } from '@stream-io/video-react-bindings';\n\nexport type AcceptCallButtonProps = {\n  disabled?: boolean;\n  onClick?: MouseEventHandler<HTMLButtonElement>;\n  onAccept?: () => void;\n};\n\nexport const AcceptCallButton = ({\n  disabled,\n  onAccept,\n  onClick,\n}: AcceptCallButtonProps) => {\n  const call = useCall();\n  const handleClick: MouseEventHandler<HTMLButtonElement> = useCallback(\n    async (e) => {\n      if (onClick) {\n        onClick(e);\n      } else if (call) {\n        await call.join();\n        onAccept?.();\n      }\n    },\n    [onClick, onAccept, call],\n  );\n  return (\n    <IconButton\n      disabled={disabled}\n      icon=\"call-accept\"\n      variant=\"success\"\n      data-testid=\"accept-call-button\"\n      onClick={handleClick}\n    />\n  );\n};\n","import { PropsWithChildren, ReactNode, useEffect } from 'react';\nimport { Placement } from '@floating-ui/react';\n\nimport { useFloatingUIPreset } from '../../hooks';\n\nexport type NotificationProps = {\n  message?: ReactNode;\n  isVisible?: boolean;\n  visibilityTimeout?: number;\n  resetIsVisible?: () => void;\n  placement?: Placement;\n  iconClassName?: string | null;\n  close?: () => void;\n};\n\nexport const Notification = (props: PropsWithChildren<NotificationProps>) => {\n  const {\n    isVisible,\n    message,\n    children,\n    visibilityTimeout,\n    resetIsVisible,\n    placement = 'top',\n    iconClassName = 'str-video__notification__icon',\n    close,\n  } = props;\n\n  const { refs, x, y, strategy } = useFloatingUIPreset({\n    placement,\n    strategy: 'absolute',\n  });\n\n  useEffect(() => {\n    if (!isVisible || !visibilityTimeout || !resetIsVisible) return;\n\n    const timeout = setTimeout(() => {\n      resetIsVisible();\n    }, visibilityTimeout);\n\n    return () => clearTimeout(timeout);\n  }, [isVisible, resetIsVisible, visibilityTimeout]);\n\n  return (\n    <div ref={refs.setReference}>\n      {isVisible && (\n        <div\n          className=\"str-video__notification\"\n          ref={refs.setFloating}\n          style={{\n            position: strategy,\n            top: y ?? 0,\n            left: x ?? 0,\n            overflowY: 'auto',\n          }}\n        >\n          {iconClassName && <i className={iconClassName} />}\n          <span className=\"str-video__notification__message\">{message}</span>\n          {close ? (\n            <i\n              className=\"str-video__icon str-video__icon--close str-video__notification__close\"\n              onClick={close}\n            />\n          ) : null}\n        </div>\n      )}\n      {children}\n    </div>\n  );\n};\n","import { Notification } from './Notification';\nimport { OwnCapability } from '@stream-io/video-client';\nimport {\n  PropsWithChildren,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { useCallStateHooks } from '@stream-io/video-react-bindings';\n\nexport type PermissionNotificationProps = PropsWithChildren<{\n  /**\n   * Set this to true if there is ongoing request for the permission.\n   */\n  isAwaitingApproval: boolean;\n\n  /**\n   * The message to display in the notification once\n   * the requested permission is granted.\n   */\n  messageApproved: string;\n\n  /**\n   * The message to display in the notification once a permission\n   * is revoked.\n   */\n  messageRevoked: string;\n\n  /**\n   * The message to display in the notification while\n   * the requested permission is awaiting approval.\n   */\n  messageAwaitingApproval: string;\n\n  /**\n   * The permission to check for.\n   */\n  permission: OwnCapability;\n\n  /**\n   * The time in milliseconds to display the notification.\n   * Defaults to 3500ms.\n   */\n  visibilityTimeout?: number;\n}>;\n\nexport const PermissionNotification = (props: PermissionNotificationProps) => {\n  const {\n    permission,\n    isAwaitingApproval,\n    messageApproved,\n    messageAwaitingApproval,\n    messageRevoked,\n    visibilityTimeout = 3500,\n    children,\n  } = props;\n  const { useHasPermissions } = useCallStateHooks();\n  const hasPermission = useHasPermissions(permission);\n  const prevHasPermission = useRef(hasPermission);\n  const [showNotification, setShowNotification] = useState<\n    'granted' | 'revoked'\n  >();\n  useEffect(() => {\n    if (prevHasPermission.current === hasPermission) return;\n\n    if (hasPermission) {\n      setShowNotification('granted');\n      prevHasPermission.current = true;\n    } else {\n      setShowNotification('revoked');\n      prevHasPermission.current = false;\n    }\n  }, [hasPermission]);\n\n  const resetIsVisible = useCallback(() => setShowNotification(undefined), []);\n  if (isAwaitingApproval) {\n    return (\n      <Notification\n        isVisible={isAwaitingApproval && !hasPermission}\n        message={messageAwaitingApproval}\n      >\n        {children}\n      </Notification>\n    );\n  }\n\n  return (\n    <Notification\n      isVisible={!!showNotification}\n      visibilityTimeout={visibilityTimeout}\n      resetIsVisible={resetIsVisible}\n      message={\n        showNotification === 'granted' ? messageApproved : messageRevoked\n      }\n    >\n      {children}\n    </Notification>\n  );\n};\n","import { PropsWithChildren } from 'react';\nimport { Placement } from '@floating-ui/react';\n\nimport { useCallStateHooks, useI18n } from '@stream-io/video-react-bindings';\nimport { Notification } from './Notification';\n\nexport type SpeakingWhileMutedNotificationProps = {\n  /**\n   * Text message displayed by the notification.\n   */\n  text?: string;\n  placement?: Placement;\n};\n\nexport const SpeakingWhileMutedNotification = ({\n  children,\n  text,\n  placement,\n}: PropsWithChildren<SpeakingWhileMutedNotificationProps>) => {\n  const { useMicrophoneState } = useCallStateHooks();\n  const { isSpeakingWhileMuted } = useMicrophoneState();\n  const { t } = useI18n();\n\n  const message = text ?? t('You are muted. Unmute to speak.');\n  return (\n    <Notification\n      message={message}\n      isVisible={isSpeakingWhileMuted}\n      placement={placement || 'top-start'}\n    >\n      {children}\n    </Notification>\n  );\n};\n","import { PropsWithChildren, useEffect, useState } from 'react';\nimport {\n  useI18n,\n  useToggleCallRecording,\n} from '@stream-io/video-react-bindings';\nimport { Notification } from './Notification';\n\nexport type RecordingInProgressNotificationProps = {\n  text?: string;\n};\n\nexport const RecordingInProgressNotification = ({\n  children,\n  text,\n}: PropsWithChildren<RecordingInProgressNotificationProps>) => {\n  const { t } = useI18n();\n  const { isCallRecordingInProgress } = useToggleCallRecording();\n\n  const [isVisible, setVisible] = useState(false);\n\n  const message = text ?? t('Recording in progress...');\n\n  useEffect(() => {\n    if (isCallRecordingInProgress) {\n      setVisible(true);\n    } else {\n      setVisible(false);\n    }\n  }, [isCallRecordingInProgress]);\n\n  return (\n    <Notification\n      message={message}\n      iconClassName=\"str-video__icon str-video__icon--recording-on\"\n      isVisible={isVisible}\n      placement=\"top-start\"\n      close={() => setVisible(false)}\n    >\n      {children}\n    </Notification>\n  );\n};\n","import clsx from 'clsx';\n\nexport type LoadingIndicatorProps = {\n  className?: string;\n  /** String will be injected into class and later used to apply as a CSS mask-image to an element as data URL */\n  type?: string;\n  /** Text to be displayed under the loading indicator icon */\n  text?: string;\n  /** Tooltip to be displayed on hover */\n  tooltip?: string;\n};\n\nexport const LoadingIndicator = ({\n  className,\n  type = 'spinner',\n  text,\n  tooltip,\n}: LoadingIndicatorProps) => {\n  return (\n    <div\n      className={clsx('str-video__loading-indicator', className)}\n      title={tooltip}\n    >\n      <div className={clsx('str-video__loading-indicator__icon', type)}></div>\n      {text && <p className=\"str-video__loading-indicator-text\">{text}</p>}\n    </div>\n  );\n};\n","import { PropsWithChildren, useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { useFloatingUIPreset } from '../../hooks';\nimport { FloatingArrow, Placement, arrow } from '@floating-ui/react';\n\nexport type TooltipProps<T extends HTMLElement> = PropsWithChildren<{\n  /** Reference element to which the tooltip should attach to */\n  referenceElement: T | null;\n  /** Additional class applied to the tooltip root element */\n  tooltipClassName?: string;\n  /** Popper's modifier (offset) property - [xAxis offset, yAxis offset], default [0, 10] */\n  offset?: [number, number];\n  /** Popper's placement property defining default position of the tooltip, default 'top' */\n  tooltipPlacement?: Placement;\n  /** Tells component whether to render its contents */\n  visible?: boolean;\n}>;\n\nexport const Tooltip = <T extends HTMLElement>({\n  children,\n  referenceElement,\n  tooltipClassName,\n  tooltipPlacement = 'top',\n  visible = false,\n}: TooltipProps<T>) => {\n  const arrowRef = useRef<SVGSVGElement>(null);\n  const { refs, x, y, strategy, context } = useFloatingUIPreset({\n    placement: tooltipPlacement,\n    strategy: 'absolute',\n    middleware: [arrow({ element: arrowRef })],\n  });\n\n  useEffect(() => {\n    refs.setReference(referenceElement);\n  }, [referenceElement, refs]);\n\n  if (!visible) return null;\n\n  return (\n    <div\n      className={clsx('str-video__tooltip', tooltipClassName)}\n      ref={refs.setFloating}\n      style={{\n        position: strategy,\n        top: y ?? 0,\n        left: x ?? 0,\n      }}\n    >\n      <FloatingArrow\n        ref={arrowRef}\n        context={context}\n        fill=\"var(--str-video__tooltip--background-color)\"\n      />\n      {children}\n    </div>\n  );\n};\n","import { MouseEventHandler, useCallback, useState } from 'react';\n\nexport const useEnterLeaveHandlers = <T extends HTMLElement>({\n  onMouseEnter,\n  onMouseLeave,\n}: Partial<\n  Record<'onMouseEnter' | 'onMouseLeave', MouseEventHandler<T>>\n> = {}) => {\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n\n  const handleMouseEnter: MouseEventHandler<T> = useCallback(\n    (e) => {\n      setTooltipVisible(true);\n      onMouseEnter?.(e);\n    },\n    [onMouseEnter],\n  );\n\n  const handleMouseLeave: MouseEventHandler<T> = useCallback(\n    (e) => {\n      setTooltipVisible(false);\n      onMouseLeave?.(e);\n    },\n    [onMouseLeave],\n  );\n\n  return { handleMouseEnter, handleMouseLeave, tooltipVisible };\n};\n","import { ComponentProps, useState } from 'react';\nimport { Tooltip, TooltipProps } from './Tooltip';\nimport { useEnterLeaveHandlers } from './hooks';\n\ntype WithPopupProps = ComponentProps<'div'> &\n  Omit<TooltipProps<HTMLDivElement>, 'referenceElement' | 'children'> & {\n    tooltipDisabled?: boolean;\n  };\n\n// todo: duplicate of CallParticipantList.tsx#MediaIndicator - refactor to a single component\nexport const WithTooltip = ({\n  title,\n  tooltipClassName,\n  tooltipPlacement,\n  tooltipDisabled,\n  ...props\n}: WithPopupProps) => {\n  const { handleMouseEnter, handleMouseLeave, tooltipVisible } =\n    useEnterLeaveHandlers<HTMLDivElement>();\n  const [tooltipAnchor, setTooltipAnchor] = useState<HTMLDivElement | null>(\n    null,\n  );\n  const tooltipActuallyVisible =\n    !tooltipDisabled && Boolean(title) && tooltipVisible;\n\n  return (\n    <>\n      <Tooltip\n        referenceElement={tooltipAnchor}\n        visible={tooltipActuallyVisible}\n        tooltipClassName={tooltipClassName}\n        tooltipPlacement={tooltipPlacement}\n      >\n        {title || ''}\n      </Tooltip>\n      <div\n        ref={setTooltipAnchor}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n        {...props}\n      />\n    </>\n  );\n};\n","import { forwardRef } from 'react';\n\nimport { OwnCapability } from '@stream-io/video-client';\nimport {\n  Restricted,\n  useI18n,\n  useToggleCallRecording,\n} from '@stream-io/video-react-bindings';\nimport { CompositeButton } from '../Button/';\nimport { Icon } from '../Icon';\nimport {\n  MenuToggle,\n  MenuVisualType,\n  ToggleMenuButtonProps,\n  useMenuContext,\n} from '../Menu';\nimport { LoadingIndicator } from '../LoadingIndicator';\nimport { WithTooltip } from '../Tooltip';\n\nexport type RecordCallButtonProps = {\n  caption?: string;\n};\n\nconst RecordEndConfirmation = () => {\n  const { t } = useI18n();\n  const { toggleCallRecording, isAwaitingResponse } = useToggleCallRecording();\n\n  const { close } = useMenuContext();\n\n  return (\n    <div className=\"str-video__end-recording__confirmation\">\n      <div className=\"str-video__end-recording__header\">\n        <Icon icon=\"recording-on\" />\n        <h2 className=\"str-video__end-recording__heading\">\n          {t('End recording')}\n        </h2>\n      </div>\n      <p className=\"str-video__end-recording__description\">\n        {t('Are you sure you want end the recording?')}\n      </p>\n      <div className=\"str-video__end-recording__actions\">\n        <CompositeButton variant=\"secondary\" onClick={close}>\n          {t('Cancel')}\n        </CompositeButton>\n        <CompositeButton variant=\"primary\" onClick={toggleCallRecording}>\n          {isAwaitingResponse ? <LoadingIndicator /> : t('End recording')}\n        </CompositeButton>\n      </div>\n    </div>\n  );\n};\n\nconst ToggleEndRecordingMenuButton = forwardRef<\n  HTMLDivElement,\n  ToggleMenuButtonProps\n>(function ToggleEndRecordingMenuButton(props, ref) {\n  return (\n    <CompositeButton\n      ref={ref}\n      active={true}\n      variant=\"secondary\"\n      data-testid=\"recording-stop-button\"\n    >\n      <Icon icon=\"recording-off\" />\n    </CompositeButton>\n  );\n});\n\nexport const RecordCallConfirmationButton = ({\n  caption,\n}: {\n  caption?: string;\n}) => {\n  const { t } = useI18n();\n  const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } =\n    useToggleCallRecording();\n\n  if (isCallRecordingInProgress) {\n    return (\n      <Restricted\n        requiredGrants={[\n          OwnCapability.START_RECORD_CALL,\n          OwnCapability.STOP_RECORD_CALL,\n        ]}\n      >\n        <MenuToggle\n          ToggleButton={ToggleEndRecordingMenuButton}\n          visualType={MenuVisualType.PORTAL}\n        >\n          <RecordEndConfirmation />\n        </MenuToggle>\n      </Restricted>\n    );\n  }\n\n  const title = isAwaitingResponse\n    ? t('Waiting for recording to start...')\n    : (caption ?? t('Record call'));\n\n  return (\n    <Restricted\n      requiredGrants={[\n        OwnCapability.START_RECORD_CALL,\n        OwnCapability.STOP_RECORD_CALL,\n      ]}\n    >\n      <WithTooltip title={title}>\n        <CompositeButton\n          active={isCallRecordingInProgress}\n          caption={caption}\n          variant=\"secondary\"\n          data-testid=\"recording-start-button\"\n          onClick={isAwaitingResponse ? undefined : toggleCallRecording}\n        >\n          {isAwaitingResponse ? (\n            <LoadingIndicator />\n          ) : (\n            <Icon icon=\"recording-off\" />\n          )}\n        </CompositeButton>\n      </WithTooltip>\n    </Restricted>\n  );\n};\n\nexport const RecordCallButton = ({ caption }: RecordCallButtonProps) => {\n  const { t } = useI18n();\n  const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } =\n    useToggleCallRecording();\n\n  let title = caption ?? t('Record call');\n\n  if (isAwaitingResponse) {\n    title = isCallRecordingInProgress\n      ? t('Waiting for recording to stop...')\n      : t('Waiting for recording to start...');\n  }\n\n  return (\n    <Restricted\n      requiredGrants={[\n        OwnCapability.START_RECORD_CALL,\n        OwnCapability.STOP_RECORD_CALL,\n      ]}\n    >\n      <CompositeButton\n        active={isCallRecordingInProgress}\n        caption={caption}\n        variant=\"secondary\"\n        data-testid={\n          isCallRecordingInProgress\n            ? 'recording-stop-button'\n            : 'recording-start-button'\n        }\n        title={title}\n        onClick={isAwaitingResponse ? undefined : toggleCallRecording}\n      >\n        {isAwaitingResponse ? (\n          <LoadingIndicator />\n        ) : (\n          <Icon\n            icon={isCallRecordingInProgress ? 'recording-on' : 'recording-off'}\n          />\n        )}\n      </CompositeButton>\n    </Restricted>\n  );\n};\n","import { useEffect } from 'react';\nimport { StreamVideoParticipant } from '@stream-io/video-client';\nimport { useCall } from '@stream-io/video-react-bindings';\n\nexport type ReactionProps = {\n  participant: StreamVideoParticipant;\n  hideAfterTimeoutInMs?: number;\n  emojiReactionMap?: Record<string, string>;\n};\n\nexport const defaultEmojiReactionMap: Record<string, string> = {\n  ':like:': '',\n  ':raise-hand:': '',\n  ':fireworks:': '',\n  ':dislike:': '',\n  ':heart:': '',\n  ':smile:': '',\n};\n\nexport const Reaction = ({\n  participant: { reaction, sessionId },\n  hideAfterTimeoutInMs = 5500,\n  emojiReactionMap = defaultEmojiReactionMap,\n}: ReactionProps) => {\n  const call = useCall();\n\n  useEffect(() => {\n    if (!call || !reaction) return;\n\n    const timeoutId = setTimeout(() => {\n      call.resetReaction(sessionId);\n    }, hideAfterTimeoutInMs);\n\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, [call, hideAfterTimeoutInMs, reaction, sessionId]);\n\n  if (!reaction) return null;\n\n  const { emoji_code: emojiCode } = reaction;\n\n  return (\n    <div className=\"str-video__reaction\">\n      <span className=\"str-video__reaction__emoji\">\n        {emojiCode && emojiReactionMap[emojiCode]}\n      </span>\n    </div>\n  );\n};\n","import { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport { OwnCapability, StreamReaction } from '@stream-io/video-client';\nimport { Restricted, useCall, useI18n } from '@stream-io/video-react-bindings';\n\nimport {\n  MenuToggle,\n  MenuVisualType,\n  ToggleMenuButtonProps,\n  useMenuContext,\n} from '../Menu';\nimport { CompositeButton } from '../Button';\nimport { defaultEmojiReactionMap } from '../Reaction';\nimport { Icon } from '../Icon';\nimport { WithTooltip } from '../Tooltip';\n\nexport const defaultReactions: StreamReaction[] = [\n  {\n    type: 'reaction',\n    emoji_code: ':like:',\n  },\n  {\n    // TODO OL: use `prompt` type?\n    type: 'raised-hand',\n    emoji_code: ':raise-hand:',\n  },\n  {\n    type: 'reaction',\n    emoji_code: ':fireworks:',\n  },\n  {\n    type: 'reaction',\n    emoji_code: ':dislike:',\n  },\n  {\n    type: 'reaction',\n    emoji_code: ':heart:',\n  },\n  {\n    type: 'reaction',\n    emoji_code: ':smile:',\n  },\n];\n\nexport interface ReactionsButtonProps {\n  reactions?: StreamReaction[];\n}\n\nexport const ReactionsButton = ({\n  reactions = defaultReactions,\n}: ReactionsButtonProps) => {\n  return (\n    <Restricted requiredGrants={[OwnCapability.CREATE_REACTION]}>\n      <MenuToggle\n        placement=\"top\"\n        ToggleButton={ToggleReactionsMenuButton}\n        visualType={MenuVisualType.MENU}\n      >\n        <DefaultReactionsMenu reactions={reactions} />\n      </MenuToggle>\n    </Restricted>\n  );\n};\n\nconst ToggleReactionsMenuButton = forwardRef<\n  HTMLDivElement,\n  ToggleMenuButtonProps\n>(function ToggleReactionsMenuButton({ menuShown }, ref) {\n  const { t } = useI18n();\n  return (\n    <WithTooltip title={t('Reactions')} tooltipDisabled={menuShown}>\n      <CompositeButton ref={ref} active={menuShown} variant=\"primary\">\n        <Icon icon=\"reactions\" />\n      </CompositeButton>\n    </WithTooltip>\n  );\n});\n\nexport interface DefaultReactionsMenuProps {\n  reactions: StreamReaction[];\n  layout?: 'horizontal' | 'vertical';\n}\n\nexport const DefaultReactionsMenu = ({\n  reactions,\n  layout = 'horizontal',\n}: DefaultReactionsMenuProps) => {\n  const call = useCall();\n  const { close } = useMenuContext();\n  return (\n    <div\n      className={clsx('str-video__reactions-menu', {\n        'str-video__reactions-menu--horizontal': layout === 'horizontal',\n        'str-video__reactions-menu--vertical': layout === 'vertical',\n      })}\n    >\n      {reactions.map((reaction) => (\n        <button\n          key={reaction.emoji_code}\n          type=\"button\"\n          className=\"str-video__reactions-menu__button\"\n          onClick={() => {\n            call?.sendReaction(reaction);\n            close?.();\n          }}\n        >\n          {reaction.emoji_code && defaultEmojiReactionMap[reaction.emoji_code]}\n        </button>\n      ))}\n    </div>\n  );\n};\n","export type PropsWithErrorHandler<T = unknown> = T & {\n  /**\n   * Will be called if the call control action failed with an error (e.g. user didn't grant a\n   * browser permission to enable a media device). If no callback is provided, just logs the error.\n   * @param error Exception which caused call control action to fail\n   */\n  onError?: (error: unknown) => void;\n};\n\n/**\n * Wraps an event handler, silencing and logging exceptions (excluding the NotAllowedError\n * DOMException, which is a normal situation handled by the SDK)\n *\n * @param props component props, including the onError callback\n * @param handler event handler to wrap\n */\nexport const createCallControlHandler = (\n  props: PropsWithErrorHandler,\n  handler: () => Promise<void>,\n): (() => Promise<void>) => {\n  return async () => {\n    try {\n      await handler();\n    } catch (error) {\n      if (props.onError) {\n        props.onError(error);\n        return;\n      }\n\n      if (!isNotAllowedError(error)) {\n        console.error('Call control handler failed', error);\n      }\n    }\n  };\n};\n\nfunction isNotAllowedError(error: unknown): error is DOMException {\n  return error instanceof DOMException && error.name === 'NotAllowedError';\n}\n","import { OwnCapability } from '@stream-io/video-client';\nimport {\n  Restricted,\n  useCallStateHooks,\n  useI18n,\n  UseInputMediaDeviceOptions,\n} from '@stream-io/video-react-bindings';\nimport { CompositeButton } from '../Button/';\nimport { PermissionNotification } from '../Notification';\nimport { useRequestPermission } from '../../hooks';\nimport { Icon } from '../Icon';\nimport { WithTooltip } from '../Tooltip';\nimport {\n  PropsWithErrorHandler,\n  createCallControlHandler,\n} from '../../utilities/callControlHandler';\n\nexport type ScreenShareButtonProps = PropsWithErrorHandler<\n  {\n    caption?: string;\n  } & UseInputMediaDeviceOptions\n>;\n\nexport const ScreenShareButton = (props: ScreenShareButtonProps) => {\n  const { t } = useI18n();\n  const { caption, optimisticUpdates } = props;\n\n  const { useHasOngoingScreenShare, useScreenShareState, useCallSettings } =\n    useCallStateHooks();\n  const isSomeoneScreenSharing = useHasOngoingScreenShare();\n  const { hasPermission, requestPermission, isAwaitingPermission } =\n    useRequestPermission(OwnCapability.SCREENSHARE);\n\n  const callSettings = useCallSettings();\n  const isScreenSharingAllowed = callSettings?.screensharing.enabled;\n\n  const { screenShare, optionsAwareIsMute, isTogglePending } =\n    useScreenShareState({\n      optimisticUpdates,\n    });\n  const amIScreenSharing = !optionsAwareIsMute;\n  const disableScreenShareButton =\n    (!amIScreenSharing &&\n      (isSomeoneScreenSharing || isScreenSharingAllowed === false)) ||\n    (!optimisticUpdates && isTogglePending);\n  const handleClick = createCallControlHandler(props, async () => {\n    if (!hasPermission) {\n      await requestPermission();\n    } else {\n      await screenShare.toggle();\n    }\n  });\n\n  return (\n    <Restricted requiredGrants={[OwnCapability.SCREENSHARE]}>\n      <PermissionNotification\n        permission={OwnCapability.SCREENSHARE}\n        isAwaitingApproval={isAwaitingPermission}\n        messageApproved={t('You can now share your screen.')}\n        messageAwaitingApproval={t('Awaiting for an approval to share screen.')}\n        messageRevoked={t('You can no longer share your screen.')}\n      >\n        <WithTooltip title={caption ?? t('Share screen')}>\n          <CompositeButton\n            active={isSomeoneScreenSharing || amIScreenSharing}\n            caption={caption}\n            variant=\"primary\"\n            data-testid={\n              isSomeoneScreenSharing\n                ? 'screen-share-stop-button'\n                : 'screen-share-start-button'\n            }\n            disabled={disableScreenShareButton}\n            onClick={handleClick}\n          >\n            <Icon\n              icon={\n                isSomeoneScreenSharing ? 'screen-share-on' : 'screen-share-off'\n              }\n            />\n          </CompositeButton>\n        </WithTooltip>\n      </PermissionNotification>\n    </Restricted>\n  );\n};\n","import {\n  createContext,\n  ReactElement,\n  ReactNode,\n  useCallback,\n  useContext,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport clsx from 'clsx';\nimport {\n  autoUpdate,\n  flip,\n  FloatingFocusManager,\n  FloatingList,\n  useClick,\n  useDismiss,\n  useFloating,\n  useInteractions,\n  useListItem,\n  useListNavigation,\n  useRole,\n  useTypeahead,\n} from '@floating-ui/react';\n\nimport { Icon } from '../Icon';\n\ninterface SelectContextValue {\n  activeIndex: number | null;\n  selectedIndex: number | null;\n  getItemProps: ReturnType<typeof useInteractions>['getItemProps'];\n  handleSelect: (index: number | null) => void;\n}\n\nconst SelectContext = createContext<SelectContextValue>(\n  {} as SelectContextValue,\n);\n\nconst Select = (props: {\n  children: ReactNode;\n  icon?: string;\n  defaultSelectedLabel: string;\n  defaultSelectedIndex: number;\n  handleSelect: (index: number) => void;\n}) => {\n  const {\n    children,\n    icon,\n    defaultSelectedLabel,\n    defaultSelectedIndex,\n    handleSelect: handleSelectProp,\n  } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const [activeIndex, setActiveIndex] = useState<number | null>(null);\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(\n    defaultSelectedIndex,\n  );\n  const [selectedLabel, setSelectedLabel] = useState<string | null>(\n    defaultSelectedLabel,\n  );\n\n  const { refs, context } = useFloating({\n    placement: 'bottom-start',\n    open: isOpen,\n    onOpenChange: setIsOpen,\n    whileElementsMounted: autoUpdate,\n    middleware: [flip()],\n  });\n\n  const elementsRef = useRef<Array<HTMLElement | null>>([]);\n  const labelsRef = useRef<Array<string | null>>([]);\n\n  const handleSelect = useCallback(\n    (index: number | null) => {\n      setSelectedIndex(index);\n      handleSelectProp(index || 0);\n      setIsOpen(false);\n      if (index !== null) {\n        setSelectedLabel(labelsRef.current[index]);\n      }\n    },\n    [handleSelectProp],\n  );\n\n  const handleTypeaheadMatch = (index: number | null) => {\n    if (isOpen) {\n      setActiveIndex(index);\n    } else {\n      handleSelect(index);\n    }\n  };\n\n  const listNav = useListNavigation(context, {\n    listRef: elementsRef,\n    activeIndex,\n    selectedIndex,\n    onNavigate: setActiveIndex,\n  });\n  const typeahead = useTypeahead(context, {\n    listRef: labelsRef,\n    activeIndex,\n    selectedIndex,\n    onMatch: handleTypeaheadMatch,\n  });\n  const click = useClick(context);\n  const dismiss = useDismiss(context);\n  const role = useRole(context, { role: 'listbox' });\n\n  const { getReferenceProps, getFloatingProps, getItemProps } = useInteractions(\n    [listNav, typeahead, click, dismiss, role],\n  );\n\n  const selectContext = useMemo(\n    () => ({\n      activeIndex,\n      selectedIndex,\n      getItemProps,\n      handleSelect,\n    }),\n    [activeIndex, selectedIndex, getItemProps, handleSelect],\n  );\n\n  return (\n    <div className=\"str-video__dropdown\">\n      <div\n        className=\"str-video__dropdown-selected\"\n        ref={refs.setReference}\n        tabIndex={0}\n        {...getReferenceProps()}\n      >\n        <label className=\"str-video__dropdown-selected__label\">\n          {icon && (\n            <Icon className=\"str-video__dropdown-selected__icon\" icon={icon} />\n          )}\n          {selectedLabel}\n        </label>\n        <Icon\n          className=\"str-video__dropdown-selected__chevron\"\n          icon={isOpen ? 'chevron-up' : 'chevron-down'}\n        />\n      </div>\n      <SelectContext.Provider value={selectContext}>\n        {isOpen && (\n          <FloatingFocusManager context={context} modal={false}>\n            <div\n              className=\"str-video__dropdown-list\"\n              ref={refs.setFloating}\n              {...getFloatingProps()}\n            >\n              <FloatingList elementsRef={elementsRef} labelsRef={labelsRef}>\n                {children}\n              </FloatingList>\n            </div>\n          </FloatingFocusManager>\n        )}\n      </SelectContext.Provider>\n    </div>\n  );\n};\n\nexport type DropDownSelectOptionProps = {\n  label: string;\n  selected?: boolean;\n  icon?: string;\n};\n\nexport const DropDownSelectOption = (props: DropDownSelectOptionProps) => {\n  const { selected, label, icon } = props;\n  const { getItemProps, handleSelect } = useContext(SelectContext);\n  const { ref, index } = useListItem();\n  return (\n    <div\n      className={clsx('str-video__dropdown-option', {\n        'str-video__dropdown-option--selected': selected,\n      })}\n      ref={ref}\n      {...getItemProps({\n        onClick: () => handleSelect(index),\n      })}\n    >\n      {icon && <Icon className=\"str-video__dropdown-icon\" icon={icon} />}\n      <span className=\"str-video__dropdown-label\">{label}</span>\n    </div>\n  );\n};\n\nexport const DropDownSelect = (props: {\n  icon?: string;\n  defaultSelectedLabel: string;\n  defaultSelectedIndex: number;\n  handleSelect: (index: number) => void;\n  children:\n    | ReactElement<DropDownSelectOptionProps>\n    | ReactElement<DropDownSelectOptionProps>[];\n}) => {\n  const {\n    children,\n    icon,\n    handleSelect,\n    defaultSelectedLabel,\n    defaultSelectedIndex,\n  } = props;\n  return (\n    <Select\n      icon={icon}\n      handleSelect={handleSelect}\n      defaultSelectedIndex={defaultSelectedIndex}\n      defaultSelectedLabel={defaultSelectedLabel}\n    >\n      {children}\n    </Select>\n  );\n};\n","import clsx from 'clsx';\nimport { ChangeEventHandler, useCallback } from 'react';\n\nimport { useDeviceList } from '../../hooks';\nimport { DropDownSelect, DropDownSelectOption } from '../DropdownSelect';\nimport { useMenuContext } from '../Menu';\n\ntype DeviceSelectorOptionProps = {\n  id: string;\n  label: string;\n  name?: string;\n  selected?: boolean;\n  value: string;\n  disabled?: boolean;\n  defaultChecked?: boolean;\n  onChange?: ChangeEventHandler<HTMLInputElement>;\n};\n\nconst DeviceSelectorOption = ({\n  disabled,\n  id,\n  label,\n  onChange,\n  name,\n  selected,\n  defaultChecked,\n  value,\n}: DeviceSelectorOptionProps) => {\n  return (\n    <label\n      className={clsx('str-video__device-settings__option', {\n        'str-video__device-settings__option--selected': selected,\n        'str-video__device-settings__option--disabled': disabled,\n      })}\n      htmlFor={id}\n    >\n      <input\n        type=\"radio\"\n        name={name}\n        onChange={onChange}\n        value={value}\n        id={id}\n        checked={selected}\n        defaultChecked={defaultChecked}\n        disabled={disabled}\n      />\n      {label}\n    </label>\n  );\n};\n\nexport type DeviceSelectorType = 'audioinput' | 'audiooutput' | 'videoinput';\n\nconst DeviceSelectorList = (props: {\n  devices: MediaDeviceInfo[];\n  type: DeviceSelectorType;\n  selectedDeviceId?: string;\n  title?: string;\n  onChange?: (deviceId: string) => void;\n}) => {\n  const { devices = [], selectedDeviceId, title, type, onChange } = props;\n  const { close } = useMenuContext();\n  const { deviceList } = useDeviceList(devices, selectedDeviceId);\n\n  return (\n    <div className=\"str-video__device-settings__device-kind\">\n      {title && (\n        <div className=\"str-video__device-settings__device-selector-title\">\n          {title}\n        </div>\n      )}\n      {deviceList.map((device) => {\n        return (\n          <DeviceSelectorOption\n            id={`${type}--${device.deviceId}`}\n            value={device.deviceId}\n            label={device.label}\n            key={device.deviceId}\n            onChange={(e) => {\n              const deviceId = e.target.value;\n              if (deviceId !== 'default') {\n                onChange?.(deviceId);\n              }\n              close?.();\n            }}\n            name={type}\n            selected={device.isSelected}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nconst DeviceSelectorDropdown = (props: {\n  devices: MediaDeviceInfo[];\n  selectedDeviceId?: string;\n  title?: string;\n  onChange?: (deviceId: string) => void;\n  icon: string;\n}) => {\n  const { devices = [], selectedDeviceId, title, onChange, icon } = props;\n  const { deviceList, selectedDeviceInfo, selectedIndex } = useDeviceList(\n    devices,\n    selectedDeviceId,\n  );\n\n  const handleSelect = useCallback(\n    (index: number) => {\n      const deviceId = deviceList[index].deviceId;\n      if (deviceId !== 'default') {\n        onChange?.(deviceId);\n      }\n    },\n    [deviceList, onChange],\n  );\n\n  return (\n    <div className=\"str-video__device-settings__device-kind\">\n      <div className=\"str-video__device-settings__device-selector-title\">\n        {title}\n      </div>\n      <DropDownSelect\n        icon={icon}\n        defaultSelectedIndex={selectedIndex}\n        defaultSelectedLabel={selectedDeviceInfo.label}\n        handleSelect={handleSelect}\n      >\n        {deviceList.map((device) => (\n          <DropDownSelectOption\n            key={device.deviceId}\n            icon={icon}\n            label={device.label}\n            selected={device.isSelected}\n          />\n        ))}\n      </DropDownSelect>\n    </div>\n  );\n};\n\nexport const DeviceSelector = (props: {\n  devices: MediaDeviceInfo[];\n  icon: string;\n  type: DeviceSelectorType;\n  selectedDeviceId?: string;\n  title?: string;\n  onChange?: (deviceId: string) => void;\n  visualType?: 'list' | 'dropdown';\n}) => {\n  const { visualType = 'list', icon, ...rest } = props;\n\n  if (visualType === 'list') {\n    return <DeviceSelectorList {...rest} />;\n  }\n  return <DeviceSelectorDropdown {...rest} icon={icon} />;\n};\n","import { useCallStateHooks } from '@stream-io/video-react-bindings';\nimport { DeviceSelector } from './DeviceSelector';\n\nexport type DeviceSelectorAudioInputProps = {\n  title?: string;\n  visualType?: 'list' | 'dropdown';\n};\n\nexport const DeviceSelectorAudioInput = ({\n  title,\n  visualType,\n}: DeviceSelectorAudioInputProps) => {\n  const { useMicrophoneState } = useCallStateHooks();\n  const { microphone, selectedDevice, devices } = useMicrophoneState();\n\n  return (\n    <DeviceSelector\n      devices={devices || []}\n      selectedDeviceId={selectedDevice}\n      type=\"audioinput\"\n      onChange={async (deviceId) => {\n        await microphone.select(deviceId);\n      }}\n      title={title}\n      visualType={visualType}\n      icon=\"mic\"\n    />\n  );\n};\n\nexport type DeviceSelectorAudioOutputProps = {\n  title?: string;\n  visualType?: 'list' | 'dropdown';\n};\n\nexport const DeviceSelectorAudioOutput = ({\n  title,\n  visualType,\n}: DeviceSelectorAudioOutputProps) => {\n  const { useSpeakerState } = useCallStateHooks();\n  const { speaker, selectedDevice, devices, isDeviceSelectionSupported } =\n    useSpeakerState();\n\n  if (!isDeviceSelectionSupported) return null;\n\n  return (\n    <DeviceSelector\n      devices={devices}\n      type=\"audiooutput\"\n      selectedDeviceId={selectedDevice}\n      onChange={(deviceId) => {\n        speaker.select(deviceId);\n      }}\n      title={title}\n      visualType={visualType}\n      icon=\"speaker\"\n    />\n  );\n};\n","import { DeviceSelector } from './DeviceSelector';\nimport { useCallStateHooks } from '@stream-io/video-react-bindings';\n\nexport type DeviceSelectorVideoProps = {\n  title?: string;\n  visualType?: 'list' | 'dropdown';\n};\n\nexport const DeviceSelectorVideo = ({\n  title,\n  visualType,\n}: DeviceSelectorVideoProps) => {\n  const { useCameraState } = useCallStateHooks();\n  const { camera, devices, selectedDevice } = useCameraState();\n\n  return (\n    <DeviceSelector\n      devices={devices || []}\n      type=\"videoinput\"\n      selectedDeviceId={selectedDevice}\n      onChange={async (deviceId) => {\n        await camera.select(deviceId);\n      }}\n      title={title}\n      visualType={visualType}\n      icon=\"camera\"\n    />\n  );\n};\n","import { forwardRef } from 'react';\nimport { useI18n } from '@stream-io/video-react-bindings';\nimport clsx from 'clsx';\nimport { MenuToggle, MenuVisualType, ToggleMenuButtonProps } from '../Menu';\nimport {\n  DeviceSelectorAudioInput,\n  DeviceSelectorAudioOutput,\n} from './DeviceSelectorAudio';\nimport { DeviceSelectorVideo } from './DeviceSelectorVideo';\nimport { IconButton } from '../Button';\n\nexport type DeviceSettingsProps = {\n  visualType?: MenuVisualType;\n};\n\nexport const DeviceSettings = ({\n  visualType = MenuVisualType.MENU,\n}: DeviceSettingsProps) => {\n  return (\n    <MenuToggle\n      placement=\"bottom-end\"\n      ToggleButton={ToggleDeviceSettingsMenuButton}\n      visualType={visualType}\n    >\n      <Menu />\n    </MenuToggle>\n  );\n};\n\nconst Menu = () => {\n  const { t } = useI18n();\n  return (\n    <div className=\"str-video__device-settings\">\n      <DeviceSelectorVideo title={t('Select a Camera')} />\n      <DeviceSelectorAudioInput title={t('Select a Mic')} />\n      <DeviceSelectorAudioOutput title={t('Select Speakers')} />\n    </div>\n  );\n};\n\nconst ToggleDeviceSettingsMenuButton = forwardRef<\n  HTMLButtonElement,\n  ToggleMenuButtonProps\n>(function ToggleDeviceSettingsMenuButton({ menuShown }, ref) {\n  const { t } = useI18n();\n  return (\n    <IconButton\n      className={clsx('str-video__device-settings__button', {\n        'str-video__device-settings__button--active': menuShown,\n      })}\n      title={t('Toggle device menu')}\n      icon=\"device-settings\"\n      ref={ref}\n    />\n  );\n});\n","import { OwnCapability } from '@stream-io/video-client';\nimport {\n  Restricted,\n  useCallStateHooks,\n  useI18n,\n  type UseInputMediaDeviceOptions,\n} from '@stream-io/video-react-bindings';\nimport clsx from 'clsx';\nimport { CompositeButton, IconButtonWithMenuProps } from '../Button';\nimport { DeviceSelectorAudioInput } from '../DeviceSettings';\nimport { PermissionNotification } from '../Notification';\nimport { useRequestPermission } from '../../hooks';\nimport { Icon } from '../Icon';\nimport { WithTooltip } from '../Tooltip';\nimport { useState } from 'react';\nimport {\n  createCallControlHandler,\n  PropsWithErrorHandler,\n} from '../../utilities/callControlHandler';\n\nexport type ToggleAudioPreviewButtonProps = PropsWithErrorHandler<\n  Pick<\n    IconButtonWithMenuProps,\n    'caption' | 'Menu' | 'menuPlacement' | 'onMenuToggle'\n  > &\n    UseInputMediaDeviceOptions\n>;\n\nexport const ToggleAudioPreviewButton = (\n  props: ToggleAudioPreviewButtonProps,\n) => {\n  const {\n    caption,\n    Menu = DeviceSelectorAudioInput,\n    menuPlacement = 'top',\n    onMenuToggle,\n    optimisticUpdates,\n    ...restCompositeButtonProps\n  } = props;\n  const { t } = useI18n();\n  const { useMicrophoneState } = useCallStateHooks();\n  const {\n    microphone,\n    hasBrowserPermission,\n    isPromptingPermission,\n    optionsAwareIsMute,\n    isTogglePending,\n  } = useMicrophoneState({ optimisticUpdates });\n  const [tooltipDisabled, setTooltipDisabled] = useState(false);\n  const handleClick = createCallControlHandler(props, () =>\n    microphone.toggle(),\n  );\n\n  return (\n    <WithTooltip\n      title={\n        !hasBrowserPermission\n          ? t('Check your browser audio permissions')\n          : (caption ?? t('Mic'))\n      }\n      tooltipDisabled={tooltipDisabled}\n    >\n      <CompositeButton\n        active={optionsAwareIsMute}\n        caption={caption}\n        className={clsx(\n          !hasBrowserPermission && 'str-video__device-unavailable',\n        )}\n        variant=\"secondary\"\n        disabled={\n          !hasBrowserPermission || (!optimisticUpdates && isTogglePending)\n        }\n        data-testid={\n          optionsAwareIsMute\n            ? 'preview-audio-unmute-button'\n            : 'preview-audio-mute-button'\n        }\n        onClick={handleClick}\n        Menu={Menu}\n        menuPlacement={menuPlacement}\n        {...restCompositeButtonProps}\n        onMenuToggle={(shown) => {\n          setTooltipDisabled(shown);\n          onMenuToggle?.(shown);\n        }}\n      >\n        <Icon icon={!optionsAwareIsMute ? 'mic' : 'mic-off'} />\n        {!hasBrowserPermission && (\n          <span\n            className=\"str-video__no-media-permission\"\n            title={t('Check your browser audio permissions')}\n            children=\"!\"\n          />\n        )}\n        {isPromptingPermission && (\n          <span\n            className=\"str-video__pending-permission\"\n            title={t('Waiting for permission')}\n            children=\"?\"\n          />\n        )}\n      </CompositeButton>\n    </WithTooltip>\n  );\n};\n\nexport type ToggleAudioPublishingButtonProps = PropsWithErrorHandler<\n  Pick<\n    IconButtonWithMenuProps,\n    'caption' | 'Menu' | 'menuPlacement' | 'onMenuToggle'\n  > &\n    UseInputMediaDeviceOptions\n>;\n\nexport const ToggleAudioPublishingButton = (\n  props: ToggleAudioPublishingButtonProps,\n) => {\n  const { t } = useI18n();\n  const {\n    caption,\n    Menu = <DeviceSelectorAudioInput visualType=\"list\" />,\n    menuPlacement = 'top',\n    onMenuToggle,\n    optimisticUpdates,\n    ...restCompositeButtonProps\n  } = props;\n\n  const { hasPermission, requestPermission, isAwaitingPermission } =\n    useRequestPermission(OwnCapability.SEND_AUDIO);\n\n  const { useMicrophoneState } = useCallStateHooks();\n  const {\n    microphone,\n    hasBrowserPermission,\n    isPromptingPermission,\n    isTogglePending,\n    optionsAwareIsMute,\n  } = useMicrophoneState({ optimisticUpdates });\n\n  const [tooltipDisabled, setTooltipDisabled] = useState(false);\n  const handleClick = createCallControlHandler(props, async () => {\n    if (!hasPermission) {\n      await requestPermission();\n    } else {\n      await microphone.toggle();\n    }\n  });\n\n  return (\n    <Restricted requiredGrants={[OwnCapability.SEND_AUDIO]}>\n      <PermissionNotification\n        permission={OwnCapability.SEND_AUDIO}\n        isAwaitingApproval={isAwaitingPermission}\n        messageApproved={t('You can now speak.')}\n        messageAwaitingApproval={t('Awaiting for an approval to speak.')}\n        messageRevoked={t('You can no longer speak.')}\n      >\n        <WithTooltip\n          title={\n            !hasPermission\n              ? t('You have no permission to share your audio')\n              : !hasBrowserPermission\n                ? t('Check your browser mic permissions')\n                : (caption ?? t('Mic'))\n          }\n          tooltipDisabled={tooltipDisabled}\n        >\n          <CompositeButton\n            active={optionsAwareIsMute}\n            caption={caption}\n            variant=\"secondary\"\n            disabled={\n              !hasBrowserPermission ||\n              !hasPermission ||\n              // disable button while the toggle action is pending when not using optimistic updates\n              (!optimisticUpdates && isTogglePending)\n            }\n            data-testid={\n              optionsAwareIsMute ? 'audio-unmute-button' : 'audio-mute-button'\n            }\n            onClick={handleClick}\n            Menu={Menu}\n            menuPlacement={menuPlacement}\n            menuOffset={16}\n            {...restCompositeButtonProps}\n            onMenuToggle={(shown) => {\n              setTooltipDisabled(shown);\n              onMenuToggle?.(shown);\n            }}\n          >\n            <Icon icon={optionsAwareIsMute ? 'mic-off' : 'mic'} />\n            {(!hasBrowserPermission || !hasPermission) && (\n              <span className=\"str-video__no-media-permission\">!</span>\n            )}\n            {isPromptingPermission && (\n              <span\n                className=\"str-video__pending-permission\"\n                title={t('Waiting for permission')}\n              >\n                ?\n              </span>\n            )}\n          </CompositeButton>\n        </WithTooltip>\n      </PermissionNotification>\n    </Restricted>\n  );\n};\n","import {\n  Restricted,\n  useCallStateHooks,\n  useI18n,\n  UseInputMediaDeviceOptions,\n} from '@stream-io/video-react-bindings';\nimport clsx from 'clsx';\nimport { OwnCapability } from '@stream-io/video-client';\nimport { CompositeButton, IconButtonWithMenuProps } from '../Button/';\nimport { DeviceSelectorVideo } from '../DeviceSettings';\nimport { PermissionNotification } from '../Notification';\nimport { useRequestPermission } from '../../hooks';\nimport { Icon } from '../Icon';\nimport { WithTooltip } from '../Tooltip';\nimport { useState } from 'react';\nimport {\n  createCallControlHandler,\n  PropsWithErrorHandler,\n} from '../../utilities/callControlHandler';\n\nexport type ToggleVideoPreviewButtonProps = PropsWithErrorHandler<\n  Pick<\n    IconButtonWithMenuProps,\n    'caption' | 'Menu' | 'menuPlacement' | 'onMenuToggle'\n  > &\n    UseInputMediaDeviceOptions\n>;\n\nexport const ToggleVideoPreviewButton = (\n  props: ToggleVideoPreviewButtonProps,\n) => {\n  const {\n    caption,\n    Menu = DeviceSelectorVideo,\n    menuPlacement = 'top',\n    onMenuToggle,\n    optimisticUpdates,\n    ...restCompositeButtonProps\n  } = props;\n  const { t } = useI18n();\n  const { useCameraState } = useCallStateHooks();\n  const {\n    camera,\n    hasBrowserPermission,\n    isPromptingPermission,\n    isTogglePending,\n    optionsAwareIsMute,\n  } = useCameraState({ optimisticUpdates });\n  const [tooltipDisabled, setTooltipDisabled] = useState(false);\n  const handleClick = createCallControlHandler(props, () => camera.toggle());\n\n  return (\n    <WithTooltip\n      title={\n        !hasBrowserPermission\n          ? t('Check your browser video permissions')\n          : (caption ?? t('Video'))\n      }\n      tooltipDisabled={tooltipDisabled}\n    >\n      <CompositeButton\n        active={optionsAwareIsMute}\n        caption={caption}\n        className={clsx(\n          !hasBrowserPermission && 'str-video__device-unavailable',\n        )}\n        variant=\"secondary\"\n        data-testid={\n          optionsAwareIsMute\n            ? 'preview-video-unmute-button'\n            : 'preview-video-mute-button'\n        }\n        onClick={handleClick}\n        disabled={\n          !hasBrowserPermission || (!optimisticUpdates && isTogglePending)\n        }\n        Menu={Menu}\n        menuPlacement={menuPlacement}\n        {...restCompositeButtonProps}\n        onMenuToggle={(shown) => {\n          setTooltipDisabled(shown);\n          onMenuToggle?.(shown);\n        }}\n      >\n        <Icon icon={!optionsAwareIsMute ? 'camera' : 'camera-off'} />\n        {!hasBrowserPermission && (\n          <span\n            className=\"str-video__no-media-permission\"\n            title={t('Check your browser video permissions')}\n            children=\"!\"\n          />\n        )}\n        {isPromptingPermission && (\n          <span\n            className=\"str-video__pending-permission\"\n            title={t('Waiting for permission')}\n            children=\"?\"\n          />\n        )}\n      </CompositeButton>\n    </WithTooltip>\n  );\n};\n\ntype ToggleVideoPublishingButtonProps = PropsWithErrorHandler<\n  Pick<\n    IconButtonWithMenuProps,\n    'caption' | 'Menu' | 'menuPlacement' | 'onMenuToggle'\n  > &\n    UseInputMediaDeviceOptions\n>;\n\nexport const ToggleVideoPublishingButton = (\n  props: ToggleVideoPublishingButtonProps,\n) => {\n  const { t } = useI18n();\n  const {\n    caption,\n    Menu = <DeviceSelectorVideo visualType=\"list\" />,\n    menuPlacement = 'top',\n    onMenuToggle,\n    optimisticUpdates,\n    ...restCompositeButtonProps\n  } = props;\n\n  const { hasPermission, requestPermission, isAwaitingPermission } =\n    useRequestPermission(OwnCapability.SEND_VIDEO);\n\n  const { useCameraState, useCallSettings } = useCallStateHooks();\n  const {\n    camera,\n    optionsAwareIsMute,\n    hasBrowserPermission,\n    isPromptingPermission,\n    isTogglePending,\n  } = useCameraState({ optimisticUpdates });\n  const callSettings = useCallSettings();\n  const isPublishingVideoAllowed = callSettings?.video.enabled;\n  const [tooltipDisabled, setTooltipDisabled] = useState(false);\n  const handleClick = createCallControlHandler(props, async () => {\n    if (!hasPermission) {\n      await requestPermission();\n    } else {\n      await camera.toggle();\n    }\n  });\n\n  return (\n    <Restricted requiredGrants={[OwnCapability.SEND_VIDEO]}>\n      <PermissionNotification\n        permission={OwnCapability.SEND_VIDEO}\n        isAwaitingApproval={isAwaitingPermission}\n        messageApproved={t('You can now share your video.')}\n        messageAwaitingApproval={t(\n          'Awaiting for an approval to share your video.',\n        )}\n        messageRevoked={t('You can no longer share your video.')}\n      >\n        <WithTooltip\n          title={\n            !hasPermission\n              ? t('You have no permission to share your video')\n              : !hasBrowserPermission\n                ? t('Check your browser video permissions')\n                : !isPublishingVideoAllowed\n                  ? t('Video publishing is disabled by the system')\n                  : caption || t('Video')\n          }\n          tooltipDisabled={tooltipDisabled}\n        >\n          <CompositeButton\n            active={optionsAwareIsMute}\n            caption={caption}\n            variant=\"secondary\"\n            disabled={\n              !hasBrowserPermission ||\n              !hasPermission ||\n              !isPublishingVideoAllowed ||\n              (!optimisticUpdates && isTogglePending)\n            }\n            data-testid={\n              optionsAwareIsMute ? 'video-unmute-button' : 'video-mute-button'\n            }\n            onClick={handleClick}\n            Menu={Menu}\n            menuPlacement={menuPlacement}\n            menuOffset={16}\n            {...restCompositeButtonProps}\n            onMenuToggle={(shown) => {\n              setTooltipDisabled(shown);\n              onMenuToggle?.(shown);\n            }}\n          >\n            <Icon icon={optionsAwareIsMute ? 'camera-off' : 'camera'} />\n            {(!hasBrowserPermission ||\n              !hasPermission ||\n              !isPublishingVideoAllowed) && (\n              <span className=\"str-video__no-media-permission\">!</span>\n            )}\n            {isPromptingPermission && (\n              <span\n                className=\"str-video__pending-permission\"\n                title={t('Waiting for permission')}\n              >\n                ?\n              </span>\n            )}\n          </CompositeButton>\n        </WithTooltip>\n      </PermissionNotification>\n    </Restricted>\n  );\n};\n","import { forwardRef, MouseEventHandler, useCallback } from 'react';\nimport { OwnCapability } from '@stream-io/video-client';\nimport { Restricted, useCall, useI18n } from '@stream-io/video-react-bindings';\n\nimport { MenuToggle, ToggleMenuButtonProps } from '../Menu';\n\nimport { IconButton } from '../Button';\nimport { Icon } from '../Icon';\nimport { WithTooltip } from '../Tooltip';\n\nconst EndCallMenu = (props: {\n  onLeave: MouseEventHandler<HTMLButtonElement>;\n  onEnd: MouseEventHandler<HTMLButtonElement>;\n}) => {\n  const { onLeave, onEnd } = props;\n  const { t } = useI18n();\n  return (\n    <div className=\"str-video__end-call__confirmation\">\n      <button\n        className=\"str-video__button str-video__end-call__leave\"\n        type=\"button\"\n        data-testid=\"leave-call-button\"\n        onClick={onLeave}\n      >\n        <Icon\n          className=\"str-video__button__icon str-video__end-call__leave-icon\"\n          icon=\"logout\"\n        />\n        {t('Leave call')}\n      </button>\n      <Restricted requiredGrants={[OwnCapability.END_CALL]}>\n        <button\n          className=\"str-video__button str-video__end-call__end\"\n          type=\"button\"\n          data-testid=\"end-call-for-all-button\"\n          onClick={onEnd}\n        >\n          <Icon\n            className=\"str-video__button__icon str-video__end-call__end-icon\"\n            icon=\"call-end\"\n          />\n          {t('End call for all')}\n        </button>\n      </Restricted>\n    </div>\n  );\n};\n\nconst CancelCallToggleMenuButton = forwardRef<\n  HTMLButtonElement,\n  ToggleMenuButtonProps\n>(function CancelCallToggleMenuButton({ menuShown }, ref) {\n  const { t } = useI18n();\n  return (\n    <WithTooltip title={t('Leave call')} tooltipDisabled={menuShown}>\n      <IconButton\n        icon={menuShown ? 'close' : 'call-end'}\n        variant={menuShown ? 'active' : 'danger'}\n        data-testid=\"leave-call-button\"\n        ref={ref}\n      />\n    </WithTooltip>\n  );\n});\n\nexport type CancelCallButtonProps = {\n  disabled?: boolean;\n  caption?: string;\n  onClick?: MouseEventHandler<HTMLButtonElement>;\n  onLeave?: () => void;\n};\n\nexport const CancelCallConfirmButton = ({\n  onClick,\n  onLeave,\n}: CancelCallButtonProps) => {\n  const call = useCall();\n\n  const handleLeave: MouseEventHandler<HTMLButtonElement> = useCallback(\n    async (e) => {\n      if (onClick) {\n        onClick(e);\n      } else if (call) {\n        await call.leave();\n        onLeave?.();\n      }\n    },\n    [onClick, onLeave, call],\n  );\n\n  const handleEndCall: MouseEventHandler<HTMLButtonElement> = useCallback(\n    async (e) => {\n      if (onClick) {\n        onClick(e);\n      } else if (call) {\n        await call.endCall();\n        onLeave?.();\n      }\n    },\n    [onClick, onLeave, call],\n  );\n\n  return (\n    <MenuToggle placement=\"top-start\" ToggleButton={CancelCallToggleMenuButton}>\n      <EndCallMenu onEnd={handleEndCall} onLeave={handleLeave} />\n    </MenuToggle>\n  );\n};\n\nexport const CancelCallButton = ({\n  disabled,\n  caption,\n  onClick,\n  onLeave,\n}: CancelCallButtonProps) => {\n  const call = useCall();\n  const { t } = useI18n();\n  const handleClick: MouseEventHandler<HTMLButtonElement> = useCallback(\n    async (e) => {\n      if (onClick) {\n        onClick(e);\n      } else if (call) {\n        await call.leave();\n        onLeave?.();\n      }\n    },\n    [onClick, onLeave, call],\n  );\n  return (\n    <IconButton\n      disabled={disabled}\n      icon=\"call-end\"\n      variant=\"danger\"\n      title={caption ?? t('Leave call')}\n      data-testid=\"cancel-call-button\"\n      onClick={handleClick}\n    />\n  );\n};\n","import { OwnCapability } from '@stream-io/video-client';\nimport { Restricted } from '@stream-io/video-react-bindings';\nimport { SpeakingWhileMutedNotification } from '../Notification';\nimport { RecordCallButton } from './RecordCallButton';\nimport { ReactionsButton } from './ReactionsButton';\nimport { ScreenShareButton } from './ScreenShareButton';\nimport { ToggleAudioPublishingButton } from './ToggleAudioButton';\nimport { ToggleVideoPublishingButton } from './ToggleVideoButton';\nimport { CancelCallButton } from './CancelCallButton';\n\nexport type CallControlsProps = {\n  onLeave?: () => void;\n};\n\nexport const CallControls = ({ onLeave }: CallControlsProps) => (\n  <div className=\"str-video__call-controls\">\n    <Restricted requiredGrants={[OwnCapability.SEND_AUDIO]}>\n      <SpeakingWhileMutedNotification>\n        <ToggleAudioPublishingButton />\n      </SpeakingWhileMutedNotification>\n    </Restricted>\n    <Restricted requiredGrants={[OwnCapability.SEND_VIDEO]}>\n      <ToggleVideoPublishingButton />\n    </Restricted>\n    <Restricted requiredGrants={[OwnCapability.CREATE_REACTION]}>\n      <ReactionsButton />\n    </Restricted>\n    <Restricted requiredGrants={[OwnCapability.SCREENSHARE]}>\n      <ScreenShareButton />\n    </Restricted>\n    <Restricted\n      requiredGrants={[\n        OwnCapability.START_RECORD_CALL,\n        OwnCapability.STOP_RECORD_CALL,\n      ]}\n    >\n      <RecordCallButton />\n    </Restricted>\n    <CancelCallButton onLeave={onLeave} />\n  </div>\n);\n","import { lazy, ReactNode, Suspense, useEffect, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport {\n  AggregatedStatsReport,\n  CallStatsReport,\n  SfuModels,\n} from '@stream-io/video-client';\nimport { useCallStateHooks, useI18n } from '@stream-io/video-react-bindings';\nimport { useFloating, useHover, useInteractions } from '@floating-ui/react';\nimport { Icon } from '../Icon';\n\nconst CallStatsLatencyChart = lazy(() => import('./CallStatsLatencyChart'));\n\nenum Status {\n  GOOD = 'Good',\n  OK = 'Ok',\n  BAD = 'Bad',\n}\n\nexport type CallStatsProps = {\n  latencyLowBound?: number;\n  latencyHighBound?: number;\n  showCodecInfo?: boolean;\n  LatencyChartSuspenseFallback?: ReactNode;\n};\n\nexport const CallStats = (props: CallStatsProps) => {\n  const {\n    latencyLowBound = 75,\n    latencyHighBound = 400,\n    showCodecInfo = false,\n    LatencyChartSuspenseFallback = null,\n  } = props;\n  const [latencyBuffer, setLatencyBuffer] = useState<\n    Array<{ x: number; y: number }>\n  >(() => {\n    const now = Date.now();\n    return Array.from({ length: 20 }, (_, i) => ({ x: now + i, y: 0 }));\n  });\n\n  const { t } = useI18n();\n  const [publishBitrate, setPublishBitrate] = useState('-');\n  const [subscribeBitrate, setSubscribeBitrate] = useState('-');\n  const previousStats = useRef<CallStatsReport>(undefined);\n  const { useCallStatsReport } = useCallStateHooks();\n  const callStatsReport = useCallStatsReport();\n\n  useEffect(() => {\n    if (!callStatsReport) return;\n    if (!previousStats.current) {\n      previousStats.current = callStatsReport;\n      return;\n    }\n    const previousCallStatsReport = previousStats.current;\n    setPublishBitrate(() => {\n      return calculatePublishBitrate(previousCallStatsReport, callStatsReport);\n    });\n    setSubscribeBitrate(() => {\n      return calculateSubscribeBitrate(\n        previousCallStatsReport,\n        callStatsReport,\n      );\n    });\n\n    setLatencyBuffer((latencyBuf) => {\n      const newLatencyBuffer = latencyBuf.slice(-19);\n      newLatencyBuffer.push({\n        x: callStatsReport.timestamp,\n        y: callStatsReport.publisherStats.averageRoundTripTimeInMs,\n      });\n      return newLatencyBuffer;\n    });\n\n    previousStats.current = callStatsReport;\n  }, [callStatsReport]);\n\n  const latencyComparison = {\n    lowBound: latencyLowBound,\n    highBound: latencyHighBound,\n    value: callStatsReport?.publisherStats.averageRoundTripTimeInMs || 0,\n  };\n\n  return (\n    <div className=\"str-video__call-stats\">\n      {callStatsReport && (\n        <>\n          <div className=\"str-video__call-stats__header\">\n            <h3 className=\"str-video__call-stats__heading\">\n              <Icon\n                className=\"str-video__call-stats__icon\"\n                icon=\"call-latency\"\n              />\n              {t('Call Latency')}\n            </h3>\n            <p className=\"str-video__call-stats__description\">\n              {t(\n                'Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.',\n              )}\n            </p>\n          </div>\n\n          <div className=\"str-video__call-stats__latencychart\">\n            <Suspense fallback={LatencyChartSuspenseFallback}>\n              <CallStatsLatencyChart values={latencyBuffer} />\n            </Suspense>\n          </div>\n\n          <div className=\"str-video__call-stats__header\">\n            <h3 className=\"str-video__call-stats__heading\">\n              <Icon\n                className=\"str-video__call-stats__icon\"\n                icon=\"network-quality\"\n              />\n              {t('Call performance')}\n            </h3>\n            <p className=\"str-video__call-stats__description\">\n              {t('Review the key data points below to assess call performance')}\n            </p>\n          </div>\n\n          <div className=\"str-video__call-stats__card-container\">\n            <StatCard label={t('Region')} value={callStatsReport.datacenter} />\n            <StatCard\n              label={t('Latency')}\n              value={`${callStatsReport.publisherStats.averageRoundTripTimeInMs} ms.`}\n              comparison={latencyComparison}\n            />\n            <StatCard\n              label={t('Receive jitter')}\n              value={`${callStatsReport.subscriberStats.averageJitterInMs} ms.`}\n              comparison={{\n                ...latencyComparison,\n                value: callStatsReport.subscriberStats.averageJitterInMs,\n              }}\n            />\n            <StatCard\n              label={t('Publish jitter')}\n              value={`${callStatsReport.publisherStats.averageJitterInMs} ms.`}\n              comparison={{\n                ...latencyComparison,\n                value: callStatsReport.publisherStats.averageJitterInMs,\n              }}\n            />\n            <StatCard\n              label={`${t('Publish resolution')}${showCodecInfo ? formatCodec(callStatsReport) : ''}`}\n              value={toFrameSize(callStatsReport.publisherStats)}\n            />\n            <StatCard\n              label={t('Publish quality drop reason')}\n              value={callStatsReport.publisherStats.qualityLimitationReasons}\n            />\n            <StatCard\n              label={t('Receiving resolution')}\n              value={toFrameSize(callStatsReport.subscriberStats)}\n            />\n            <StatCard\n              label={t('Receive quality drop reason')}\n              value={callStatsReport.subscriberStats.qualityLimitationReasons}\n            />\n            <StatCard label={t('Publish bitrate')} value={publishBitrate} />\n            <StatCard label={t('Receiving bitrate')} value={subscribeBitrate} />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst StatCardExplanation = (props: { description: string }) => {\n  const { description } = props;\n  const [isOpen, setIsOpen] = useState(false);\n\n  const { refs, floatingStyles, context } = useFloating({\n    open: isOpen,\n    onOpenChange: setIsOpen,\n  });\n\n  const hover = useHover(context);\n\n  const { getReferenceProps, getFloatingProps } = useInteractions([hover]);\n\n  return (\n    <>\n      <div\n        className=\"str-video__call-explanation\"\n        ref={refs.setReference}\n        {...getReferenceProps()}\n      >\n        <Icon className=\"str-video__call-explanation__icon\" icon=\"info\" />\n      </div>\n      {isOpen && (\n        <div\n          className=\"str-video__call-explanation__description\"\n          ref={refs.setFloating}\n          style={floatingStyles}\n          {...getFloatingProps()}\n        >\n          {description}\n        </div>\n      )}\n    </>\n  );\n};\n\nconst StatsTag = (props: { children: ReactNode; status: Status }) => {\n  const { children, status } = props;\n  return (\n    <div\n      className={clsx('str-video__call-stats__tag', {\n        'str-video__call-stats__tag--good': status === Status.GOOD,\n        'str-video__call-stats__tag--ok': status === Status.OK,\n        'str-video__call-stats__tag--bad': status === Status.BAD,\n      })}\n    >\n      <div className=\"str-video__call-stats__tag__text\">{children}</div>\n    </div>\n  );\n};\n\nexport const StatCard = (props: {\n  label: string;\n  value: string | ReactNode;\n  description?: string;\n  comparison?: { value: number; highBound: number; lowBound: number };\n}) => {\n  const { label, value, description, comparison } = props;\n\n  const { t } = useI18n();\n  const status = comparison ? toStatus(comparison) : undefined;\n\n  return (\n    <div className=\"str-video__call-stats__card\">\n      <div className=\"str-video__call-stats__card-content\">\n        <div className=\"str-video__call-stats__card-label\">\n          {label}\n          {description && <StatCardExplanation description={description} />}\n        </div>\n        <div className=\"str-video__call-stats__card-value\">{value}</div>\n      </div>\n      {status && <StatsTag status={status}>{t(status)}</StatsTag>}\n    </div>\n  );\n};\n\nconst toStatus = (config: {\n  value: number;\n  lowBound: number;\n  highBound: number;\n}): Status => {\n  const { value, lowBound, highBound } = config;\n  if (value <= lowBound) return Status.GOOD;\n  if (value >= lowBound && value <= highBound) return Status.OK;\n  if (value >= highBound) return Status.BAD;\n  return Status.GOOD;\n};\n\nconst toFrameSize = (stats: AggregatedStatsReport) => {\n  const {\n    highestFrameWidth: w,\n    highestFrameHeight: h,\n    highestFramesPerSecond: fps,\n  } = stats;\n  let size = `-`;\n  if (w && h) {\n    size = `${w}x${h}`;\n    if (fps) {\n      size += `@${fps}fps.`;\n    }\n  }\n  return size;\n};\n\nconst formatCodec = (callStatsReport: CallStatsReport): string => {\n  const { codecPerTrackType } = callStatsReport.publisherStats;\n  if (!codecPerTrackType || !codecPerTrackType[SfuModels.TrackType.VIDEO]) {\n    return '';\n  }\n  const [, name] = codecPerTrackType[SfuModels.TrackType.VIDEO].split('/');\n  return name ? ` (${name})` : '';\n};\n\nconst calculatePublishBitrate = (\n  previousCallStatsReport: CallStatsReport,\n  callStatsReport: CallStatsReport,\n) => {\n  const {\n    publisherStats: {\n      totalBytesSent: previousTotalBytesSent,\n      timestamp: previousTimestamp,\n    },\n  } = previousCallStatsReport;\n\n  const {\n    publisherStats: { totalBytesSent, timestamp },\n  } = callStatsReport;\n\n  const bytesSent = totalBytesSent - previousTotalBytesSent;\n  const timeElapsed = timestamp - previousTimestamp;\n  return `${((bytesSent * 8) / timeElapsed).toFixed(2)} kbps`;\n};\n\nconst calculateSubscribeBitrate = (\n  previousCallStatsReport: CallStatsReport,\n  callStatsReport: CallStatsReport,\n) => {\n  const {\n    subscriberStats: {\n      totalBytesReceived: previousTotalBytesReceived,\n      timestamp: previousTimestamp,\n    },\n  } = previousCallStatsReport;\n\n  const {\n    subscriberStats: { totalBytesReceived, timestamp },\n  } = callStatsReport;\n\n  const bytesReceived = totalBytesReceived - previousTotalBytesReceived;\n  const timeElapsed = timestamp - previousTimestamp;\n  return `${((bytesReceived * 8) / timeElapsed).toFixed(2)} kbps`;\n};\n","import { forwardRef } from 'react';\nimport { useI18n } from '@stream-io/video-react-bindings';\n\nimport { CallStats } from '../CallStats';\nimport { CompositeButton } from '../Button/';\nimport { MenuToggle, ToggleMenuButtonProps } from '../Menu';\nimport { Icon } from '../Icon';\n\nexport type CallStatsButtonProps = {\n  caption?: string;\n};\n\nexport const CallStatsButton = () => (\n  <MenuToggle placement=\"top-end\" ToggleButton={ToggleMenuButton}>\n    <CallStats />\n  </MenuToggle>\n);\n\nconst ToggleMenuButton = forwardRef<\n  HTMLDivElement,\n  ToggleMenuButtonProps<HTMLDivElement> & CallStatsButtonProps\n>(function ToggleMenuButton(props, ref) {\n  const { t } = useI18n();\n  const { caption, menuShown } = props;\n\n  return (\n    <CompositeButton\n      ref={ref}\n      active={menuShown}\n      caption={caption}\n      title={caption || t('Statistics')}\n      data-testid=\"stats-button\"\n    >\n      <Icon icon=\"stats\" />\n    </CompositeButton>\n  );\n});\n","import { CompositeButton, IconButtonWithMenuProps } from '../Button';\nimport { useI18n } from '@stream-io/video-react-bindings';\nimport { Icon } from '../Icon';\nimport { DeviceSelectorAudioOutput } from '../DeviceSettings';\nimport { WithTooltip } from '../Tooltip';\nimport { useState } from 'react';\n\nexport type ToggleAudioOutputButtonProps = Pick<\n  IconButtonWithMenuProps,\n  'caption' | 'Menu' | 'menuPlacement' | 'onMenuToggle'\n>;\n\nexport const ToggleAudioOutputButton = (\n  props: ToggleAudioOutputButtonProps,\n) => {\n  const { t } = useI18n();\n  const {\n    caption,\n    Menu = DeviceSelectorAudioOutput,\n    menuPlacement = 'top',\n    onMenuToggle,\n  } = props;\n  const [tooltipDisabled, setTooltipDisabled] = useState(false);\n\n  return (\n    <WithTooltip\n      title={caption || t('Speakers')}\n      tooltipDisabled={tooltipDisabled}\n    >\n      <CompositeButton\n        Menu={Menu}\n        menuPlacement={menuPlacement}\n        caption={caption}\n        data-testid=\"audio-output-button\"\n        onMenuToggle={(shown) => {\n          setTooltipDisabled(shown);\n          onMenuToggle?.(shown);\n        }}\n      >\n        <Icon icon=\"speaker\" />\n      </CompositeButton>\n    </WithTooltip>\n  );\n};\n","import { Restricted, useCall } from '@stream-io/video-react-bindings';\nimport { OwnCapability } from '@stream-io/video-client';\n\nimport { TextButton } from '../Button';\n\nexport const BlockedUserListing = ({ data }: { data: string[] }) => {\n  if (!data.length) return null;\n\n  return (\n    <>\n      <div className=\"str-video__participant-listing\">\n        {data.map((userId) => (\n          <BlockedUserListingItem key={userId} userId={userId} />\n        ))}\n      </div>\n    </>\n  );\n};\n\nconst BlockedUserListingItem = ({ userId }: { userId: string }) => {\n  const call = useCall();\n\n  const unblockUserClickHandler = () => {\n    if (userId) call?.unblockUser(userId);\n  };\n\n  return (\n    <div className=\"str-video__participant-listing-item\">\n      <div className=\"str-video__participant-listing-item__display-name\">\n        {userId}\n      </div>\n      <Restricted requiredGrants={[OwnCapability.BLOCK_USERS]}>\n        <TextButton onClick={unblockUserClickHandler}>Unblock</TextButton>\n      </Restricted>\n    </div>\n  );\n};\n","import { useCallStateHooks, useI18n } from '@stream-io/video-react-bindings';\n\nimport { IconButton } from '../Button';\n\nexport type CallParticipantListHeaderProps = {\n  /**\n   * Click event listener function to be invoked to dismiss / hide the CallParticipantsList from the UI.\n   */\n  onClose: () => void;\n};\n\nexport const CallParticipantListHeader = ({\n  onClose,\n}: CallParticipantListHeaderProps) => {\n  const { useParticipants, useAnonymousParticipantCount } = useCallStateHooks();\n  const participants = useParticipants();\n  const anonymousParticipantCount = useAnonymousParticipantCount();\n  const { t } = useI18n();\n\n  return (\n    <div className=\"str-video__participant-list-header\">\n      <div className=\"str-video__participant-list-header__title\">\n        {t('Participants')}{' '}\n        <span className=\"str-video__participant-list-header__title-count\">\n          [{participants.length}]\n        </span>\n        {anonymousParticipantCount > 0 && (\n          <span className=\"str-video__participant-list-header__title-anonymous\">\n            {t('Anonymous', { count: anonymousParticipantCount })}\n          </span>\n        )}\n      </div>\n      <IconButton\n        onClick={onClose}\n        className=\"str-video__participant-list-header__close-button\"\n        icon=\"close\"\n      />\n    </div>\n  );\n};\n","import clsx from 'clsx';\nimport { ComponentProps, ComponentType, forwardRef } from 'react';\nimport { useConnectedUser, useI18n } from '@stream-io/video-react-bindings';\nimport {\n  hasAudio,\n  hasVideo,\n  isPinned,\n  StreamVideoParticipant,\n} from '@stream-io/video-client';\nimport { IconButton } from '../Button';\nimport { MenuToggle, ToggleMenuButtonProps } from '../Menu';\nimport { WithTooltip } from '../Tooltip';\nimport { Avatar } from '../Avatar';\nimport { ParticipantActionsContextMenu } from '../../core/components/ParticipantView/ParticipantActionsContextMenu';\nimport { ParticipantViewContext } from '../../core/components/ParticipantView/ParticipantViewContext';\n\ntype CallParticipantListingItemProps = {\n  /** Participant object be rendered */\n  participant: StreamVideoParticipant;\n  /** Custom component used to display participant's name */\n  DisplayName?: ComponentType<{ participant: StreamVideoParticipant }>;\n};\nexport const CallParticipantListingItem = ({\n  participant,\n  DisplayName = DefaultDisplayName,\n}: CallParticipantListingItemProps) => {\n  const isAudioOn = hasAudio(participant);\n  const isVideoOn = hasVideo(participant);\n  const isPinnedOn = isPinned(participant);\n\n  const { t } = useI18n();\n\n  return (\n    <div className=\"str-video__participant-listing-item\">\n      <Avatar name={participant.name} imageSrc={participant.image} />\n      <DisplayName participant={participant} />\n      <div className=\"str-video__participant-listing-item__media-indicator-group\">\n        <MediaIndicator\n          title={isAudioOn ? t('Microphone on') : t('Microphone off')}\n          className={clsx(\n            'str-video__participant-listing-item__icon',\n            `str-video__participant-listing-item__icon-${\n              isAudioOn ? 'mic' : 'mic-off'\n            }`,\n          )}\n        />\n        <MediaIndicator\n          title={isVideoOn ? t('Camera on') : t('Camera off')}\n          className={clsx(\n            'str-video__participant-listing-item__icon',\n            `str-video__participant-listing-item__icon-${\n              isVideoOn ? 'camera' : 'camera-off'\n            }`,\n          )}\n        />\n        {isPinnedOn && (\n          <MediaIndicator\n            title={t('Pinned')}\n            className={clsx(\n              'str-video__participant-listing-item__icon',\n              'str-video__participant-listing-item__icon-pinned',\n            )}\n          />\n        )}\n\n        <MenuToggle placement=\"bottom-end\" ToggleButton={ToggleButton}>\n          <ParticipantViewContext.Provider\n            value={{ participant, trackType: 'none' }}\n          >\n            <ParticipantActionsContextMenu />\n          </ParticipantViewContext.Provider>\n        </MenuToggle>\n      </div>\n    </div>\n  );\n};\n\nconst MediaIndicator = (props: ComponentProps<'div'>) => (\n  <WithTooltip {...props} />\n);\n\ntype DisplayNameProps = {\n  /** Participant object that provides the data from which display name can be generated */\n  participant: StreamVideoParticipant;\n};\n\nconst DefaultDisplayName = ({ participant }: DisplayNameProps) => {\n  const connectedUser = useConnectedUser();\n  const { t } = useI18n();\n\n  const meFlag = participant.userId === connectedUser?.id ? t('Me') : '';\n  const nameOrId = participant.name || participant.userId || t('Unknown');\n  let displayName;\n  if (!participant.name) {\n    displayName = meFlag || nameOrId || t('Unknown');\n  } else if (meFlag) {\n    displayName = `${nameOrId} (${meFlag})`;\n  } else {\n    displayName = nameOrId;\n  }\n\n  return (\n    <WithTooltip\n      className=\"str-video__participant-listing-item__display-name\"\n      title={displayName}\n    >\n      {displayName}\n    </WithTooltip>\n  );\n};\n\nconst ToggleButton = forwardRef<HTMLButtonElement, ToggleMenuButtonProps>(\n  function ToggleButton(props, ref) {\n    return <IconButton enabled={props.menuShown} icon=\"ellipsis\" ref={ref} />;\n  },\n);\n","import { ComponentType } from 'react';\nimport { StreamVideoParticipant } from '@stream-io/video-client';\nimport { CallParticipantListingItem } from './CallParticipantListingItem';\n\nexport type CallParticipantListingProps = {\n  /** Array of participant objects to be rendered */\n  data: StreamVideoParticipant[];\n  Header?: ComponentType;\n};\n\nexport const CallParticipantListing = ({\n  data,\n}: CallParticipantListingProps) => (\n  <div className=\"str-video__participant-listing\">\n    {data.map((participant) => (\n      <CallParticipantListingItem\n        key={participant.sessionId}\n        participant={participant}\n      />\n    ))}\n  </div>\n);\n","import { useI18n } from '@stream-io/video-react-bindings';\n\nexport const EmptyParticipantSearchList = () => {\n  const { t } = useI18n();\n  return (\n    <div className=\"str-video__participant-list--empty\">\n      {t('No participants found')}\n    </div>\n  );\n};\n","import { ComponentProps, useEffect, useState } from 'react';\nimport clsx from 'clsx';\n\ntype SearchInputProps = ComponentProps<'input'> & {\n  /**\n   * Resets the search to its initial state.\n   * The function is called when Esc key or inputs clear button are pressed\n   */\n  exitSearch: () => void;\n  /**\n   * Flag to signal, whether search input elements should be rendered as active\n   */\n  isActive: boolean;\n};\nexport const SearchInput = ({\n  exitSearch,\n  isActive,\n  ...rest\n}: SearchInputProps) => {\n  const [inputElement, setInputElement] = useState<HTMLInputElement | null>(\n    null,\n  );\n  useEffect(() => {\n    if (!inputElement) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key.toLowerCase() === 'escape') exitSearch();\n    };\n\n    inputElement.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      inputElement.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [exitSearch, inputElement]);\n\n  return (\n    <div\n      className={clsx('str-video__search-input__container', {\n        'str-video__search-input__container--active': isActive,\n      })}\n    >\n      <input placeholder=\"Search\" {...rest} ref={setInputElement} />\n      {isActive ? (\n        <button\n          className=\"str-video__search-input__clear-btn\"\n          onClick={exitSearch}\n        >\n          <span className=\"str-video__search-input__icon--active\" />\n        </button>\n      ) : (\n        <span className=\"str-video__search-input__icon\" />\n      )}\n    </div>\n  );\n};\n","import { ComponentType } from 'react';\nimport { LoadingIndicator as DefaultLoadingIndicator } from '../LoadingIndicator';\nimport { SearchController } from './hooks';\n\nexport type SearchResultListProps<T> = {\n  data: T[];\n};\n\nexport type SearchResultsProps<T> = Pick<\n  SearchController<T>,\n  'searchResults' | 'searchQueryInProgress'\n> & {\n  /** Component to be displayed, when empty array of search results is provided */\n  EmptySearchResultComponent: ComponentType;\n  /** Component will be used to render non-empty array of search results  */\n  SearchResultList: ComponentType<SearchResultListProps<T>>;\n  /** Component to be displayed while the search query request is in progress */\n  LoadingIndicator?: ComponentType;\n};\n\nexport function SearchResults<T>({\n  EmptySearchResultComponent,\n  LoadingIndicator = DefaultLoadingIndicator,\n  searchQueryInProgress,\n  searchResults,\n  SearchResultList,\n}: SearchResultsProps<T>) {\n  if (searchQueryInProgress) {\n    return (\n      <div className=\"str-video__search-results--loading\">\n        <LoadingIndicator />\n      </div>\n    );\n  }\n  if (!searchResults.length) {\n    return <EmptySearchResultComponent />;\n  }\n\n  return <SearchResultList data={searchResults} />;\n}\n","import { useEffect, useRef, useState } from 'react';\n\nexport type SearchController<T> = {\n  /** Flag signals that the search request is flight await the response */\n  searchQueryInProgress: boolean;\n  /** Array of items returned by the search query */\n  searchResults: T[];\n};\n\nexport type UseSearchParams<T> = {\n  /** Search function performing the search request */\n  searchFn: (searchQuery: string) => Promise<T[]>;\n  /** Debounce interval applied to the search function */\n  debounceInterval?: number;\n  /** Search query string */\n  searchQuery?: string;\n};\n\nexport const useSearch = <T>({\n  debounceInterval = 200,\n  searchFn,\n  searchQuery = '',\n}: UseSearchParams<T>): SearchController<T> => {\n  const [searchResults, setSearchResults] = useState<T[]>([]);\n  const [searchQueryInProgress, setSearchQueryInProgress] = useState(false);\n\n  const searchFnRef = useRef(searchFn);\n  searchFnRef.current = searchFn;\n\n  useEffect(() => {\n    if (!searchQuery.length) {\n      setSearchQueryInProgress(false);\n      setSearchResults([]);\n      return;\n    }\n\n    setSearchQueryInProgress(true);\n\n    const timeout = setTimeout(async () => {\n      try {\n        const results = await searchFnRef.current(searchQuery);\n        setSearchResults(results);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setSearchQueryInProgress(false);\n      }\n    }, debounceInterval);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [debounceInterval, searchQuery]);\n\n  return {\n    searchQueryInProgress,\n    searchResults,\n  };\n};\n","import {\n  Dispatch,\n  forwardRef,\n  SetStateAction,\n  useCallback,\n  useState,\n} from 'react';\nimport {\n  Restricted,\n  useCall,\n  useCallStateHooks,\n  useI18n,\n} from '@stream-io/video-react-bindings';\nimport {\n  name,\n  OwnCapability,\n  StreamVideoParticipant,\n} from '@stream-io/video-client';\n\nimport { BlockedUserListing } from './BlockedUserListing';\nimport { IconButton, TextButton } from '../Button';\nimport { CallParticipantListHeader } from './CallParticipantListHeader';\nimport { CallParticipantListing } from './CallParticipantListing';\nimport { EmptyParticipantSearchList } from './EmptyParticipantSearchList';\nimport { LoadingIndicator } from '../LoadingIndicator';\nimport { SearchInput, SearchResults } from '../Search';\nimport { useSearch, UseSearchParams } from '../Search/hooks';\nimport {\n  GenericMenu,\n  GenericMenuButtonItem,\n  MenuToggle,\n  ToggleMenuButtonProps,\n} from '../Menu';\n\ntype CallParticipantListProps = {\n  /** Click event listener function to be invoked in order to dismiss/hide the CallParticipantsList from the UI */\n  onClose: () => void;\n  /** Custom function to override the searching logic of active participants */\n  activeUsersSearchFn?: UseSearchParams<StreamVideoParticipant>['searchFn'];\n  /** Custom function to override the searching logic of blocked users */\n  blockedUsersSearchFn?: UseSearchParams<string>['searchFn'];\n  /** Interval in ms, during which the participant search calls will be debounced. The default value is 200ms. */\n  debounceSearchInterval?: number;\n};\n\nconst UserListTypes = {\n  active: 'Active users',\n  blocked: 'Blocked users',\n} as const;\n\nexport const CallParticipantsList = ({\n  onClose,\n  activeUsersSearchFn,\n  blockedUsersSearchFn,\n  debounceSearchInterval,\n}: CallParticipantListProps) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [userListType, setUserListType] =\n    useState<keyof typeof UserListTypes>('active');\n\n  const exitSearch = useCallback(() => setSearchQuery(''), []);\n\n  return (\n    <div className=\"str-video__participant-list\">\n      <CallParticipantListHeader onClose={onClose} />\n      <SearchInput\n        value={searchQuery}\n        onChange={({ currentTarget }) => setSearchQuery(currentTarget.value)}\n        exitSearch={exitSearch}\n        isActive={!!searchQuery}\n      />\n      <CallParticipantListContentHeader\n        userListType={userListType}\n        setUserListType={setUserListType}\n      />\n      <div className=\"str-video__participant-list__content\">\n        {userListType === 'active' && (\n          <ActiveUsersSearchResults\n            searchQuery={searchQuery}\n            activeUsersSearchFn={activeUsersSearchFn}\n            debounceSearchInterval={debounceSearchInterval}\n          />\n        )}\n        {userListType === 'blocked' && (\n          <BlockedUsersSearchResults\n            searchQuery={searchQuery}\n            blockedUsersSearchFn={blockedUsersSearchFn}\n            debounceSearchInterval={debounceSearchInterval}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst CallParticipantListContentHeader = ({\n  userListType,\n  setUserListType,\n}: {\n  userListType: keyof typeof UserListTypes;\n  setUserListType: Dispatch<SetStateAction<keyof typeof UserListTypes>>;\n}) => {\n  const call = useCall();\n  const { t } = useI18n();\n\n  const muteAll = useCallback(() => {\n    call?.muteAllUsers('audio');\n  }, [call]);\n\n  return (\n    <div className=\"str-video__participant-list__content-header\">\n      <div className=\"str-video__participant-list__content-header-title\">\n        {userListType === 'active' && (\n          <Restricted\n            requiredGrants={[OwnCapability.MUTE_USERS]}\n            hasPermissionsOnly\n          >\n            <TextButton onClick={muteAll}>{t('Mute all')}</TextButton>\n          </Restricted>\n        )}\n      </div>\n      <MenuToggle placement=\"bottom-end\" ToggleButton={ToggleButton}>\n        <GenericMenu>\n          {(\n            Object.keys(UserListTypes) as Array<keyof typeof UserListTypes>\n          ).map((lt) => (\n            <GenericMenuButtonItem\n              key={lt}\n              aria-selected={lt === userListType}\n              onClick={() => setUserListType(lt)}\n            >\n              {UserListTypes[lt]}\n            </GenericMenuButtonItem>\n          ))}\n        </GenericMenu>\n      </MenuToggle>\n    </div>\n  );\n};\n\nconst ActiveUsersSearchResults = ({\n  searchQuery,\n  activeUsersSearchFn: activeUsersSearchFnFromProps,\n  debounceSearchInterval,\n}: Pick<\n  CallParticipantListProps,\n  'activeUsersSearchFn' | 'debounceSearchInterval'\n> & { searchQuery: string }) => {\n  const { useParticipants } = useCallStateHooks();\n  const participants = useParticipants({ sortBy: name });\n\n  const activeUsersSearchFn = useCallback(\n    async (queryString: string) => {\n      const queryRegExp = new RegExp(queryString, 'i');\n      return participants.filter((p) => p.name.match(queryRegExp));\n    },\n    [participants],\n  );\n\n  const { searchQueryInProgress, searchResults } = useSearch({\n    searchFn: activeUsersSearchFnFromProps ?? activeUsersSearchFn,\n    debounceInterval: debounceSearchInterval,\n    searchQuery,\n  });\n\n  return (\n    <SearchResults<StreamVideoParticipant>\n      EmptySearchResultComponent={EmptyParticipantSearchList}\n      LoadingIndicator={LoadingIndicator}\n      searchQueryInProgress={searchQueryInProgress}\n      searchResults={searchQuery ? searchResults : participants}\n      SearchResultList={CallParticipantListing}\n    />\n  );\n};\n\nconst BlockedUsersSearchResults = ({\n  blockedUsersSearchFn: blockedUsersSearchFnFromProps,\n  debounceSearchInterval,\n  searchQuery,\n}: Pick<\n  CallParticipantListProps,\n  'blockedUsersSearchFn' | 'debounceSearchInterval'\n> & { searchQuery: string }) => {\n  const { useCallBlockedUserIds } = useCallStateHooks();\n  const blockedUsers = useCallBlockedUserIds();\n\n  const blockedUsersSearchFn = useCallback(\n    async (queryString: string) => {\n      const queryRegExp = new RegExp(queryString, 'i');\n      return blockedUsers.filter((userId) => userId.match(queryRegExp));\n    },\n    [blockedUsers],\n  );\n\n  const { searchQueryInProgress, searchResults } = useSearch({\n    searchFn: blockedUsersSearchFnFromProps ?? blockedUsersSearchFn,\n    debounceInterval: debounceSearchInterval,\n    searchQuery,\n  });\n\n  return (\n    <SearchResults<string>\n      EmptySearchResultComponent={EmptyParticipantSearchList}\n      LoadingIndicator={LoadingIndicator}\n      searchQueryInProgress={searchQueryInProgress}\n      searchResults={searchQuery ? searchResults : blockedUsers}\n      SearchResultList={BlockedUserListing}\n    />\n  );\n};\n\nconst ToggleButton = forwardRef<HTMLButtonElement, ToggleMenuButtonProps>(\n  function ToggleButton(props, ref) {\n    return <IconButton enabled={props.menuShown} icon=\"filter\" ref={ref} />;\n  },\n);\n","import clsx from 'clsx';\nimport { CSSProperties, useEffect, useState } from 'react';\nimport { useCall, useCallStateHooks } from '@stream-io/video-react-bindings';\n\nexport type CallPreviewProps = {\n  /**\n   * Additional CSS class name to apply to the CallPreview element.\n   */\n  className?: string;\n\n  /**\n   * Additional CSS properties to apply to the CallPreview element.\n   */\n  style?: CSSProperties;\n};\n\nexport const CallPreview = (props: CallPreviewProps) => {\n  const { className, style } = props;\n  const call = useCall();\n  const { useCallThumbnail } = useCallStateHooks();\n  const thumbnail = useCallThumbnail();\n\n  const [imageRef, setImageRef] = useState<HTMLImageElement | null>(null);\n  useEffect(() => {\n    if (!imageRef || !call) return;\n    const cleanup = call.bindCallThumbnailElement(imageRef);\n    return () => cleanup();\n  }, [imageRef, call]);\n\n  if (!thumbnail) return null;\n\n  return (\n    <img\n      className={clsx('str-video__call-preview', className)}\n      style={style}\n      alt=\"Call Preview Thumbnail\"\n      ref={setImageRef}\n    />\n  );\n};\n","import { CallRecording } from '@stream-io/video-client';\nimport { useI18n } from '@stream-io/video-react-bindings';\nimport { IconButton } from '../Button';\n\nexport type CallRecordingListHeaderProps = {\n  /** Array of CallRecording objects */\n  callRecordings: CallRecording[];\n  /** Callback to be invoked when the refresh button is clicked */\n  onRefresh?: () => void;\n};\n\nexport const CallRecordingListHeader = ({\n  callRecordings,\n  onRefresh,\n}: CallRecordingListHeaderProps) => {\n  const { t } = useI18n();\n  return (\n    <div className=\"str-video__call-recording-list__header\">\n      <div className=\"str-video__call-recording-list__title\">\n        <span>{t('Call Recordings')}</span>\n        {callRecordings.length ? <span>({callRecordings.length})</span> : null}\n      </div>\n      {onRefresh && (\n        <IconButton icon=\"refresh\" title={t('Refresh')} onClick={onRefresh} />\n      )}\n    </div>\n  );\n};\n","import clsx from 'clsx';\nimport { CallRecording } from '@stream-io/video-client';\nimport { Icon } from '../Icon';\n\nexport type CallRecordingListItemProps = {\n  /** CallRecording object to represent */\n  recording: CallRecording;\n};\n\nconst dateFormat = (date: string) => {\n  const format = new Date(date);\n  return format.toTimeString().split(' ')[0];\n};\nexport const CallRecordingListItem = ({\n  recording,\n}: CallRecordingListItemProps) => {\n  return (\n    <li className=\"str-video__call-recording-list__item\">\n      <div className=\"str-video__call-recording-list__table-cell str-video__call-recording-list__filename\">\n        {recording.filename}\n      </div>\n      <div className=\"str-video__call-recording-list__table-cell str-video__call-recording-list__time\">\n        {dateFormat(recording.start_time)}\n      </div>\n      <div className=\"str-video__call-recording-list__table-cell str-video__call-recording-list__time\">\n        {dateFormat(recording.end_time)}\n      </div>\n      <div className=\"str-video__call-recording-list__table-cell str-video__call-recording-list__download\">\n        <a\n          className={clsx(\n            'str-video__call-recording-list-item__action-button',\n            'str-video__call-recording-list-item__action-button--download',\n          )}\n          role=\"button\"\n          href={recording.url}\n          download={recording.filename}\n          title=\"Download the recording\"\n        >\n          <Icon icon=\"download\" />\n        </a>\n      </div>\n    </li>\n  );\n};\n","export const EmptyCallRecordingListing = () => {\n  return (\n    <div className=\"str-video__call-recording-list__listing str-video__call-recording-list__listing--empty\">\n      <div className=\"str-video__call-recording-list__listing--icon-empty\" />\n      <p className=\"str-video__call-recording-list__listing--text-empty\">\n        {/* todo: introduce i18n to enable text customization */}\n        No recordings available\n      </p>\n    </div>\n  );\n};\n","import { CallRecording } from '@stream-io/video-client';\nimport { CallRecordingListItem } from './CallRecordingListItem';\nimport { LoadingIndicator } from '../LoadingIndicator';\n\nexport type LoadingCallRecordingListProps = {\n  /** Array of CallRecording objects */\n  callRecordings: CallRecording[];\n};\n\nexport const LoadingCallRecordingListing = ({\n  callRecordings,\n}: LoadingCallRecordingListProps) => {\n  return (\n    <>\n      {callRecordings.map((recording) => (\n        <CallRecordingListItem recording={recording} key={recording.filename} />\n      ))}\n      <LoadingIndicator text=\"Recording getting ready\" />\n    </>\n  );\n};\n","import { ComponentType } from 'react';\nimport { CallRecording } from '@stream-io/video-client';\n\nimport {\n  CallRecordingListHeader as DefaultCallRecordingListHeader,\n  CallRecordingListHeaderProps,\n} from './CallRecordingListHeader';\nimport {\n  CallRecordingListItem as DefaultCallRecordingListItem,\n  CallRecordingListItemProps,\n} from './CallRecordingListItem';\nimport { EmptyCallRecordingListing as DefaultEmptyCallRecordingList } from './EmptyCallRecordingListing';\nimport {\n  LoadingCallRecordingListing as DefaultLoadingCallRecordingList,\n  LoadingCallRecordingListProps,\n} from './LoadingCallRecordingListing';\n\nexport type CallRecordingListProps = {\n  /** Array of CallRecording objects to be displayed */\n  callRecordings: CallRecording[];\n  /** Custom component to replace the default header implementation */\n  CallRecordingListHeader?: ComponentType<CallRecordingListHeaderProps>;\n  /** Custom component to replace the default list item implementation */\n  CallRecordingListItem?: ComponentType<CallRecordingListItemProps>;\n  /** Custom component to replace the default empty list component implementation */\n  EmptyCallRecordingList?: ComponentType;\n  /** Signals that a request for new list of CallRecording object has been initiated */\n  loading?: boolean;\n  /** Custom component to be rendered when loading is true */\n  LoadingCallRecordingList?: ComponentType<LoadingCallRecordingListProps>;\n  /** Callback to be invoked when the refresh button is clicked */\n  onRefresh?: () => void;\n};\n\nexport const CallRecordingList = ({\n  callRecordings,\n  CallRecordingListHeader = DefaultCallRecordingListHeader,\n  CallRecordingListItem = DefaultCallRecordingListItem,\n  EmptyCallRecordingList = DefaultEmptyCallRecordingList,\n  loading,\n  LoadingCallRecordingList = DefaultLoadingCallRecordingList,\n  onRefresh,\n}: CallRecordingListProps) => {\n  return (\n    <div className=\"str-video__call-recording-list\">\n      <CallRecordingListHeader\n        callRecordings={callRecordings}\n        onRefresh={onRefresh}\n      />\n      <div className=\"str-video__call-recording-list__listing\">\n        {loading ? (\n          <LoadingCallRecordingList callRecordings={callRecordings} />\n        ) : callRecordings.length ? (\n          <>\n            <ul className=\"str-video__call-recording-list__list\">\n              <li className=\"str-video__call-recording-list__item\">\n                <div className=\"str-video__call-recording-list__filename\">\n                  Name\n                </div>\n                <div className=\"str-video__call-recording-list__time\">\n                  Start time\n                </div>\n                <div className=\"str-video__call-recording-list__time\">\n                  End time\n                </div>\n                <div className=\"str-video__call-recording-list__download\"></div>\n              </li>\n            </ul>\n            <ul className=\"str-video__call-recording-list__list\">\n              {callRecordings.map((recording) => (\n                <CallRecordingListItem\n                  recording={recording}\n                  key={recording.filename}\n                />\n              ))}\n            </ul>\n          </>\n        ) : (\n          <EmptyCallRecordingList />\n        )}\n      </div>\n    </div>\n  );\n};\n","import {\n  createContext,\n  PropsWithChildren,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  NoiseCancellationSettingsModeEnum,\n  OwnCapability,\n} from '@stream-io/video-client';\nimport { useCall, useCallStateHooks } from '@stream-io/video-react-bindings';\nimport type { INoiseCancellation } from '@stream-io/audio-filters-web';\n\nexport type NoiseCancellationProviderProps = {\n  /**\n   * The noise cancellation instance to use.\n   */\n  noiseCancellation: INoiseCancellation;\n};\n\n/**\n * The Noise Cancellation API.\n */\nexport type NoiseCancellationAPI = {\n  /**\n   * A boolean providing information whether Noise Cancelling functionalities\n   * are supported on this platform and for the current user.\n   */\n  isSupported: boolean | undefined;\n  /**\n   * Provides information whether Noise Cancellation is active or not.\n   */\n  isEnabled: boolean;\n  /**\n   * Allows you to temporarily enable or disable the Noise Cancellation filters.\n   *\n   * @param enabled a boolean or a setter.\n   */\n  setEnabled: (enabled: boolean | ((value: boolean) => boolean)) => void;\n\n  /**\n   * Sets the noise suppression level (0-100).\n   *\n   * @param level 0 for no suppression, 100 for maximum suppression.\n   */\n  setSuppressionLevel: (level: number) => void;\n};\n\nconst NoiseCancellationContext = createContext<NoiseCancellationAPI | null>(\n  null,\n);\n\n/**\n * Exposes the NoiseCancellation API.\n * Throws an error if used outside <NoiseCancellationProvider />.\n */\nexport const useNoiseCancellation = (): NoiseCancellationAPI => {\n  const context = useContext(NoiseCancellationContext);\n  if (!context) {\n    throw new Error(\n      'useNoiseCancellation must be used within a NoiseCancellationProvider',\n    );\n  }\n  return context;\n};\n\nexport const NoiseCancellationProvider = (\n  props: PropsWithChildren<NoiseCancellationProviderProps>,\n) => {\n  const { children, noiseCancellation } = props;\n  const call = useCall();\n  const { useCallSettings, useHasPermissions } = useCallStateHooks();\n  const settings = useCallSettings();\n  const noiseCancellationAllowed = !!(\n    settings &&\n    settings.audio.noise_cancellation &&\n    settings.audio.noise_cancellation.mode !==\n      NoiseCancellationSettingsModeEnum.DISABLED\n  );\n\n  const hasCapability = useHasPermissions(\n    OwnCapability.ENABLE_NOISE_CANCELLATION,\n  );\n  const [isSupportedByBrowser, setIsSupportedByBrowser] = useState<boolean>();\n  useEffect(() => {\n    const result = noiseCancellation.isSupported();\n    if (typeof result === 'boolean') {\n      setIsSupportedByBrowser(result);\n    } else {\n      result\n        .then((s) => setIsSupportedByBrowser(s))\n        .catch((err) =>\n          console.error(\n            `Can't determine if noise cancellation is supported`,\n            err,\n          ),\n        );\n    }\n  }, [noiseCancellation]);\n\n  const isSupported =\n    isSupportedByBrowser && hasCapability && noiseCancellationAllowed;\n\n  const [isEnabled, setIsEnabled] = useState(false);\n  const deinit = useRef<Promise<void>>(undefined);\n  useEffect(() => {\n    if (!call || !isSupported) return;\n    noiseCancellation.isEnabled().then((e) => setIsEnabled(e));\n    const unsubscribe = noiseCancellation.on('change', (v) => setIsEnabled(v));\n    const init = (deinit.current || Promise.resolve())\n      .then(() => noiseCancellation.init({ tracer: call.tracer }))\n      .then(() => call.microphone.enableNoiseCancellation(noiseCancellation))\n      .catch((e) => console.error(`Can't initialize noise cancellation`, e));\n\n    return () => {\n      deinit.current = init\n        .then(() => call.microphone.disableNoiseCancellation())\n        .then(() => noiseCancellation.dispose())\n        .then(() => unsubscribe());\n    };\n  }, [call, isSupported, noiseCancellation]);\n\n  const contextValue = useMemo<NoiseCancellationAPI>(\n    () => ({\n      isSupported,\n      isEnabled,\n      setSuppressionLevel: (level) => {\n        if (!noiseCancellation) return;\n        noiseCancellation.setSuppressionLevel(level);\n      },\n      setEnabled: (enabledOrSetter) => {\n        if (!noiseCancellation) return;\n        const enable =\n          typeof enabledOrSetter === 'function'\n            ? enabledOrSetter(isEnabled)\n            : enabledOrSetter;\n        if (enable) {\n          noiseCancellation.enable();\n        } else {\n          noiseCancellation.disable();\n        }\n      },\n    }),\n    [isEnabled, isSupported, noiseCancellation],\n  );\n  return (\n    <NoiseCancellationContext.Provider value={contextValue}>\n      {children}\n    </NoiseCancellationContext.Provider>\n  );\n};\n","import { CallingState } from '@stream-io/video-client';\nimport { AcceptCallButton, CancelCallButton } from '../CallControls';\nimport { useCall, useCallStateHooks } from '@stream-io/video-react-bindings';\n\nexport const RingingCallControls = () => {\n  const call = useCall();\n  const { useCallCallingState } = useCallStateHooks();\n  const callCallingState = useCallCallingState();\n\n  if (!call) return null;\n\n  const buttonsDisabled = callCallingState !== CallingState.RINGING;\n  return (\n    <div className=\"str-video__pending-call-controls\">\n      {call.isCreatedByMe ? (\n        <CancelCallButton disabled={buttonsDisabled} />\n      ) : (\n        <>\n          <AcceptCallButton disabled={buttonsDisabled} />\n          <CancelCallButton\n            onClick={() => {\n              const reason = call.isCreatedByMe ? 'cancel' : 'decline';\n              call.leave({ reject: true, reason });\n            }}\n            disabled={buttonsDisabled}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import { CallingState, UserResponse } from '@stream-io/video-client';\nimport {\n  useCall,\n  useCallStateHooks,\n  useConnectedUser,\n  useI18n,\n} from '@stream-io/video-react-bindings';\nimport { Avatar } from '../Avatar';\nimport { RingingCallControls } from './RingingCallControls';\n\nconst CALLING_STATE_TO_LABEL: Record<CallingState, string> = {\n  [CallingState.JOINING]: 'Joining',\n  [CallingState.RINGING]: 'Ringing',\n  [CallingState.MIGRATING]: 'Migrating',\n  [CallingState.RECONNECTING]: 'Re-connecting',\n  [CallingState.RECONNECTING_FAILED]: 'Failed',\n  [CallingState.OFFLINE]: 'No internet connection',\n  [CallingState.IDLE]: '',\n  [CallingState.UNKNOWN]: '',\n  [CallingState.JOINED]: 'Joined',\n  [CallingState.LEFT]: 'Left call',\n};\n\nexport type RingingCallProps = {\n  /**\n   * Whether to include the current user in the list of members to show.\n   * @default false.\n   */\n  includeSelf?: boolean;\n\n  /**\n   * The maximum number of members to show.\n   * @default 3.\n   */\n  totalMembersToShow?: number;\n};\n\nexport const RingingCall = (props: RingingCallProps) => {\n  const { includeSelf = false, totalMembersToShow = 3 } = props;\n  const call = useCall();\n  const { t } = useI18n();\n  const { useCallCallingState, useCallMembers } = useCallStateHooks();\n  const callingState = useCallCallingState();\n  const members = useCallMembers();\n  const connectedUser = useConnectedUser();\n\n  if (!call) return null;\n\n  // take the first N members to show their avatars\n  const membersToShow: UserResponse[] = (members || [])\n    .slice(0, totalMembersToShow)\n    .map(({ user }) => user)\n    .filter((user) => user.id !== connectedUser?.id || includeSelf);\n  if (\n    includeSelf &&\n    !membersToShow.find((user) => user.id === connectedUser?.id)\n  ) {\n    // if the current user is not in the initial batch of members,\n    // replace the first item in membersToShow array with the current user\n    const self = members.find(({ user }) => user.id === connectedUser?.id);\n    if (self) {\n      membersToShow.splice(0, 1, self.user);\n    }\n  }\n\n  const callingStateLabel = CALLING_STATE_TO_LABEL[callingState];\n\n  return (\n    <div className=\"str-video__call-panel str-video__call-panel--ringing\">\n      <div className=\"str-video__call-panel__members-list\">\n        {membersToShow.map((user) => (\n          <div key={user.id} className=\"str-video__call-panel__member-box\">\n            <Avatar name={user.name} imageSrc={user.image} />\n            {user.name && (\n              <div className=\"str-video__member_details\">\n                <span className=\"str-video__member_name\">{user.name}</span>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {callingStateLabel && (\n        <div className=\"str-video__call-panel__calling-state-label\">\n          {t(callingStateLabel)}\n        </div>\n      )}\n\n      {[CallingState.RINGING, CallingState.JOINING].includes(callingState) && (\n        <RingingCallControls />\n      )}\n    </div>\n  );\n};\n","import {\n  ButtonHTMLAttributes,\n  ComponentProps,\n  forwardRef,\n  Fragment,\n  PropsWithChildren,\n  useEffect,\n  useState,\n} from 'react';\nimport {\n  OwnCapability,\n  PermissionRequestEvent,\n  UserResponse,\n} from '@stream-io/video-client';\nimport {\n  TranslatorFunction,\n  useCall,\n  useCallStateHooks,\n  useI18n,\n} from '@stream-io/video-react-bindings';\nimport clsx from 'clsx';\n\nimport { useFloatingUIPreset } from '../../hooks';\n\nconst byNameOrId = (a: UserResponse, b: UserResponse) => {\n  if (a.name && b.name && a.name < b.name) return -1;\n  if (a.name && b.name && a.name > b.name) return 1;\n  if (a.id < b.id) return -1;\n  if (a.id > b.id) return 1;\n  return 0;\n};\n\ntype HandleUpdatePermission = (\n  request: PermissionRequestEvent,\n  type: 'grant' | 'revoke' | 'dismiss',\n) => () => Promise<void>;\n\nexport const PermissionRequests = () => {\n  const call = useCall();\n  const { useLocalParticipant, useHasPermissions } = useCallStateHooks();\n  const localParticipant = useLocalParticipant();\n  const [expanded, setExpanded] = useState(false);\n  const [permissionRequests, setPermissionRequests] = useState<\n    PermissionRequestEvent[]\n  >([]);\n  const canUpdateCallPermissions = useHasPermissions(\n    OwnCapability.UPDATE_CALL_PERMISSIONS,\n  );\n\n  const localUserId = localParticipant?.userId;\n  useEffect(() => {\n    if (!call || !canUpdateCallPermissions) return;\n    return call.on('call.permission_request', (event) => {\n      if (event.user.id !== localUserId) {\n        setPermissionRequests((requests) =>\n          [...requests, event].sort((a, b) => byNameOrId(a.user, b.user)),\n        );\n      }\n    });\n  }, [call, canUpdateCallPermissions, localUserId]);\n\n  const handleUpdatePermission: HandleUpdatePermission = (request, type) => {\n    return async () => {\n      const { user, permissions } = request;\n      switch (type) {\n        case 'grant':\n          await call?.grantPermissions(user.id, permissions);\n          break;\n        case 'revoke':\n          await call?.revokePermissions(user.id, permissions);\n          break;\n        default:\n          break;\n      }\n      setPermissionRequests((requests) =>\n        requests.filter((r) => r !== request),\n      );\n    };\n  };\n\n  const { refs, x, y, strategy } = useFloatingUIPreset({\n    placement: 'bottom',\n    strategy: 'absolute',\n  });\n\n  // don't render anything if there are no permission requests\n  if (permissionRequests.length === 0) return null;\n\n  return (\n    <div className=\"str-video__permission-requests\" ref={refs.setReference}>\n      <div className=\"str-video__permission-requests__notification\">\n        <span className=\"str-video__permission-requests__notification__message\">\n          {permissionRequests.length} pending permission requests\n        </span>\n        <Button\n          type=\"button\"\n          onClick={() => {\n            setExpanded((e) => !e);\n          }}\n        >\n          {expanded ? 'Hide requests' : 'Show requests'}\n        </Button>\n      </div>\n      {expanded && (\n        <PermissionRequestList\n          ref={refs.setFloating}\n          style={{\n            position: strategy,\n            top: y ?? 0,\n            left: x ?? 0,\n            overflowY: 'auto',\n          }}\n          permissionRequests={permissionRequests}\n          handleUpdatePermission={handleUpdatePermission}\n        />\n      )}\n    </div>\n  );\n};\n\nexport type PermissionRequestListProps = ComponentProps<'div'> & {\n  permissionRequests: PermissionRequestEvent[];\n  handleUpdatePermission: HandleUpdatePermission;\n};\n\nexport const PermissionRequestList = forwardRef<\n  HTMLDivElement,\n  PermissionRequestListProps\n>(function PermissionRequestList(props, ref) {\n  const { permissionRequests, handleUpdatePermission, ...rest } = props;\n\n  const { t } = useI18n();\n\n  return (\n    <div className=\"str-video__permission-requests-list\" ref={ref} {...rest}>\n      {permissionRequests.map((request, reqIndex) => {\n        const { user, permissions } = request;\n        return (\n          <Fragment key={`${user.id}/${reqIndex}`}>\n            {permissions.map((permission) => (\n              <div className=\"str-video__permission-request\" key={permission}>\n                <div className=\"str-video__permission-request__message\">\n                  {messageForPermission(user.name || user.id, permission, t)}\n                </div>\n                <Button\n                  className=\"str-video__permission-request__button--allow\"\n                  type=\"button\"\n                  onClick={handleUpdatePermission(request, 'grant')}\n                >\n                  {t('Allow')}\n                </Button>\n                <Button\n                  className=\"str-video__permission-request__button--reject\"\n                  type=\"button\"\n                  onClick={handleUpdatePermission(request, 'revoke')}\n                >\n                  {t('Revoke')}\n                </Button>\n                <Button\n                  className=\"str-video__permission-request__button--reject\"\n                  type=\"button\"\n                  onClick={handleUpdatePermission(request, 'dismiss')}\n                >\n                  {t('Dismiss')}\n                </Button>\n              </div>\n            ))}\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n});\n\nconst Button = (\n  props: PropsWithChildren<ButtonHTMLAttributes<HTMLButtonElement>>,\n) => {\n  const { className, ...rest } = props;\n  return (\n    <button\n      className={clsx('str-video__permission-request__button', className)}\n      {...rest}\n    />\n  );\n};\n\nconst messageForPermission = (\n  userName: string,\n  permission: string,\n  t: TranslatorFunction,\n) => {\n  switch (permission) {\n    case OwnCapability.SEND_AUDIO:\n      return t('{{ userName }} is requesting to speak', { userName });\n    case OwnCapability.SEND_VIDEO:\n      return t('{{ userName }} is requesting to share their camera', {\n        userName,\n      });\n    case OwnCapability.SCREENSHARE:\n      return t('{{ userName }} is requesting to present their screen', {\n        userName,\n      });\n    default:\n      return t('{{ userName }} is requesting permission: {{ permission }}', {\n        userName,\n        permission,\n      });\n  }\n};\n","import { ElementType, HTMLProps, PropsWithChildren } from 'react';\nimport clsx from 'clsx';\n\nexport type StreamThemeProps = HTMLProps<HTMLElement> & {\n  as?: ElementType;\n};\n\nexport const StreamTheme = ({\n  as: Component = 'div',\n  className,\n  children,\n  ...props\n}: PropsWithChildren<StreamThemeProps>) => {\n  return (\n    <Component {...props} className={clsx('str-video', className)}>\n      {children}\n    </Component>\n  );\n};\n","import { ComponentType } from 'react';\nimport clsx from 'clsx';\nimport { useCallStateHooks, useI18n } from '@stream-io/video-react-bindings';\nimport { BaseVideo } from '../../core/components/Video';\nimport { LoadingIndicator } from '../LoadingIndicator';\n\nconst DefaultDisabledVideoPreview = () => {\n  const { t } = useI18n();\n  return (\n    <div className=\"str_video__video-preview__disabled-video-preview\">\n      {t('Video is disabled')}\n    </div>\n  );\n};\n\nconst DefaultNoCameraPreview = () => {\n  const { t } = useI18n();\n  return (\n    <div className=\"str_video__video-preview__no-camera-preview\">\n      {t('No camera found')}\n    </div>\n  );\n};\n\nexport type VideoPreviewProps = {\n  /**\n   * Additional CSS class name to apply to the root element.\n   */\n  className?: string;\n  /**\n   * Enforces mirroring of the video on the X axis. Defaults to true.\n   */\n  mirror?: boolean;\n  /**\n   * Component rendered when user turns off the video.\n   */\n  DisabledVideoPreview?: ComponentType;\n  /**\n   * Component rendered when no camera devices are available.\n   */\n  NoCameraPreview?: ComponentType;\n  /**\n   * Component rendered above the BaseVideo until the video is ready (meaning until the play event is emitted).\n   */\n  StartingCameraPreview?: ComponentType;\n};\n\nexport const VideoPreview = ({\n  className,\n  mirror = true,\n  DisabledVideoPreview = DefaultDisabledVideoPreview,\n  NoCameraPreview = DefaultNoCameraPreview,\n  StartingCameraPreview = LoadingIndicator,\n}: VideoPreviewProps) => {\n  const { useCameraState } = useCallStateHooks();\n  const { devices, status, isMute, mediaStream } = useCameraState();\n\n  let contents;\n  if (isMute && devices?.length === 0) {\n    contents = <NoCameraPreview />;\n  } else if (status === 'enabled') {\n    const loading = !mediaStream;\n    contents = (\n      <>\n        {mediaStream && (\n          <BaseVideo\n            stream={mediaStream}\n            className={clsx('str-video__video-preview', {\n              'str-video__video-preview--mirror': mirror,\n              'str-video__video-preview--loading': loading,\n            })}\n          />\n        )}\n        {loading && <StartingCameraPreview />}\n      </>\n    );\n  } else {\n    contents = <DisabledVideoPreview />;\n  }\n\n  return (\n    <div className={clsx('str-video__video-preview-container', className)}>\n      {contents}\n    </div>\n  );\n};\n","import { ComponentType, forwardRef } from 'react';\nimport { Placement } from '@floating-ui/react';\nimport {\n  hasAudio,\n  hasPausedTrack,\n  hasScreenShare,\n  hasVideo,\n  SfuModels,\n} from '@stream-io/video-client';\nimport { useCall, useI18n } from '@stream-io/video-react-bindings';\nimport clsx from 'clsx';\n\nimport {\n  Icon,\n  IconButton,\n  MenuToggle,\n  Notification,\n  ToggleMenuButtonProps,\n} from '../../../components';\nimport { ParticipantActionsContextMenu as DefaultParticipantActionsContextMenu } from './ParticipantActionsContextMenu';\nimport { Reaction } from '../../../components/Reaction';\nimport { useParticipantViewContext } from './ParticipantViewContext';\n\nexport type DefaultParticipantViewUIProps = {\n  /**\n   * Turns on/off the status indicator icons (mute, connection quality, etc...).\n   */\n  indicatorsVisible?: boolean;\n  /**\n   * Placement of the context menu component when opened\n   */\n  menuPlacement?: Placement;\n  /**\n   * Option to show/hide menu button component\n   */\n  showMenuButton?: boolean;\n  /**\n   * Custom component to render the context menu\n   */\n  ParticipantActionsContextMenu?: ComponentType;\n};\n\nconst ToggleButton = forwardRef<HTMLButtonElement, ToggleMenuButtonProps>(\n  function ToggleButton(props, ref) {\n    return <IconButton enabled={props.menuShown} icon=\"ellipsis\" ref={ref} />;\n  },\n);\n\nexport const DefaultScreenShareOverlay = () => {\n  const call = useCall();\n  const { t } = useI18n();\n\n  const stopScreenShare = () => {\n    call?.screenShare.disable().catch((err) => {\n      console.error('Failed to stop screen sharing:', err);\n    });\n  };\n\n  return (\n    <div className=\"str-video__screen-share-overlay\">\n      <Icon icon=\"screen-share-off\" />\n      <span className=\"str-video__screen-share-overlay__title\">\n        {t('You are presenting your screen')}\n      </span>\n      <button\n        onClick={stopScreenShare}\n        type=\"button\"\n        className=\"str-video__screen-share-overlay__button\"\n      >\n        <Icon icon=\"close\" /> {t('Stop Screen Sharing')}\n      </button>\n    </div>\n  );\n};\n\nexport const DefaultParticipantViewUI = ({\n  indicatorsVisible = true,\n  menuPlacement = 'bottom-start',\n  showMenuButton = true,\n  ParticipantActionsContextMenu = DefaultParticipantActionsContextMenu,\n}: DefaultParticipantViewUIProps) => {\n  const { participant, trackType } = useParticipantViewContext();\n  const isScreenSharing = hasScreenShare(participant);\n\n  if (\n    participant.isLocalParticipant &&\n    isScreenSharing &&\n    trackType === 'screenShareTrack'\n  ) {\n    return (\n      <>\n        <DefaultScreenShareOverlay />\n        <ParticipantDetails indicatorsVisible={indicatorsVisible} />\n      </>\n    );\n  }\n\n  return (\n    <>\n      {showMenuButton && (\n        <MenuToggle\n          strategy=\"fixed\"\n          placement={menuPlacement}\n          ToggleButton={ToggleButton}\n        >\n          <ParticipantActionsContextMenu />\n        </MenuToggle>\n      )}\n      <Reaction participant={participant} />\n      <ParticipantDetails indicatorsVisible={indicatorsVisible} />\n    </>\n  );\n};\n\nexport const ParticipantDetails = ({\n  indicatorsVisible = true,\n}: Pick<DefaultParticipantViewUIProps, 'indicatorsVisible'>) => {\n  const { participant, trackType } = useParticipantViewContext();\n  const {\n    isLocalParticipant,\n    connectionQuality,\n    pin,\n    sessionId,\n    name,\n    userId,\n  } = participant;\n  const call = useCall();\n\n  const { t } = useI18n();\n  const connectionQualityAsString =\n    !!connectionQuality &&\n    SfuModels.ConnectionQuality[connectionQuality].toLowerCase();\n\n  const hasAudioTrack = hasAudio(participant);\n  const hasVideoTrack = hasVideo(participant);\n  const canUnpin = !!pin && pin.isLocalPin;\n  const isTrackPaused =\n    trackType !== 'none' ? hasPausedTrack(participant, trackType) : false;\n\n  return (\n    <>\n      <div className=\"str-video__participant-details\">\n        <span className=\"str-video__participant-details__name\">\n          {name || userId}\n\n          {indicatorsVisible && !hasAudioTrack && (\n            <span className=\"str-video__participant-details__name--audio-muted\" />\n          )}\n          {indicatorsVisible && !hasVideoTrack && (\n            <span className=\"str-video__participant-details__name--video-muted\" />\n          )}\n          {indicatorsVisible && isTrackPaused && (\n            <span\n              title={t('Video paused due to insufficient bandwidth')}\n              className=\"str-video__participant-details__name--track-paused\"\n            />\n          )}\n          {indicatorsVisible && canUnpin && (\n            // TODO: remove this monstrosity once we have a proper design\n            <span\n              title={t('Unpin')}\n              onClick={() => call?.unpin(sessionId)}\n              className=\"str-video__participant-details__name--pinned\"\n            />\n          )}\n          {indicatorsVisible && <SpeechIndicator />}\n        </span>\n      </div>\n      {indicatorsVisible && (\n        <Notification\n          isVisible={\n            isLocalParticipant &&\n            connectionQuality === SfuModels.ConnectionQuality.POOR\n          }\n          message={t('Poor connection quality')}\n        >\n          {connectionQualityAsString && (\n            <span\n              className={clsx(\n                'str-video__participant-details__connection-quality',\n                `str-video__participant-details__connection-quality--${connectionQualityAsString}`,\n              )}\n              title={connectionQualityAsString}\n            />\n          )}\n        </Notification>\n      )}\n    </>\n  );\n};\n\nexport const SpeechIndicator = () => {\n  const { participant } = useParticipantViewContext();\n  const { isSpeaking, isDominantSpeaker } = participant;\n  return (\n    <span\n      className={clsx(\n        'str-video__speech-indicator',\n        isSpeaking && 'str-video__speech-indicator--speaking',\n        isDominantSpeaker && 'str-video__speech-indicator--dominant',\n      )}\n    >\n      <span className=\"str-video__speech-indicator__bar\" />\n      <span className=\"str-video__speech-indicator__bar\" />\n      <span className=\"str-video__speech-indicator__bar\" />\n    </span>\n  );\n};\n","import {\n  ComponentType,\n  forwardRef,\n  ReactElement,\n  useMemo,\n  useState,\n} from 'react';\nimport clsx from 'clsx';\nimport {\n  hasAudio,\n  hasScreenShareAudio,\n  hasVideo,\n  StreamVideoParticipant,\n  VideoTrackType,\n} from '@stream-io/video-client';\nimport { useCallStateHooks } from '@stream-io/video-react-bindings';\n\nimport { Audio } from '../Audio';\nimport { Video, VideoProps } from '../Video';\nimport { useTrackElementVisibility } from '../../hooks';\nimport { DefaultParticipantViewUI } from './DefaultParticipantViewUI';\nimport { applyElementToRef, isComponentType } from '../../../utilities';\nimport { ParticipantViewContext } from './ParticipantViewContext';\n\nexport type ParticipantViewProps = {\n  /**\n   * The participant whose video/audio stream we want to play.\n   */\n  participant: StreamVideoParticipant;\n\n  /**\n   * Override the default UI for rendering participant information/actions.\n   * pass `null` if you wish to not render anything\n   * @default DefaultParticipantViewUI\n   */\n  ParticipantViewUI?: ComponentType | ReactElement | null;\n\n  /**\n   * The kind of video stream to play for the given participant.\n   * The default value is `videoTrack`.\n   * You can use `none` if you're building an audio-only call.\n   */\n  trackType?: VideoTrackType | 'none';\n\n  /**\n   * Forces participant's video to be mirrored or unmirrored. By default, video track\n   * from the local participant is mirrored, and all other videos are not mirrored.\n   */\n  mirror?: boolean;\n\n  /**\n   * This prop is only useful for advanced use-cases (for example, building your own layout).\n   * When set to `true` it will mute the give participant's audio stream on the client side.\n   * The local participant is always muted.\n   */\n  muteAudio?: boolean;\n\n  /**\n   * An object with set functions meant for exposing the video\n   * and video placeholder elements to the integrators.\n   * It's useful when you want to attach custom event handlers to these elements.\n   * - `refs.setVideoElement`\n   * - `refs.setVideoPlaceholderElement`\n   */\n  refs?: VideoProps['refs'];\n\n  /**\n   * Custom class applied to the root DOM element.\n   */\n  className?: string;\n} & Pick<VideoProps, 'VideoPlaceholder' | 'PictureInPicturePlaceholder'>;\n\nexport const ParticipantView = forwardRef<HTMLDivElement, ParticipantViewProps>(\n  function ParticipantView(\n    {\n      participant,\n      trackType = 'videoTrack',\n      mirror,\n      muteAudio,\n      refs: { setVideoElement, setVideoPlaceholderElement } = {},\n      className,\n      VideoPlaceholder,\n      PictureInPicturePlaceholder,\n      ParticipantViewUI = DefaultParticipantViewUI as ComponentType,\n    },\n    ref,\n  ) {\n    const { isLocalParticipant, isSpeaking, isDominantSpeaker, sessionId } =\n      participant;\n\n    const hasAudioTrack = hasAudio(participant);\n    const hasVideoTrack = hasVideo(participant);\n    const hasScreenShareAudioTrack = hasScreenShareAudio(participant);\n\n    const [trackedElement, setTrackedElement] = useState<HTMLDivElement | null>(\n      null,\n    );\n\n    const [contextVideoElement, setContextVideoElement] =\n      useState<HTMLVideoElement | null>(null);\n\n    const [contextVideoPlaceholderElement, setContextVideoPlaceholderElement] =\n      useState<HTMLDivElement | null>(null);\n\n    // TODO: allow to pass custom ViewportTracker instance from props\n    useTrackElementVisibility({\n      sessionId,\n      trackedElement,\n      trackType,\n    });\n\n    const { useIncomingVideoSettings } = useCallStateHooks();\n    const { isParticipantVideoEnabled } = useIncomingVideoSettings();\n\n    const participantViewContextValue = useMemo(\n      () => ({\n        participant,\n        participantViewElement: trackedElement,\n        videoElement: contextVideoElement,\n        videoPlaceholderElement: contextVideoPlaceholderElement,\n        trackType,\n      }),\n      [\n        contextVideoElement,\n        contextVideoPlaceholderElement,\n        participant,\n        trackedElement,\n        trackType,\n      ],\n    );\n\n    const videoRefs: VideoProps['refs'] = useMemo(\n      () => ({\n        setVideoElement: (element) => {\n          setVideoElement?.(element);\n          setContextVideoElement(element);\n        },\n        setVideoPlaceholderElement: (element) => {\n          setVideoPlaceholderElement?.(element);\n          setContextVideoPlaceholderElement(element);\n        },\n      }),\n      [setVideoElement, setVideoPlaceholderElement],\n    );\n\n    return (\n      <div\n        data-testid=\"participant-view\"\n        ref={(element) => {\n          applyElementToRef(ref, element);\n          setTrackedElement(element);\n        }}\n        className={clsx(\n          'str-video__participant-view',\n          isDominantSpeaker && 'str-video__participant-view--dominant-speaker',\n          isSpeaking && 'str-video__participant-view--speaking',\n          !hasVideoTrack && 'str-video__participant-view--no-video',\n          !hasAudioTrack && 'str-video__participant-view--no-audio',\n          className,\n        )}\n      >\n        <ParticipantViewContext.Provider value={participantViewContextValue}>\n          {/* mute the local participant, as we don't want to hear ourselves */}\n          {!isLocalParticipant && !muteAudio && (\n            <>\n              {hasAudioTrack && (\n                <Audio participant={participant} trackType=\"audioTrack\" />\n              )}\n              {hasScreenShareAudioTrack && (\n                <Audio\n                  participant={participant}\n                  trackType=\"screenShareAudioTrack\"\n                />\n              )}\n            </>\n          )}\n          <Video\n            VideoPlaceholder={VideoPlaceholder}\n            PictureInPicturePlaceholder={PictureInPicturePlaceholder}\n            participant={participant}\n            trackType={trackType}\n            refs={videoRefs}\n            enabled={\n              isLocalParticipant ||\n              trackType !== 'videoTrack' ||\n              isParticipantVideoEnabled(participant.sessionId)\n            }\n            mirror={mirror}\n            autoPlay\n          />\n          {isComponentType(ParticipantViewUI) ? (\n            <ParticipantViewUI />\n          ) : (\n            ParticipantViewUI\n          )}\n        </ParticipantViewContext.Provider>\n      </div>\n    );\n  },\n);\n\nParticipantView.displayName = 'ParticipantView';\n","import { ComponentType, PropsWithChildren } from 'react';\nimport {\n  StreamCallProvider,\n  StreamCallProviderProps,\n} from '@stream-io/video-react-bindings';\n\n// re-exporting the StreamCallProvider as StreamCall\nexport const StreamCall: ComponentType<\n  PropsWithChildren<StreamCallProviderProps>\n> = StreamCallProvider;\n\nStreamCall.displayName = 'StreamCall';\n","import en from './en.json';\n\nexport const translations = { en };\n","import {\n  StreamVideoProps,\n  StreamVideoProvider,\n} from '@stream-io/video-react-bindings';\nimport { PropsWithChildren } from 'react';\nimport { translations } from '../../../translations';\n\nexport const StreamVideo = (props: PropsWithChildren<StreamVideoProps>) => {\n  return (\n    <StreamVideoProvider translationsOverrides={translations} {...props} />\n  );\n};\n\nStreamVideo.displayName = 'StreamVideo';\n","export type Filter<T> =\n  | { $and: Array<Filter<T>> }\n  | { $or: Array<Filter<T>> }\n  | { $not: Filter<T> }\n  | Conditions<T>;\n\ntype Conditions<T> = {\n  [K in keyof T]?: T[K] extends Array<infer E>\n    ? ArrayOperator<E>\n    : ScalarOperator<T[K]>;\n};\n\nexport type ScalarOperator<T> =\n  | EqOperator<T>\n  | NeqOperator<T>\n  | InOperator<T>\n  | GtOperator<T>\n  | GteOperator<T>\n  | LtOperator<T>\n  | LteOperator<T>\n  | T;\n\nexport type ArrayOperator<T> = ContainsOperator<T>;\n\nexport type AutocompleteOperator<T> = { $autocomplete: T };\nexport type EqOperator<T> = { $eq: T };\nexport type GtOperator<T> = { $gt: T };\nexport type GteOperator<T> = { $gte: T };\nexport type LtOperator<T> = { $lt: T };\nexport type LteOperator<T> = { $lte: T };\nexport type NeqOperator<T> = { $neq: T };\nexport type InOperator<T> = { $in: Array<T> };\nexport type ContainsOperator<T> = { $contains: T };\n\nexport function applyFilter<T>(obj: T, filter: Filter<T>): boolean {\n  if ('$and' in filter) {\n    return filter.$and.every((f) => applyFilter(obj, f));\n  }\n\n  if ('$or' in filter) {\n    return filter.$or.some((f) => applyFilter(obj, f));\n  }\n\n  if ('$not' in filter) {\n    return !applyFilter(obj, filter.$not);\n  }\n\n  return checkConditions(obj, filter);\n}\n\ntype DateString = string;\nconst isDateString = (value: unknown): value is DateString =>\n  typeof value === 'string' &&\n  /^((?:(\\d{4}-\\d{2}-\\d{2})T(\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?))(Z|[+-]\\d{2}:\\d{2})?)$/.test(\n    value,\n  );\n\nfunction checkConditions<T>(obj: T, conditions: Conditions<T>): boolean {\n  let match = true;\n\n  for (const key of Object.keys(conditions) as Array<keyof T>) {\n    const operator = conditions[key];\n    const maybeOperator = operator && typeof operator === 'object';\n    let value: T[keyof T] | number = obj[key];\n\n    if (value instanceof Date) {\n      value = value.getTime();\n    } else if (isDateString(value)) {\n      value = new Date(value).getTime();\n    }\n\n    if (maybeOperator && '$eq' in operator) {\n      const eqOperator = operator as EqOperator<typeof value>;\n      const eqOperatorValue = isDateString(eqOperator.$eq)\n        ? new Date(eqOperator.$eq).getTime()\n        : eqOperator.$eq;\n      match &&= eqOperatorValue === value;\n    } else if (maybeOperator && '$neq' in operator) {\n      const neqOperator = operator as NeqOperator<typeof value>;\n      match &&= neqOperator.$neq !== value;\n    } else if (maybeOperator && '$in' in operator) {\n      const inOperator = operator as InOperator<typeof value>;\n      match &&= inOperator.$in.includes(value);\n    } else if (maybeOperator && '$contains' in operator) {\n      if (Array.isArray(value)) {\n        const containsOperator = operator as ContainsOperator<\n          (typeof value)[number]\n        >;\n        match &&= value.includes(containsOperator.$contains);\n      } else {\n        match = false;\n      }\n    } else if (maybeOperator && '$gt' in operator) {\n      const gtOperator = operator as GtOperator<typeof value>;\n      const gtOperatorValue = isDateString(gtOperator.$gt)\n        ? new Date(gtOperator.$gt).getTime()\n        : gtOperator.$gt;\n      match &&= value > gtOperatorValue;\n    } else if (maybeOperator && '$gte' in operator) {\n      const gteOperator = operator as GteOperator<typeof value>;\n      const gteOperatorValue = isDateString(gteOperator.$gte)\n        ? new Date(gteOperator.$gte).getTime()\n        : gteOperator.$gte;\n      match &&= value >= gteOperatorValue;\n    } else if (maybeOperator && '$lt' in operator) {\n      const ltOperator = operator as LtOperator<typeof value>;\n      const ltOperatorValue = isDateString(ltOperator.$lt)\n        ? new Date(ltOperator.$lt).getTime()\n        : ltOperator.$lt;\n      match &&= value < ltOperatorValue;\n    } else if (maybeOperator && '$lte' in operator) {\n      const lteOperator = operator as LteOperator<typeof value>;\n      const lteOperatorValue = isDateString(lteOperator.$lte)\n        ? new Date(lteOperator.$lte).getTime()\n        : lteOperator.$lte;\n      match &&= value <= lteOperatorValue;\n      // } else if (maybeOperator && '$autocomplete' in operator) {\n      // TODO: regexp solution maybe?\n      // match &&= false;\n    } else {\n      const eqValue = operator as typeof value;\n      match &&= eqValue === value;\n    }\n\n    if (!match) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { useEffect, useMemo } from 'react';\nimport {\n  Call,\n  CallTypes,\n  combineComparators,\n  Comparator,\n  defaultSortPreset,\n  hasAudio,\n  hasScreenShare,\n  hasVideo,\n  isPinned,\n  paginatedLayoutSortPreset,\n  screenSharing,\n  speakerLayoutSortPreset,\n  StreamVideoParticipant,\n} from '@stream-io/video-client';\nimport { useCallStateHooks } from '@stream-io/video-react-bindings';\nimport { applyFilter, Filter } from '../../../utilities/filter';\n\nexport type FilterableParticipant = Pick<\n  StreamVideoParticipant,\n  'userId' | 'isSpeaking' | 'isDominantSpeaker' | 'name' | 'roles'\n> & {\n  isPinned: boolean;\n  hasVideo: boolean;\n  hasAudio: boolean;\n  hasScreenShare: boolean;\n};\n\nexport type ParticipantFilter = Filter<FilterableParticipant>;\nexport type ParticipantPredicate = (\n  participant: StreamVideoParticipant,\n) => boolean;\n\nexport const useFilteredParticipants = ({\n  excludeLocalParticipant = false,\n  filterParticipants,\n}: {\n  excludeLocalParticipant?: boolean;\n  filterParticipants?: ParticipantFilter | ParticipantPredicate;\n}) => {\n  const { useParticipants, useRemoteParticipants } = useCallStateHooks();\n  const allParticipants = useParticipants();\n  const remoteParticipants = useRemoteParticipants();\n  return useMemo(() => {\n    const unfilteredParticipants = excludeLocalParticipant\n      ? remoteParticipants\n      : allParticipants;\n\n    return filterParticipants\n      ? applyParticipantsFilter(unfilteredParticipants, filterParticipants)\n      : unfilteredParticipants;\n  }, [\n    allParticipants,\n    remoteParticipants,\n    excludeLocalParticipant,\n    filterParticipants,\n  ]);\n};\n\nexport const applyParticipantsFilter = (\n  participants: StreamVideoParticipant[],\n  filter: ParticipantPredicate | ParticipantFilter,\n) => {\n  const filterCallback =\n    typeof filter === 'function'\n      ? filter\n      : (participant: StreamVideoParticipant) =>\n          applyFilter(\n            {\n              userId: participant.userId,\n              isSpeaking: participant.isSpeaking,\n              isDominantSpeaker: participant.isDominantSpeaker,\n              name: participant.name,\n              roles: participant.roles,\n              isPinned: isPinned(participant),\n              hasVideo: hasVideo(participant),\n              hasAudio: hasAudio(participant),\n              hasScreenShare: hasScreenShare(participant),\n            },\n            filter,\n          );\n\n  return participants.filter(filterCallback);\n};\n\nexport const usePaginatedLayoutSortPreset = (call: Call | undefined) => {\n  useEffect(() => {\n    if (!call) return;\n    call.setSortParticipantsBy(paginatedLayoutSortPreset);\n    return () => {\n      resetSortPreset(call);\n    };\n  }, [call]);\n};\n\nexport const useSpeakerLayoutSortPreset = (\n  call: Call | undefined,\n  isOneOnOneCall: boolean,\n) => {\n  useEffect(() => {\n    if (!call) return;\n    // always show the remote participant in the spotlight\n    if (isOneOnOneCall) {\n      call.setSortParticipantsBy(combineComparators(screenSharing, loggedIn));\n    } else {\n      call.setSortParticipantsBy(speakerLayoutSortPreset);\n    }\n    return () => {\n      resetSortPreset(call);\n    };\n  }, [call, isOneOnOneCall]);\n};\n\nexport const useRawRemoteParticipants = () => {\n  const { useRawParticipants } = useCallStateHooks();\n  const rawParticipants = useRawParticipants();\n  return useMemo(\n    () => rawParticipants.filter((p) => !p.isLocalParticipant),\n    [rawParticipants],\n  );\n};\n\nconst resetSortPreset = (call: Call) => {\n  // reset the sorting to the default for the call type\n  const callConfig = CallTypes.get(call.type);\n  call.setSortParticipantsBy(\n    callConfig.options.sortParticipantsBy || defaultSortPreset,\n  );\n};\n\nconst loggedIn: Comparator<StreamVideoParticipant> = (a, b) => {\n  if (a.isLocalParticipant) return 1;\n  if (b.isLocalParticipant) return -1;\n  return 0;\n};\n","import clsx from 'clsx';\nimport { useCallback, useEffect, useState } from 'react';\nimport {\n  useCall,\n  useCallStateHooks,\n  useI18n,\n} from '@stream-io/video-react-bindings';\nimport { hasScreenShare } from '@stream-io/video-client';\nimport { ParticipantView, useParticipantViewContext } from '../ParticipantView';\nimport { ParticipantsAudio } from '../Audio';\nimport {\n  usePaginatedLayoutSortPreset,\n  useRawRemoteParticipants,\n} from './hooks';\n\n/**\n * The props for the {@link LivestreamLayout} component.\n */\nexport type LivestreamLayoutProps = {\n  /**\n   * Whether the livestream is muted. Defaults to `false`.\n   */\n  muted?: boolean;\n\n  /**\n   * Whether to show the participant count. Defaults to `true`.\n   */\n  showParticipantCount?: boolean;\n\n  /**\n   * Whether to enable fullscreen mode. Defaults to `true`.\n   */\n  enableFullScreen?: boolean;\n\n  /**\n   * Whether to show the duration of the call. Defaults to `true`.\n   */\n  showDuration?: boolean;\n\n  /**\n   * Whether to show the live badge. Defaults to `true`.\n   */\n  showLiveBadge?: boolean;\n\n  /**\n   * Whether to show the speaker name. Defaults to `false`.\n   */\n  showSpeakerName?: boolean;\n\n  /**\n   * When set to `false` disables mirroring of the local participant's video.\n   * @default true\n   */\n  mirrorLocalParticipantVideo?: boolean;\n\n  /**\n   * The props to pass to the floating participant element.\n   */\n  floatingParticipantProps?: LivestreamLayoutProps & {\n    /**\n     * The position of the floating participant element. Defaults to `top-right`.\n     */\n    position?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n  };\n};\n\nexport const LivestreamLayout = (props: LivestreamLayoutProps) => {\n  const { useParticipants, useHasOngoingScreenShare } = useCallStateHooks();\n  const call = useCall();\n  const participants = useParticipants();\n  const [currentSpeaker] = participants;\n  const remoteParticipants = useRawRemoteParticipants();\n  const hasOngoingScreenShare = useHasOngoingScreenShare();\n  const presenter = hasOngoingScreenShare\n    ? participants.find(hasScreenShare)\n    : undefined;\n\n  usePaginatedLayoutSortPreset(call);\n\n  const overlay = (\n    <ParticipantOverlay\n      showParticipantCount={props.showParticipantCount}\n      showDuration={props.showDuration}\n      showLiveBadge={props.showLiveBadge}\n      showSpeakerName={props.showSpeakerName}\n    />\n  );\n\n  const { floatingParticipantProps, muted } = props;\n  const floatingParticipantOverlay = hasOngoingScreenShare && (\n    <ParticipantOverlay\n      // these elements aren't needed for the video feed\n      showParticipantCount={\n        floatingParticipantProps?.showParticipantCount ?? false\n      }\n      showDuration={floatingParticipantProps?.showDuration ?? false}\n      showLiveBadge={floatingParticipantProps?.showLiveBadge ?? false}\n      showSpeakerName={floatingParticipantProps?.showSpeakerName ?? true}\n    />\n  );\n\n  return (\n    <div className=\"str-video__livestream-layout__wrapper\">\n      {!muted && <ParticipantsAudio participants={remoteParticipants} />}\n      {hasOngoingScreenShare && presenter && (\n        <ParticipantView\n          className=\"str-video__livestream-layout__screen-share\"\n          participant={presenter}\n          ParticipantViewUI={overlay}\n          trackType=\"screenShareTrack\"\n          muteAudio // audio is rendered by ParticipantsAudio\n        />\n      )}\n      {currentSpeaker && (\n        <ParticipantView\n          className={clsx(\n            hasOngoingScreenShare &&\n              clsx(\n                'str-video__livestream-layout__floating-participant',\n                `str-video__livestream-layout__floating-participant--${\n                  floatingParticipantProps?.position ?? 'top-right'\n                }`,\n              ),\n          )}\n          participant={currentSpeaker}\n          ParticipantViewUI={floatingParticipantOverlay || overlay}\n          mirror={\n            props.mirrorLocalParticipantVideo !== false ? undefined : false\n          }\n          muteAudio // audio is rendered by ParticipantsAudio\n        />\n      )}\n    </div>\n  );\n};\n\nLivestreamLayout.displayName = 'LivestreamLayout';\n\n/**\n * The props for the {@link LivestreamLayout} component.\n */\nexport type BackstageLayoutProps = {\n  /**\n   * Whether to show the counter for participants that joined before\n   * the livestream went live. Defaults to `true`.\n   */\n  showEarlyParticipantCount?: boolean;\n};\n\nexport const BackstageLayout = (props: BackstageLayoutProps) => {\n  const { showEarlyParticipantCount = true } = props;\n  const { useParticipantCount, useCallStartsAt } = useCallStateHooks();\n  const participantCount = useParticipantCount();\n  const startsAt = useCallStartsAt();\n  const { t } = useI18n();\n\n  return (\n    <div className=\"str-video__livestream-layout__wrapper\">\n      <div className=\"str-video__livestream-layout__backstage\">\n        {startsAt && (\n          <span className=\"str-video__livestream-layout__starts-at\">\n            {startsAt.getTime() < Date.now()\n              ? t('Livestream starts soon')\n              : t('Livestream starts at {{ startsAt }}', { startsAt })}\n          </span>\n        )}\n        {showEarlyParticipantCount && (\n          <span className=\"str-video__livestream-layout__early-viewers-count\">\n            {t('{{ count }} participants joined early', {\n              count: participantCount,\n            })}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nBackstageLayout.displayName = 'BackstageLayout';\n\nconst ParticipantOverlay = (props: {\n  enableFullScreen?: boolean;\n  showParticipantCount?: boolean;\n  showDuration?: boolean;\n  showLiveBadge?: boolean;\n  showSpeakerName?: boolean;\n}) => {\n  const {\n    enableFullScreen = true,\n    showParticipantCount = true,\n    showDuration = true,\n    showLiveBadge = true,\n    showSpeakerName = false,\n  } = props;\n  const { participant } = useParticipantViewContext();\n  const { useParticipantCount } = useCallStateHooks();\n  const participantCount = useParticipantCount();\n  const duration = useUpdateCallDuration();\n  const toggleFullScreen = useToggleFullScreen();\n  const { t } = useI18n();\n  return (\n    <div className=\"str-video__livestream-layout__overlay\">\n      <div className=\"str-video__livestream-layout__overlay__bar\">\n        {showLiveBadge && (\n          <span className=\"str-video__livestream-layout__live-badge\">\n            {t('Live')}\n          </span>\n        )}\n        {showParticipantCount && (\n          <span className=\"str-video__livestream-layout__viewers-count\">\n            {participantCount}\n          </span>\n        )}\n        {showSpeakerName && (\n          <span\n            className=\"str-video__livestream-layout__speaker-name\"\n            title={participant.name || participant.userId || ''}\n          >\n            {participant.name || participant.userId || ''}\n          </span>\n        )}\n        {showDuration && (\n          <span className=\"str-video__livestream-layout__duration\">\n            {formatDuration(duration)}\n          </span>\n        )}\n        {enableFullScreen && (\n          <span\n            className=\"str-video__livestream-layout__go-fullscreen\"\n            onClick={toggleFullScreen}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst useUpdateCallDuration = () => {\n  const { useIsCallLive, useCallSession } = useCallStateHooks();\n  const isCallLive = useIsCallLive();\n  const session = useCallSession();\n  const [duration, setDuration] = useState(() => {\n    if (!session || !session.live_started_at) return 0;\n    const liveStartTime = new Date(session.live_started_at);\n    const now = new Date();\n    return Math.floor((now.getTime() - liveStartTime.getTime()) / 1000);\n  });\n\n  useEffect(() => {\n    if (!isCallLive) return;\n    const interval = setInterval(() => {\n      setDuration((d) => d + 1);\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [isCallLive]);\n\n  return duration;\n};\n\nconst useToggleFullScreen = () => {\n  const { participantViewElement } = useParticipantViewContext();\n  const [isFullscreen, setIsFullscreen] = useState(\n    !!document.fullscreenElement,\n  );\n  useEffect(() => {\n    const handler = () => setIsFullscreen(!!document.fullscreenElement);\n    document.addEventListener('fullscreenchange', handler);\n    return () => {\n      document.removeEventListener('fullscreenchange', handler);\n    };\n  }, []);\n  return useCallback(() => {\n    if (isFullscreen) {\n      document.exitFullscreen().catch((err) => {\n        console.error('Failed to exit fullscreen', err);\n      });\n    } else {\n      participantViewElement?.requestFullscreen().catch((err) => {\n        console.error('Failed to enter fullscreen', err);\n      });\n    }\n  }, [isFullscreen, participantViewElement]);\n};\n\nconst formatDuration = (durationInMs: number) => {\n  const days = Math.floor(durationInMs / 86400);\n  const hours = Math.floor(durationInMs / 3600);\n  const minutes = Math.floor((durationInMs % 3600) / 60);\n  const seconds = durationInMs % 60;\n\n  return `${days ? days + ' ' : ''}${hours ? hours + ':' : ''}${\n    minutes < 10 ? '0' : ''\n  }${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { useCall } from '@stream-io/video-react-bindings';\nimport { StreamVideoParticipant } from '@stream-io/video-client';\nimport clsx from 'clsx';\n\nimport {\n  DefaultParticipantViewUI,\n  ParticipantView,\n  ParticipantViewProps,\n} from '../ParticipantView';\nimport { ParticipantsAudio } from '../Audio';\nimport { IconButton } from '../../../components';\nimport { chunk } from '../../../utilities';\nimport {\n  ParticipantFilter,\n  ParticipantPredicate,\n  useFilteredParticipants,\n  usePaginatedLayoutSortPreset,\n  useRawRemoteParticipants,\n} from './hooks';\n\nconst GROUP_SIZE = 16;\n\ntype PaginatedGridLayoutGroupProps = {\n  /**\n   * The group of participants to render.\n   */\n  group: Array<StreamVideoParticipant>;\n} & Pick<\n  ParticipantViewProps,\n  'VideoPlaceholder' | 'PictureInPicturePlaceholder' | 'mirror'\n> &\n  Required<Pick<ParticipantViewProps, 'ParticipantViewUI'>>;\n\nconst PaginatedGridLayoutGroup = ({\n  group,\n  mirror,\n  VideoPlaceholder,\n  PictureInPicturePlaceholder,\n  ParticipantViewUI,\n}: PaginatedGridLayoutGroupProps) => {\n  return (\n    <div\n      className={clsx('str-video__paginated-grid-layout__group', {\n        'str-video__paginated-grid-layout--one': group.length === 1,\n        'str-video__paginated-grid-layout--two-four':\n          group.length >= 2 && group.length <= 4,\n        'str-video__paginated-grid-layout--five-nine':\n          group.length >= 5 && group.length <= 9,\n      })}\n    >\n      {group.map((participant) => (\n        <ParticipantView\n          key={participant.sessionId}\n          participant={participant}\n          muteAudio\n          mirror={mirror}\n          VideoPlaceholder={VideoPlaceholder}\n          PictureInPicturePlaceholder={PictureInPicturePlaceholder}\n          ParticipantViewUI={ParticipantViewUI}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport type PaginatedGridLayoutProps = {\n  /**\n   * The number of participants to display per page.\n   */\n  groupSize?: number;\n\n  /**\n   * Whether to exclude the local participant from the grid.\n   * @default false\n   */\n  excludeLocalParticipant?: boolean;\n\n  /**\n   * Predicate to filter call participants or a filter object.\n   * @example\n   * // With a predicate:\n   * <PaginatedGridLayout\n   *   filterParticipants={p => p.roles.includes('student')}\n   * />\n   * @example\n   * // With a filter object:\n   * <PaginatedGridLayout\n   *   filterParticipants={{\n   *     $or: [\n   *       { roles: { $contains: 'student' } },\n   *       { isPinned: true },\n   *     ],\n   *   }}\n   * />\n   */\n  filterParticipants?: ParticipantPredicate | ParticipantFilter;\n\n  /**\n   * When set to `false` disables mirroring of the local partipant's video.\n   * @default true\n   */\n  mirrorLocalParticipantVideo?: boolean;\n\n  /**\n   * Turns on/off the pagination arrows.\n   * @default true\n   */\n  pageArrowsVisible?: boolean;\n\n  /**\n   * Whether the layout is muted. Defaults to `false`.\n   */\n  muted?: boolean;\n} & Pick<\n  ParticipantViewProps,\n  'ParticipantViewUI' | 'VideoPlaceholder' | 'PictureInPicturePlaceholder'\n>;\n\nexport const PaginatedGridLayout = (props: PaginatedGridLayoutProps) => {\n  const {\n    groupSize = (props.groupSize || 0) > 0\n      ? props.groupSize || GROUP_SIZE\n      : GROUP_SIZE,\n    excludeLocalParticipant = false,\n    filterParticipants,\n    mirrorLocalParticipantVideo = true,\n    pageArrowsVisible = true,\n    VideoPlaceholder,\n    ParticipantViewUI = DefaultParticipantViewUI,\n    PictureInPicturePlaceholder,\n    muted,\n  } = props;\n  const [page, setPage] = useState(0);\n  const [\n    paginatedGridLayoutWrapperElement,\n    setPaginatedGridLayoutWrapperElement,\n  ] = useState<HTMLDivElement | null>(null);\n\n  const call = useCall();\n  const remoteParticipants = useRawRemoteParticipants();\n  const participants = useFilteredParticipants({\n    excludeLocalParticipant,\n    filterParticipants,\n  });\n\n  usePaginatedLayoutSortPreset(call);\n\n  useEffect(() => {\n    if (!paginatedGridLayoutWrapperElement || !call) return;\n\n    const cleanup = call.setViewport(paginatedGridLayoutWrapperElement);\n\n    return () => cleanup();\n  }, [paginatedGridLayoutWrapperElement, call]);\n\n  // only used to render video elements\n  const participantGroups = useMemo(\n    () => chunk(participants, groupSize),\n    [participants, groupSize],\n  );\n\n  const pageCount = participantGroups.length;\n\n  // update page when page count is reduced and selected page no longer exists\n  useEffect(() => {\n    if (page > pageCount - 1) {\n      setPage(Math.max(0, pageCount - 1));\n    }\n  }, [page, pageCount]);\n\n  const selectedGroup = participantGroups[page];\n  const mirror = mirrorLocalParticipantVideo ? undefined : false;\n\n  if (!call) return null;\n\n  return (\n    <div\n      className=\"str-video__paginated-grid-layout__wrapper\"\n      ref={setPaginatedGridLayoutWrapperElement}\n    >\n      {!muted && <ParticipantsAudio participants={remoteParticipants} />}\n      <div className=\"str-video__paginated-grid-layout\">\n        {pageArrowsVisible && pageCount > 1 && (\n          <IconButton\n            icon=\"caret-left\"\n            disabled={page === 0}\n            onClick={() =>\n              setPage((currentPage) => Math.max(0, currentPage - 1))\n            }\n          />\n        )}\n        {selectedGroup && (\n          <PaginatedGridLayoutGroup\n            group={selectedGroup}\n            mirror={mirror}\n            VideoPlaceholder={VideoPlaceholder}\n            ParticipantViewUI={ParticipantViewUI}\n            PictureInPicturePlaceholder={PictureInPicturePlaceholder}\n          />\n        )}\n        {pageArrowsVisible && pageCount > 1 && (\n          <IconButton\n            disabled={page === pageCount - 1}\n            icon=\"caret-right\"\n            onClick={() =>\n              setPage((currentPage) => Math.min(pageCount - 1, currentPage + 1))\n            }\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nPaginatedGridLayout.displayName = 'PaginatedGridLayout';\n","import { useEffect, useState } from 'react';\n\nexport const useCalculateHardLimit = (\n  /**\n   * Element that stretches to 100% of the whole layout component\n   */\n  wrapperElement: HTMLDivElement | null,\n  /**\n   * Element that directly hosts individual `ParticipantView` (or wrapper) elements\n   */\n  hostElement: HTMLDivElement | null,\n  limit?: 'dynamic' | number,\n) => {\n  const [calculatedLimit, setCalculatedLimit] = useState<{\n    vertical: number | null;\n    horizontal: number | null;\n  }>({\n    vertical: typeof limit === 'number' ? limit : null,\n    horizontal: typeof limit === 'number' ? limit : null,\n  });\n\n  useEffect(() => {\n    if (\n      !hostElement ||\n      !wrapperElement ||\n      typeof limit === 'number' ||\n      typeof limit === 'undefined'\n    )\n      return;\n\n    let childWidth: number | null = null;\n    let childHeight: number | null = null;\n\n    const resizeObserver = new ResizeObserver((entries, observer) => {\n      // this part should ideally run as little times as possible\n      // get child measurements and disconnect\n      // does not consider dynamically sized children\n      // this hook is for SpeakerLayout use only, where children in the bar are fixed size\n      if (entries.length > 1) {\n        const child = hostElement.firstChild as HTMLElement | null;\n\n        if (child) {\n          childHeight = child.clientHeight;\n          childWidth = child.clientWidth;\n          observer.unobserve(hostElement);\n        }\n      }\n\n      // keep the state at { vertical: 1, horizontal: 1 }\n      // until we get the proper child measurements\n      if (childHeight === null || childWidth === null) return;\n\n      const vertical = Math.floor(wrapperElement.clientHeight / childHeight);\n      const horizontal = Math.floor(wrapperElement.clientWidth / childWidth);\n\n      setCalculatedLimit((pv) => {\n        if (pv.vertical !== vertical || pv.horizontal !== horizontal)\n          return { vertical, horizontal };\n        return pv;\n      });\n    });\n\n    resizeObserver.observe(wrapperElement);\n    resizeObserver.observe(hostElement);\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [hostElement, limit, wrapperElement]);\n\n  return calculatedLimit;\n};\n","import { useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport { hasScreenShare } from '@stream-io/video-client';\nimport { useCall, useCallStateHooks } from '@stream-io/video-react-bindings';\n\nimport {\n  DefaultParticipantViewUI,\n  ParticipantView,\n  ParticipantViewProps,\n} from '../ParticipantView';\nimport { IconButton } from '../../../components';\nimport {\n  useHorizontalScrollPosition,\n  useVerticalScrollPosition,\n} from '../../../hooks';\nimport {\n  ParticipantFilter,\n  ParticipantPredicate,\n  useFilteredParticipants,\n  useRawRemoteParticipants,\n  useSpeakerLayoutSortPreset,\n} from './hooks';\nimport { useCalculateHardLimit } from '../../hooks/useCalculateHardLimit';\nimport { ParticipantsAudio } from '../Audio';\n\nexport type SpeakerLayoutProps = {\n  /**\n   * The UI to be used for the participant in the spotlight.\n   */\n  ParticipantViewUISpotlight?: ParticipantViewProps['ParticipantViewUI'];\n\n  /**\n   * The UI to be used for the participants in the participants bar.\n   */\n  ParticipantViewUIBar?: ParticipantViewProps['ParticipantViewUI'];\n\n  /**\n   * The position of the participants who are not in focus.\n   * Providing `null` will hide the bar.\n   */\n  participantsBarPosition?: 'top' | 'bottom' | 'left' | 'right' | null;\n\n  /**\n   * Hard limits the number of the participants rendered in the participants bar.\n   * Providing string `dynamic` will calculate hard limit based on screen width/height.\n   */\n  participantsBarLimit?: 'dynamic' | number;\n\n  /**\n   * When set to `true` will exclude the local participant from layout.\n   * @default false\n   */\n  excludeLocalParticipant?: boolean;\n\n  /**\n   * Predicate to filter call participants or a filter object.\n   * @example\n   * // With a predicate:\n   * <SpeakerLayout\n   *   filterParticipants={p => p.roles.includes('student')}\n   * />\n   * @example\n   * // With a filter object:\n   * <SpeakerLayout\n   *   filterParticipants={{\n   *     $or: [\n   *       { roles: { $contains: 'student' } },\n   *       { isPinned: true },\n   *     ],\n   *   }}\n   * />\n   */\n  filterParticipants?: ParticipantPredicate | ParticipantFilter;\n\n  /**\n   * When set to `false` disables mirroring of the local participant's video.\n   * @default true\n   */\n  mirrorLocalParticipantVideo?: boolean;\n\n  /**\n   * Turns on/off the pagination arrows.\n   * @default true\n   */\n  pageArrowsVisible?: boolean;\n\n  /**\n   * Whether the layout is muted. Defaults to `false`.\n   */\n  muted?: boolean;\n} & Pick<\n  ParticipantViewProps,\n  'VideoPlaceholder' | 'PictureInPicturePlaceholder'\n>;\n\nconst DefaultParticipantViewUIBar = () => (\n  <DefaultParticipantViewUI menuPlacement=\"top-end\" />\n);\n\nexport const SpeakerLayout = ({\n  ParticipantViewUIBar = DefaultParticipantViewUIBar,\n  ParticipantViewUISpotlight = DefaultParticipantViewUI,\n  VideoPlaceholder,\n  PictureInPicturePlaceholder,\n  participantsBarPosition = 'bottom',\n  participantsBarLimit,\n  mirrorLocalParticipantVideo = true,\n  excludeLocalParticipant = false,\n  filterParticipants,\n  pageArrowsVisible = true,\n  muted,\n}: SpeakerLayoutProps) => {\n  const call = useCall();\n  const { useParticipants } = useCallStateHooks();\n  const allParticipants = useParticipants();\n  const remoteParticipants = useRawRemoteParticipants();\n  const [participantInSpotlight, ...otherParticipants] =\n    useFilteredParticipants({ excludeLocalParticipant, filterParticipants });\n  const [participantsBarWrapperElement, setParticipantsBarWrapperElement] =\n    useState<HTMLDivElement | null>(null);\n  const [participantsBarElement, setParticipantsBarElement] =\n    useState<HTMLDivElement | null>(null);\n  const [buttonsWrapperElement, setButtonsWrapperElement] =\n    useState<HTMLDivElement | null>(null);\n\n  const isSpeakerScreenSharing =\n    participantInSpotlight && hasScreenShare(participantInSpotlight);\n  const hardLimit = useCalculateHardLimit(\n    buttonsWrapperElement,\n    participantsBarElement,\n    participantsBarLimit,\n  );\n\n  const isVertical =\n    participantsBarPosition === 'left' || participantsBarPosition === 'right';\n  const isHorizontal =\n    participantsBarPosition === 'top' || participantsBarPosition === 'bottom';\n\n  useEffect(() => {\n    if (!participantsBarWrapperElement || !call) return;\n\n    const cleanup = call.setViewport(participantsBarWrapperElement);\n\n    return () => cleanup();\n  }, [participantsBarWrapperElement, call]);\n\n  const isOneOnOneCall = allParticipants.length === 2;\n  useSpeakerLayoutSortPreset(call, isOneOnOneCall);\n\n  let participantsWithAppliedLimit = otherParticipants;\n\n  const hardLimitToApply = isVertical\n    ? hardLimit.vertical\n    : hardLimit.horizontal;\n\n  if (\n    typeof participantsBarLimit !== 'undefined' &&\n    hardLimitToApply !== null\n  ) {\n    participantsWithAppliedLimit = otherParticipants.slice(\n      0,\n      // subtract 1 if speaker is sharing screen as\n      // that one is rendered independently from otherParticipants array\n      hardLimitToApply - (isSpeakerScreenSharing ? 1 : 0),\n    );\n  }\n\n  const mirror = mirrorLocalParticipantVideo ? undefined : false;\n\n  if (!call) return null;\n\n  const renderParticipantsBar =\n    participantsBarPosition &&\n    (participantsWithAppliedLimit.length > 0 || isSpeakerScreenSharing);\n  return (\n    <div className=\"str-video__speaker-layout__wrapper\">\n      {!muted && <ParticipantsAudio participants={remoteParticipants} />}\n      <div\n        className={clsx(\n          'str-video__speaker-layout',\n          participantsBarPosition &&\n            `str-video__speaker-layout--variant-${participantsBarPosition}`,\n        )}\n      >\n        <div className=\"str-video__speaker-layout__spotlight\">\n          {participantInSpotlight && (\n            <ParticipantView\n              participant={participantInSpotlight}\n              muteAudio={true}\n              mirror={mirror}\n              trackType={\n                isSpeakerScreenSharing ? 'screenShareTrack' : 'videoTrack'\n              }\n              ParticipantViewUI={ParticipantViewUISpotlight}\n              VideoPlaceholder={VideoPlaceholder}\n              PictureInPicturePlaceholder={PictureInPicturePlaceholder}\n            />\n          )}\n        </div>\n        {renderParticipantsBar && (\n          <div\n            ref={setButtonsWrapperElement}\n            className=\"str-video__speaker-layout__participants-bar-buttons-wrapper\"\n          >\n            <div\n              className=\"str-video__speaker-layout__participants-bar-wrapper\"\n              ref={setParticipantsBarWrapperElement}\n            >\n              <div\n                ref={setParticipantsBarElement}\n                className=\"str-video__speaker-layout__participants-bar\"\n              >\n                {isSpeakerScreenSharing && (\n                  <div\n                    className=\"str-video__speaker-layout__participant-tile\"\n                    key={participantInSpotlight.sessionId}\n                  >\n                    <ParticipantView\n                      participant={participantInSpotlight}\n                      ParticipantViewUI={ParticipantViewUIBar}\n                      VideoPlaceholder={VideoPlaceholder}\n                      PictureInPicturePlaceholder={PictureInPicturePlaceholder}\n                      mirror={mirror}\n                      muteAudio={true}\n                    />\n                  </div>\n                )}\n                {participantsWithAppliedLimit.map((participant) => (\n                  <div\n                    className=\"str-video__speaker-layout__participant-tile\"\n                    key={participant.sessionId}\n                  >\n                    <ParticipantView\n                      participant={participant}\n                      ParticipantViewUI={ParticipantViewUIBar}\n                      VideoPlaceholder={VideoPlaceholder}\n                      PictureInPicturePlaceholder={PictureInPicturePlaceholder}\n                      mirror={mirror}\n                      muteAudio={true}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n            {pageArrowsVisible && isVertical && (\n              <VerticalScrollButtons\n                scrollWrapper={participantsBarWrapperElement}\n              />\n            )}\n            {pageArrowsVisible && isHorizontal && (\n              <HorizontalScrollButtons\n                scrollWrapper={participantsBarWrapperElement}\n              />\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nSpeakerLayout.displayName = 'SpeakerLayout';\n\ntype ScrollButtonsProps<T extends HTMLElement> = {\n  scrollWrapper: T | null;\n};\n\nconst HorizontalScrollButtons = <T extends HTMLElement>({\n  scrollWrapper,\n}: ScrollButtonsProps<T>) => {\n  const scrollPosition = useHorizontalScrollPosition(scrollWrapper);\n\n  const scrollStartClickHandler = () => {\n    scrollWrapper?.scrollBy({ left: -150, behavior: 'smooth' });\n  };\n\n  const scrollEndClickHandler = () => {\n    scrollWrapper?.scrollBy({ left: 150, behavior: 'smooth' });\n  };\n  return (\n    <>\n      {scrollPosition && scrollPosition !== 'start' && (\n        <IconButton\n          onClick={scrollStartClickHandler}\n          icon=\"caret-left\"\n          className=\"str-video__speaker-layout__participants-bar--button-left\"\n        />\n      )}\n      {scrollPosition && scrollPosition !== 'end' && (\n        <IconButton\n          onClick={scrollEndClickHandler}\n          icon=\"caret-right\"\n          className=\"str-video__speaker-layout__participants-bar--button-right\"\n        />\n      )}\n    </>\n  );\n};\n\nconst VerticalScrollButtons = <T extends HTMLElement>({\n  scrollWrapper,\n}: ScrollButtonsProps<T>) => {\n  const scrollPosition = useVerticalScrollPosition(scrollWrapper);\n\n  const scrollTopClickHandler = () => {\n    scrollWrapper?.scrollBy({ top: -150, behavior: 'smooth' });\n  };\n\n  const scrollBottomClickHandler = () => {\n    scrollWrapper?.scrollBy({ top: 150, behavior: 'smooth' });\n  };\n  return (\n    <>\n      {scrollPosition && scrollPosition !== 'top' && (\n        <IconButton\n          onClick={scrollTopClickHandler}\n          icon=\"caret-up\"\n          className=\"str-video__speaker-layout__participants-bar--button-top\"\n        />\n      )}\n      {scrollPosition && scrollPosition !== 'bottom' && (\n        <IconButton\n          onClick={scrollBottomClickHandler}\n          icon=\"caret-down\"\n          className=\"str-video__speaker-layout__participants-bar--button-bottom\"\n        />\n      )}\n    </>\n  );\n};\n","import { useCall, useI18n } from '@stream-io/video-react-bindings';\nimport { useEffect, useState } from 'react';\n\nimport { hasScreenShare } from '@stream-io/video-client';\nimport { Icon } from '../../../components';\nimport { ParticipantsAudio } from '../Audio';\nimport {\n  DefaultParticipantViewUI,\n  ParticipantView,\n  ParticipantViewProps,\n} from '../ParticipantView';\nimport {\n  ParticipantFilter,\n  ParticipantPredicate,\n  useFilteredParticipants,\n  usePaginatedLayoutSortPreset,\n  useRawRemoteParticipants,\n} from './hooks';\n\nexport type PipLayoutProps = {\n  /**\n   * Whether to exclude the local participant from the grid.\n   * @default false\n   */\n  excludeLocalParticipant?: boolean;\n\n  /**\n   * Predicate to filter call participants or a filter object.\n   * @example\n   * // With a predicate:\n   * <PipLayout\n   *   filterParticipants={p => p.roles.includes('student')}\n   * />\n   * @example\n   * // With a filter object:\n   * <PipLayout\n   *   filterParticipants={{\n   *     $or: [\n   *       { roles: { $contains: 'student' } },\n   *       { isPinned: true },\n   *     ],\n   *   }}\n   * />\n   */\n  filterParticipants?: ParticipantPredicate | ParticipantFilter;\n\n  /**\n   * When set to `false` disables mirroring of the local partipant's video.\n   * @default true\n   */\n  mirrorLocalParticipantVideo?: boolean;\n} & Pick<ParticipantViewProps, 'ParticipantViewUI' | 'VideoPlaceholder'>;\n\nconst Pip = (props: PipLayoutProps) => {\n  const { t } = useI18n();\n  const {\n    excludeLocalParticipant = false,\n    filterParticipants,\n    mirrorLocalParticipantVideo = true,\n    VideoPlaceholder,\n    ParticipantViewUI = DefaultParticipantViewUI,\n  } = props;\n  const [layoutWrapperElement, setLayoutWrapperElement] =\n    useState<HTMLDivElement | null>(null);\n\n  const call = useCall();\n  const participants = useFilteredParticipants({\n    excludeLocalParticipant,\n    filterParticipants,\n  });\n  const screenSharingParticipant = participants.find((p) => hasScreenShare(p));\n\n  usePaginatedLayoutSortPreset(call);\n\n  useEffect(() => {\n    if (!layoutWrapperElement || !call) return;\n    return call.setViewport(layoutWrapperElement);\n  }, [layoutWrapperElement, call]);\n\n  const mirror = mirrorLocalParticipantVideo ? undefined : false;\n\n  if (!call) return null;\n\n  return (\n    <div className=\"str-video__pip-layout\" ref={setLayoutWrapperElement}>\n      {screenSharingParticipant &&\n        (screenSharingParticipant.isLocalParticipant ? (\n          <div className=\"str-video__pip-screen-share-local\">\n            <Icon icon=\"screen-share-off\" />\n            <span className=\"str-video__pip-screen-share-local__title\">\n              {t('You are presenting your screen')}\n            </span>\n          </div>\n        ) : (\n          <ParticipantView\n            participant={screenSharingParticipant}\n            trackType=\"screenShareTrack\"\n            muteAudio\n            mirror={false}\n            VideoPlaceholder={VideoPlaceholder}\n            ParticipantViewUI={ParticipantViewUI}\n          />\n        ))}\n      {participants.map((participant) => (\n        <ParticipantView\n          key={participant.sessionId}\n          participant={participant}\n          muteAudio\n          mirror={mirror}\n          VideoPlaceholder={VideoPlaceholder}\n          ParticipantViewUI={ParticipantViewUI}\n        />\n      ))}\n    </div>\n  );\n};\n\nPip.displayName = 'PipLayout.Pip';\n\nconst Host = () => {\n  const remoteParticipants = useRawRemoteParticipants();\n  return <ParticipantsAudio participants={remoteParticipants} />;\n};\n\nHost.displayName = 'PipLayout.Host';\n\nexport const PipLayout = { Pip, Host };\n","import { PropsWithChildren, useEffect, useState } from 'react';\nimport { Call, CallingState } from '@stream-io/video-client';\nimport {\n  useCall,\n  useCallStateHooks,\n  useEffectEvent,\n  useStreamVideoClient,\n} from '@stream-io/video-react-bindings';\nimport {\n  BackstageLayout,\n  BackstageLayoutProps,\n  LivestreamLayout,\n  LivestreamLayoutProps,\n  StreamCall,\n} from '../../core';\n\nexport type LivestreamPlayerProps = {\n  /**\n   * The call type. Usually `livestream`.\n   */\n  callType: string;\n  /**\n   * The call ID.\n   */\n  callId: string;\n  /**\n   * Determines when the viewer joins the call.\n   *\n   * `\"asap\"` behavior means joining the call as soon as it is possible\n   * (either the `join_ahead_time_seconds` setting allows it, or the user\n   * has the capability to join backstage).\n   *\n   * `\"live\"` behavior means joining the call when it goes live.\n   *\n   * @default \"asap\"\n   */\n  joinBehavior?: 'asap' | 'live';\n  /**\n   * The props for the {@link LivestreamLayout} component.\n   */\n  layoutProps?: LivestreamLayoutProps;\n  /**\n   * The props for the {@link BackstageLayout} component.\n   */\n  backstageProps?: BackstageLayoutProps;\n  /**\n   * Callback to handle errors while fetching or joining livestream.\n   */\n  onError?: (error: any) => void;\n};\n\nexport const LivestreamPlayer = (\n  props: PropsWithChildren<LivestreamPlayerProps>,\n) => {\n  const { callType, callId, children, ...restProps } = props;\n  const client = useStreamVideoClient();\n  const [call, setCall] = useState<Call>();\n  const onError = useEffectEvent(props.onError ?? (() => {}));\n\n  useEffect(() => {\n    if (!client) return;\n    const myCall = client.call(callType, callId);\n    setCall(myCall);\n    myCall.get().catch((e) => {\n      console.error('Failed to fetch call', e);\n      onError(e);\n    });\n    return () => {\n      myCall.leave().catch((e) => {\n        console.error('Failed to leave call', e);\n      });\n      setCall(undefined);\n    };\n  }, [callId, callType, client]);\n\n  if (!call) {\n    return null;\n  }\n\n  return (\n    <StreamCall call={call}>\n      <LivestreamCall {...restProps} />\n      {children}\n    </StreamCall>\n  );\n};\n\nconst LivestreamCall = (props: {\n  joinBehavior?: 'asap' | 'live';\n  layoutProps?: LivestreamLayoutProps;\n  backstageProps?: BackstageLayoutProps;\n  onError?: (error: any) => void;\n}) => {\n  const call = useLivestreamCall(props);\n  const { useIsCallLive } = useCallStateHooks();\n  const isLive = useIsCallLive();\n\n  if (!call) return null;\n\n  if (isLive) {\n    return <LivestreamLayout {...props.layoutProps} />;\n  }\n\n  return <BackstageLayout {...props.backstageProps} />;\n};\n\nconst useLivestreamCall = (props: {\n  joinBehavior?: 'asap' | 'live';\n  onError?: (error: any) => void;\n}) => {\n  const call = useCall();\n  const { useIsCallLive, useOwnCapabilities } = useCallStateHooks();\n  const canJoinLive = useIsCallLive();\n  const canJoinEarly = useCanJoinEarly();\n  const canJoinBackstage =\n    useOwnCapabilities()?.includes('join-backstage') ?? false;\n  const canJoinAsap = canJoinLive || canJoinEarly || canJoinBackstage;\n  const joinBehavior = props.joinBehavior ?? 'asap';\n  const canJoin =\n    (joinBehavior === 'asap' && canJoinAsap) ||\n    (joinBehavior === 'live' && canJoinLive);\n  const onError = useEffectEvent(props.onError ?? (() => {}));\n\n  useEffect(() => {\n    if (call && call.state.callingState === CallingState.IDLE && canJoin) {\n      call.join().catch((e) => {\n        console.error('Failed to join call', e);\n        onError(e);\n      });\n    }\n  }, [call, canJoin]);\n\n  return call;\n};\n\nconst useCanJoinEarly = () => {\n  const { useCallStartsAt, useCallSettings } = useCallStateHooks();\n  const startsAt = useCallStartsAt();\n  const settings = useCallSettings();\n  const joinAheadTimeSeconds = settings?.backstage.join_ahead_time_seconds;\n  const [canJoinEarly, setCanJoinEarly] = useState(() =>\n    checkCanJoinEarly(startsAt, joinAheadTimeSeconds),\n  );\n\n  useEffect(() => {\n    if (!canJoinEarly) {\n      const handle = setInterval(() => {\n        setCanJoinEarly(checkCanJoinEarly(startsAt, joinAheadTimeSeconds));\n      }, 1000);\n\n      return () => clearInterval(handle);\n    }\n  }, [canJoinEarly, startsAt, joinAheadTimeSeconds]);\n\n  return canJoinEarly;\n};\n\nconst checkCanJoinEarly = (\n  startsAt: Date | undefined,\n  joinAheadTimeSeconds: number | undefined,\n) => {\n  if (!startsAt) {\n    return false;\n  }\n\n  return Date.now() >= +startsAt - (joinAheadTimeSeconds ?? 0) * 1000;\n};\n","import { setSdkInfo, SfuModels } from '@stream-io/video-client';\n\nexport * from '@stream-io/video-client';\nexport * from '@stream-io/video-react-bindings';\n\nexport * from './src/core';\n\nexport * from './src/components';\nexport * from './src/wrappers';\nexport * from './src/translations';\nexport {\n  useHorizontalScrollPosition,\n  useVerticalScrollPosition,\n  useRequestPermission,\n  usePersistedDevicePreferences,\n  useDeviceList,\n} from './src/hooks';\nexport { applyFilter, type Filter } from './src/utilities/filter';\n\nconst [major, minor, patch] = (\n  process.env.PKG_VERSION || '0.0.0-development'\n).split('.');\n\nsetSdkInfo({\n  type: SfuModels.SdkType.REACT,\n  major,\n  minor,\n  patch,\n});\n"],"names":["_jsx","_jsxs","Fragment","_Fragment","Video","ToggleButton","LoadingIndicator","DefaultLoadingIndicator","CallRecordingListHeader","DefaultCallRecordingListHeader","CallRecordingListItem","DefaultCallRecordingListItem","DefaultEmptyCallRecordingList","DefaultLoadingCallRecordingList","ParticipantActionsContextMenu","DefaultParticipantActionsContextMenu"],"mappings":"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","debugId":null}}]
}